<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="C++ 基础 - 笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="C++">
<meta property="og:url" content="http://example.com/2022/08/08/C/index.html">
<meta property="og:site_name" content="调查处的007">
<meta property="og:description" content="C++ 基础 - 笔记">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2022/08/08/C/jichengmethod.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/modellayout.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/modellayyout01.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/file.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/Cpromotrtest.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/STL.0.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/STL.0-16630694179894.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/string2.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/string1.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/string4.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/string6.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/string0.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/string3.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/vector00.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/vector0.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/vector1.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/vector2.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/deque.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/deque1.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/deque2.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/deque3.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/STLanli.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/stack0.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/stack1.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/queue0.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/queue1.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/list0.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/list1.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/list2.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/list3.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/set.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/set1.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/pair.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/map.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/map1.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/hanshuduixiang.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/hanshuduixiang1.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/hanshuduixiang2.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/hanshuduixiang3.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/algorithmpng.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/algorithmpng1.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/algorithmpng2.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/algorithmpng3.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/find1.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/sort.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/copy-replace.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/setintersection.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/set_union.png">
<meta property="og:image" content="http://example.com/2022/08/08/C/set_diffenrence.png">
<meta property="article:published_time" content="2022-08-08T10:08:01.000Z">
<meta property="article:modified_time" content="2022-10-13T03:26:55.881Z">
<meta property="article:author" content="John Chen">
<meta property="article:tag" content="语言">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2022/08/08/C/jichengmethod.png">

<link rel="canonical" href="http://example.com/2022/08/08/C/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>C++ | 调查处的007</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">调查处的007</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/08/08/C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/awa.png">
      <meta itemprop="name" content="John Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="调查处的007">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          C++
        </h1>

        <div class="post-meta">
          
             <i class="fa fa-thumb-tack"></i>
             <font color=7D26CD>置顶</font>
             <span class="post-meta-divider">|</span>
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-08-08 18:08:01" itemprop="dateCreated datePublished" datetime="2022-08-08T18:08:01+08:00">2022-08-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-13 11:26:55" itemprop="dateModified" datetime="2022-10-13T11:26:55+08:00">2022-10-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>120k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1:49</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>C++ 基础 - 笔记</p>
<span id="more"></span>

<h1 id="C-基本概念"><a href="#C-基本概念" class="headerlink" title="C++基本概念"></a>C++基本概念</h1><p>C++框架：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">​            <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">​            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注释：用来解释代码的作用</p>
<p>单行注释： &#x2F;&#x2F; （两个斜杠）</p>
<p>多行注释： &#x2F;*          *&#x2F;</p>
<h2 id="变量及常量"><a href="#变量及常量" class="headerlink" title="变量及常量"></a>变量及常量</h2><p>变量是用来存放内容的一个地址</p>
<p>语法格式： 数据类型 变量名 &#x3D; 初始化值;  如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int a = 10；</span><br></pre></td></tr></table></figure>

<p>常量是不可改变的量：如血型、固定的数值等等 ；常量又有 #define 定义的常量和const 修饰的常变量</p>
<p>#define定义的常量： #define 常量名 常量值 </p>
<p>const修饰的常变量：const int mouth &#x3D; 12；</p>
<p> 都是不可改变的量。</p>
<h2 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h2><p>用来标识一个实体的某个符号。标识符的命名规则：</p>
<p>（1）标识符不能是关键字</p>
<p>（2）标识符由数字、字母、下划线构成</p>
<p>（3）标识符第一个字符只能是字母和下划线，不能是数字</p>
<p>（4）标识符区分大小写</p>
<p>给变量起名的时候最好能够做到见名知意！ – 方便自己和他人阅读代码</p>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>在创建一个变量或常量时，必须指明数据类型，否则无法分配内存空间，选用合适的数据类型能更好的分配内存空间。</p>
<p>（1）整型：表示整数的数据类型</p>
<p>int 整型 - 占4字节 ， short 短整型  -占2字节 （-32768 - 32767），long 长整型 windows占4字节，linux 32位系统下 占4字节，64位系统下占8字节。  longlong 长长整型 - 占8字节。</p>
<p>（2）sizeof 关键字</p>
<p>利用sizeof可以计算数据类型所占内存空间大小，单位：字节</p>
<p>语法： sizeof（数据类型 或 变量）；</p>
<p>整型大小的比较： short &lt; int &lt; &#x3D; long &lt;&#x3D; long long</p>
<p>扩展一下： 计算机中的最小单位是 比特位 - bit 。8个比特位占1个字节，</p>
<p>（3）实型（浮点型）</p>
<p>表示小数； 分为单精度浮点型 float 和双精度浮点型 double；默认情况下，输出一个小数，会显示6位有效数字。</p>
<p>（4）字符型</p>
<p>用于显示单个字符；字符要用单引号括起来，并且只能包含一个字符； 创建：char ch &#x3D; ‘ a ’ ;</p>
<p>字符型变量对应ASCII值 a - 97 ； A  - 65.</p>
<p>（5）字符串型</p>
<p>用于表示一串字符， 字符串要用双引号括起来；有两种风格：C语言 和 C++ 风格</p>
<p>C语言： char ch[ ] &#x3D; “ abcde   “; </p>
<p>C++风格： string ch &#x3D; “ abcde”; </p>
<p>C语言风格是采用字符数组来存放字符串，C++风格需要引用头文件 string；相对于C语言风格较为简便</p>
<p>语法格式： 类型 变量名 &#x3D; “初值” ；</p>
<p> （6）转义字符</p>
<p>用于表示一些不能显示出来的ASCII字符</p>
<p>\n 换行符：用户换行 cout &lt;&lt;”aa\n” ;</p>
<p>\ 反斜杠：用来转变原本的含义</p>
<p>\t  水平制表符：占八个字节，用来保持水平、对齐</p>
<p>（7）布尔类型</p>
<p>表示 真 或 假 的值； bool 本质上 1代表真值，0表示为假</p>
<p>true 表示为真， false 表示为假； 如：bool 变量名 &#x3D; true 或 false ； bool flag  &#x3D; true ；bool类型所占的空间大小为1字节。</p>
<p>（8）数据的输入和输出</p>
<p>关键字： cout  、 cin</p>
<p>格式： cout  &lt;&lt; “ “ &lt;&lt; endl;  – endl表示换行 ;   cin  &gt;&gt; 变量名； 如 : cin  &gt;&gt; flag;</p>
<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><p>用于执行代码的运算；分为算术运算符、比较运算符、赋值运算符、逻辑运算符。</p>
<p>（1）算术运算符</p>
<p>+、-、*、&#x2F; ；两个数相除 ，除数不可以为0；两个小数可以相除，运算的结果也可以是小数。</p>
<p>取模运算：%    ； 两个数相除，除数不可以为0，不然做不了取模运算；取模运算本质上是先进行除法再去余数。</p>
<p>递增递减： ++ 、 - - ； 分为前置++ 、前置 - -、后置++、 后置–； 前置++是先加加再使用</p>
<p>后置加加是先使用后加加，前置- - 是先减再使用，后置 - - 是先使用后减。</p>
<figure class="highlight cc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="type">int</span> a = <span class="number">10</span>;  <span class="type">int</span> b = <span class="number">20</span>;  </span><br><span class="line"></span><br><span class="line"> <span class="type">int</span> c = a++ ; <span class="type">int</span>  d =  ++ a;  <span class="comment">// 此处c 的结果是 10 ，a是11. d的结果是11 .</span></span><br><span class="line"></span><br><span class="line">​             <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<p>（2）赋值运算符</p>
<p>&#x3D; 、+&#x3D;、-&#x3D;、*&#x3D;、&#x2F;&#x3D; 、 %&#x3D; ； 如： a+&#x3D; 2;  实际上是 ： a &#x3D; a + 2; 其它赋值运算符以此类推。</p>
<p>（3）比较运算符</p>
<p>用于表达式的比较，并返回一个真值或假值。 &#x3D;&#x3D; 、！&#x3D;、&lt;&#x3D;、 &gt;&#x3D; 、&lt;、&gt;</p>
<p>（4）逻辑运算符</p>
<p>逻辑非： ！ – 如： ！a ，如果a为真，！a就表示假，a为假，！a就为真；本质上是相反的。</p>
<p>逻辑与：&amp;&amp; – a &amp;&amp; b 表示： 如果a、b为真，那表达式结果为真，否则为假，</p>
<p>逻辑或： ||  – a || b 表示: 如果a或b有一个为真，则结果为真，只有两个为假的时候，结果为假。</p>
<figure class="highlight cc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">​       <span class="type">int</span>  a = <span class="number">10</span>; <span class="type">char</span> c = <span class="string">&#x27;a&#x27;</span> ; <span class="type">float</span>   b = <span class="number">8.8</span>;  string ch = <span class="string">&quot;abcde&quot;</span> ; <span class="type">char</span> cha[] = <span class="string">&quot;ABCDE&quot;</span>;</span><br><span class="line"></span><br><span class="line"> <span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="string">&quot; a = &quot;</span>  &lt;&lt; a &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> w ; </span><br><span class="line"></span><br><span class="line">cin &gt;&gt; w;  </span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="string">&quot; w = &quot;</span> &lt;&lt; w &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> c = a ++ ; </span><br><span class="line"></span><br><span class="line"><span class="type">int</span> t  = a&amp;&amp; c ;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt;  c &lt;&lt; <span class="string">&quot; &quot;</span>  &lt;&lt;  t &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">return0;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="程序流程结构"><a href="#程序流程结构" class="headerlink" title="程序流程结构"></a>程序流程结构</h1><h2 id="选择结构"><a href="#选择结构" class="headerlink" title="选择结构"></a>选择结构</h2><p>if、else 、else if ； if可以分为单行和多行，也可以进行嵌套使用.</p>
<p>案例:输入考试分数，如果大于600分，视为考上一本大学，否则未考上一本大学，在屏幕上输出<br>如果大于500 分， 视为考上二本大学，在屏幕上输出； 如果大于400分，视为考上三本大学，在屏幕上输出;如果小于等于400分，视为未考上本科大学，在屏幕上输出。在一本分数线中，如果考了700分 则考上北大，考了650 分考上清华， 考了600 上人大。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;请输入考试分数： &quot;</span> &lt;&lt;endl;</span><br><span class="line">    <span class="type">int</span> score = <span class="number">0</span>;</span><br><span class="line">    cin &gt;&gt; score;</span><br><span class="line">    <span class="keyword">if</span>(score &gt; <span class="number">600</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;考上一本大学&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">if</span>(score &gt; <span class="number">700</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt;<span class="string">&quot;能上北大&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(score &gt;<span class="number">650</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;能上清华&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt;<span class="string">&quot;能上人大&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(score &gt; <span class="number">500</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;考上二本大学&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(score &gt;<span class="number">400</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;考上三本大学&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;继续努力&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>switch:执行多条件分支语句；语法： switch（整型表达式）{ case:整型表达式 语句 ; break ;}</p>
<p>case是匹配 、 break 跳出循环，default 默认 ； continue跳过本行之后的代码重新回到循环判断部分再进行循环。</p>
<p>案例：利用switch语句给电影打分</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;请输入评分： &quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="type">int</span> score = <span class="number">0</span>;</span><br><span class="line">    cin &gt;&gt; score;</span><br><span class="line">    <span class="keyword">switch</span>(score)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;你认为电影非常经典&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">9</span>:</span><br><span class="line">            cout &lt;&lt;<span class="string">&quot;你认为电影很好&quot;</span>  &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;你认为电影还可以&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;你认为电影一般&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;还说得过去&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> if 和 switch 的区别：</p>
<p>（1）switch（）括号内判断时只能是一个整数或者一个字符型，不能是一个区间。</p>
<p>（2）switch的结构清晰，代码效率高。</p>
<h2 id="三目运算符"><a href="#三目运算符" class="headerlink" title="三目运算符"></a>三目运算符</h2><p>语法：表达式1 ？表达式2 ：表达式3 ； 如表达式1为真，则返回表达式2的结果，否则返回表达式3的结果。</p>
<p>在C++中三目运算符返回的是变量，可以继续赋值。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a =<span class="number">10</span> ;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">20</span>;</span><br><span class="line">    <span class="type">int</span> c = a &gt; b  ? a : b;  <span class="comment">//此处返回的是b的值。因为a&gt;b不成立。</span></span><br><span class="line">    <span class="type">int</span> s = (a&lt;b ? a : b) =  <span class="number">100</span>; <span class="comment">// 此处返回的是a的值，因为a是变量，通过赋值操作给a赋值为100 s自然也是100</span></span><br><span class="line">    <span class="comment">// 此表达式结果： s = a = 100; 返回的是a，然后再将其赋值100</span></span><br><span class="line">    cout &lt;&lt; a &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; b &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; c &lt;&lt;<span class="string">&quot; &quot;</span> &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="循环结构"><a href="#循环结构" class="headerlink" title="循环结构"></a>循环结构</h2><p>（1）while循环</p>
<p>语法： while（条件）{ 语句} ;条件为真执行，为假跳出。break关键字用于跳出循环或switch。</p>
<p>练习案例：猜数字游戏,利用rand（）函数产生随机数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">game</span><span class="params">( <span class="type">int</span> num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(num &gt; temp)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;猜大了，请重新猜&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(num &lt; temp)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;猜小了，请重新猜&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;恭喜你，猜对了&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//随机数种子</span></span><br><span class="line">    <span class="built_in">srand</span>((<span class="type">unsigned</span> <span class="type">int</span>)<span class="built_in">time</span>(<span class="literal">NULL</span>)); <span class="comment">// 需要引用头文件 ctime</span></span><br><span class="line">    <span class="type">int</span> temp = <span class="built_in">rand</span>()%<span class="number">100</span> + <span class="number">1</span>; <span class="comment">//rand函数产生随机数，要利用随机数种子，不然每次的数字都不会变化，随机数种子通过系统的时间来生成随机数</span></span><br><span class="line">    <span class="comment">// 注意： 产生的随机数不能放在循环内部，不然每次进入循环都会产生一个新的随机数,这样除了第一次猜中之外，永远都猜不到</span></span><br><span class="line">    <span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;请输入数字： &quot;</span> &lt;&lt; endl;</span><br><span class="line">    cin &gt;&gt; num;</span><br><span class="line">    <span class="built_in">game</span>(num); <span class="comment">// 游戏的实现</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>（2）do while 循环</p>
<p>语法： do（循环语句；） while（循环条件）；  – while后面的分号必须加上。</p>
<p>案例：水仙花数：水仙花数是一个3位数，它的每个位上的数字的3次幂之和等于它本身</p>
<p>如：1^3 + 5^3+3^3 &#x3D; 153; 利用do while 循环求出所有3位数中的水仙花数。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//首先求出每个位上的数字</span></span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">100</span>; i &lt; <span class="number">1000</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> a = i%<span class="number">10</span> ;     <span class="comment">// 求个位上的数</span></span><br><span class="line">        <span class="type">int</span> b = i /<span class="number">10</span>%<span class="number">10</span>;  <span class="comment">// 求十位上的数</span></span><br><span class="line">        <span class="type">int</span> c = i /<span class="number">100</span> ;   <span class="comment">//求百位上的数</span></span><br><span class="line">            <span class="keyword">if</span>(a *a*a + b*b*b +c*c*c == i)</span><br><span class="line">            &#123;</span><br><span class="line">                cout &lt;&lt; i &lt;&lt; endl;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>do while 和 while 的区别：do while 会先执行一次循环语句。</p>
<p>(3) for 循环</p>
<p>语法： for(表达式1； 表达式2；表达式3) { 循环语句 } ;</p>
<p>练习案例：从1开始到100；如果数字里有7或者数字十位有7或者是7的倍数，我们打印敲桌子，其他书直接全部输出。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;=<span class="number">100</span> ; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(i % <span class="number">10</span> ==<span class="number">7</span> || i / <span class="number">10</span> == <span class="number">7</span> || i %<span class="number">7</span> == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;敲桌子&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            cout &lt;&lt; i &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="跳转语句"><a href="#跳转语句" class="headerlink" title="跳转语句"></a>跳转语句</h2><p>break :用于跳出选择结构或者循环结构。</p>
<p>（1）在switch中 是终止case跳出switch语句。</p>
<p>（2）在循环语句种 是跳出当前的循环语句</p>
<p>（3）在嵌套循环种 是跳出当前循环嵌套的循环语句 – 即内层的循环语句</p>
<p>continue ： 跳过continue本行之后的代码，重新回到循环判断部分进行下一次循环。</p>
<p>goto 语句：可以无条件的跳转代码</p>
<p>语法： goto 标记；  标记：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;1:1111&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;2:2222&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">goto</span> flag ;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;3:3333&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;5:5555&quot;</span> &lt;&lt; endl;</span><br><span class="line">    flag:   <span class="comment">//使用goto之后 会直接跳转到标记处执行之后的代码，在这也就是跳到falg这开始往下执行之后的代码</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;6:6666&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在程序中尽量避免使用goto，以免造成程序的混乱。</p>
<h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><p>数据是一个集合，里面存放的是相同数据类型的元素；</p>
<p>数组的特点：数组中的数据元素都是相同 的类型；数组是由连续的内存空间组成的。</p>
<p>数组的下标是从0开始的，访问数组的元素要利用数组的下标去访问。</p>
<p>语法： 数据类型 数组名[  数组长度 ] &#x3D;{值1，值2…….};</p>
<p>未初始化值，会用0填充剩余的数据。</p>
<p>（1）一维数组</p>
<p>数组名的用途：可以用来统计数组在整个内存中所占的长度；可以获取数组在内存中的首地址</p>
<p>数组名是常量，不可以进行赋值操作。</p>
<p>案例1：五只小猪称体重：在一个数组中记录了五只小猪的体重，找出并打印最重的小猪体重</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">maxb</span><span class="params">(<span class="type">int</span> arr[],<span class="type">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len ; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(sum &lt; arr[i])</span><br><span class="line">        &#123;</span><br><span class="line">            sum = arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;最重的小猪体重是： &quot;</span> &lt;&lt; sum &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> arr [<span class="number">5</span>] = &#123;<span class="number">343</span>,<span class="number">764</span>,<span class="number">443</span>,<span class="number">285</span>,<span class="number">521</span>&#125;;  <span class="comment">// 定义一位数组</span></span><br><span class="line">    <span class="type">int</span> len  = <span class="built_in">sizeof</span>(arr) / <span class="built_in">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line">    <span class="built_in">maxb</span>(arr,len);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>案例2：元素逆置：请声明一个五个元素的数组，并且将元素逆置。如：1 2 3 4 5 逆置后：5 4  3 2 1</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">reversearr</span><span class="params">(<span class="type">int</span> arr[],<span class="type">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> right = len <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left &lt;= right)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> temp = arr[left];</span><br><span class="line">        arr[left]  =arr[right];</span><br><span class="line">        arr[right] = temp;</span><br><span class="line">        left ++ ;</span><br><span class="line">        right --;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> arr[<span class="number">5</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">    <span class="type">int</span> len = <span class="built_in">sizeof</span>(arr) / <span class="built_in">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; arr[i] &lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//逆置函数</span></span><br><span class="line">    <span class="built_in">reversearr</span>(arr,len);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//打印</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; arr[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>(2)二维数组</p>
<p>语法：数组类型 数组名 [行数] [列数] &#x3D; {数据1，数据2，数据3，………} ; </p>
<p>二维数组定义时可以省去行数，但是不能省去列数。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 计算数组元素个数及首地址</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> arr [<span class="number">3</span>][<span class="number">3</span>] =&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125;;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;数组的元素个数： &quot;</span> &lt;&lt; <span class="built_in">sizeof</span>(arr) / <span class="built_in">sizeof</span>(arr[<span class="number">0</span>])&lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;数组的首地址： &quot;</span> &lt;&lt; (<span class="type">int</span>) arr &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;数组中每个元素的大小： &quot;</span> &lt;&lt; <span class="built_in">sizeof</span>(arr[<span class="number">0</span>][<span class="number">0</span>]) &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;二维数组每行的元素个数： &quot;</span> &lt;&lt; <span class="built_in">sizeof</span>(arr) / <span class="built_in">sizeof</span>(arr[<span class="number">0</span>])&lt;&lt;endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;二维数组每列的元素个数： &quot;</span> &lt;&lt; <span class="built_in">sizeof</span>(arr[<span class="number">0</span>]) / <span class="built_in">sizeof</span>(arr[<span class="number">0</span>][<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>案例：有三个同学，分别输出在一个考试中的成绩</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> arr[<span class="number">3</span>][<span class="number">3</span>] =</span><br><span class="line">    &#123;</span><br><span class="line">        &#123;<span class="number">100</span>,<span class="number">100</span>,<span class="number">100</span>&#125;,</span><br><span class="line">        &#123;<span class="number">88</span>,<span class="number">89</span>,<span class="number">67</span>&#125;,</span><br><span class="line">        &#123;<span class="number">99</span>,<span class="number">76</span>,<span class="number">87</span>&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i&lt;<span class="number">3</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> sum  =<span class="number">0</span> ;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                cout &lt;&lt; arr[i][j] &lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">                sum += arr[i][j];</span><br><span class="line">            &#125;</span><br><span class="line">            cout &lt;&lt; sum &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><p>实现某种功能，一般是需要重复的代码，将其利用函数封装起来，用来实现特定的功能。</p>
<p>语法：函数类型 函数名（参数列表）{ 语句； return 表达式；}</p>
<p>函数的调用：值传递和地址传递  </p>
<p>值传递形参发生任何改变都不会影响实参；因为实参地址里的值未改变。</p>
<p>地址传递 形参的改变会直接改变实参地址里的值，因为本质上是把实参的地址传给形参，通过对地址里的值进行更改，从而更改实参。</p>
<p>函数的常见样式：有参有返、有参无返、无参无返、无参有返。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">test1</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> <span class="comment">// 这里叫形式参数 -形参   传过来的值是什么类型就用什么类型来接受</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> sum = a + b;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> sum; <span class="comment">// 返回值的类型是什么 函数的类型就用什么。</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test2</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> sum = a+ b;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;sum = &quot;</span>  &lt;&lt; sum &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> ; <span class="comment">//没有返回值时不写， 函数类型写void 表示空 -即不返回</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test3</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout&lt;&lt; <span class="string">&quot;hello c++&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">test4</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a =<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//有参有返</span></span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">20</span>;</span><br><span class="line">   <span class="type">int</span> s =  <span class="built_in">test1</span>(a,b); <span class="comment">// 这里的参数叫实际参数 - 实参</span></span><br><span class="line">       cout &lt;&lt;  s &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//有参无返</span></span><br><span class="line">    <span class="built_in">test2</span>(a,b);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//无参无返</span></span><br><span class="line">    <span class="built_in">test3</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 无参有返</span></span><br><span class="line">    <span class="built_in">test4</span>();</span><br><span class="line">    cout &lt;&lt; <span class="built_in">test4</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>函数声明：声明的作用是告诉编译器函数的存在不至于报错，声明可以写多次，但是定义只能写一次，一般先定义后使用。</p>
<p>函数的分文件编写：让代码结构更清晰 – 创建</p>
<p>创建一个.cpp的源文件 和 .h的头文件，函数的声明写在头文件中，函数的定义写在源文件中。</p>
<p>包含头文件时 用  “ 头文件名 ”   – 而不是&lt;头文件名&gt;</p>
<h1 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h1><p>通过指针间接访问内存</p>
<p>语法格式： 指针类型 * 指针名 ；  * 解引用操作符，通过* 解引用找到指针指向的地址里的值。对其进行更改。</p>
<p>指针是用来存放地址的，*p表示对指针指向地址里的值使用。</p>
<p>指针所占用的内存空间：32位（X86）系统下 占4字节; 64位（X64）系统下 占8字节。</p>
<p>空指针： 用来初始化指针变量 如： int * p &#x3D; NULL;  不能对空指针进行访问，因为占用的是编码为0-255的系统空间，不可以访问。</p>
<p>野指针：指向非法的内存空间。  在程序中，尽量避免野指针的使用。</p>
<p>const修饰指针：常量指针  如： const int *p ;  – 指向的值不可以改，指向的地址可以改。</p>
<p>指针常量： 如 int * const p ； – 指向的地址不可以改，指向的值可以改。</p>
<p>const既修饰指针又修饰常量： const int * const p ; 值和指向的地址都不可以改。</p>
<p>指针和数组：利用指针访问数组中的元素， 指针++，偏移到下一个位置。</p>
<p>案例：封装一个函数，利用冒泡排序，实现对整型数组的升序排序。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bubblearr</span><span class="params">(<span class="type">int</span> arr[],<span class="type">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len<span class="number">-1</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; len-i<span class="number">-1</span>;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[j] &gt; arr[j + <span class="number">1</span>])</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> tem = arr[j];</span><br><span class="line">                arr[j] = arr[j+<span class="number">1</span>];</span><br><span class="line">                arr[j + <span class="number">1</span>] = tem;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 冒泡排序的思想：排序趟数等于元素个数减一 ，每趟排序的比较次数都要减一</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printfbular</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++ )</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; arr[i] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> arr[<span class="number">10</span>] = &#123;<span class="number">12</span>,<span class="number">435</span>,<span class="number">565</span>,<span class="number">335</span>,<span class="number">76</span>,<span class="number">343</span>,<span class="number">87</span>,<span class="number">345</span>,<span class="number">899</span>,<span class="number">983</span>&#125;;</span><br><span class="line">    <span class="type">int</span> len = <span class="built_in">sizeof</span>(arr) / <span class="built_in">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 函数来实现冒泡排序</span></span><br><span class="line">    <span class="built_in">bubblearr</span>(arr,len);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//函数实现排序后的数组打印</span></span><br><span class="line">    <span class="built_in">printfbular</span>(arr,len);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h1><p>用来创建用户自定义的数据类型，允许用户存储不同的数据类型。</p>
<p>语法： struct 类型名称 { 成员列表 };</p>
<p>创建结构体变量的三种方法： struct  类型名 变量名 ； struct 类项名 变量名 &#x3D; { 成员值1；成员值2}；</p>
<p>定义结构体时创建变量；</p>
<p>打印输出格式：变量名 . 成员列表 ； 指针变量  - &gt; 成员列表  如: p - &gt; name ; （*指针变量）.name  如：（ *p）.name</p>
<p>结构体数组： 利用数组来存放结构体变量 如： struct student array [ ] &#x3D;{ ………. };</p>
<p>结构体指针： p - &gt; name 可以通过 - &gt; 访问结构体变量属性</p>
<p>结构体嵌套结构体：结构体中的成员可以是一个结构体</p>
<p>结构体作为函数参数：值传递和地址传递</p>
<p>结构体中const 的作用 ：防止误操作</p>
<p>const 本质上是防止修改，静态属性。</p>
<p>案例1：学校正在做毕设项目，每名老师五个学生，总共三名老师，需求如下：</p>
<p>设计老师和学生的结构体，在老师的结构体中，有老师姓名和一个存放5名学生的数组作为成员，学生有姓名、分数，创建数组存放3名老师，通过函数给每个老师及所带的每个学生赋值，最终打印老师数据以及老师所带的学生数据。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">student</span></span><br><span class="line">&#123;</span><br><span class="line">    string name;</span><br><span class="line">    <span class="type">int</span> score;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">teacher</span></span><br><span class="line">&#123;</span><br><span class="line">    string name;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">student</span> stuarray[<span class="number">5</span>];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">allocatets</span><span class="params">(<span class="keyword">struct</span> teacher t[],<span class="type">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string name = <span class="string">&quot;ABCDE&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len ; i++)</span><br><span class="line">    &#123;</span><br><span class="line">    t[i].name = <span class="string">&quot;Teacher_&quot;</span>;</span><br><span class="line">    t[i].name += name[i];</span><br><span class="line">        <span class="comment">//给每位老师赋值</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//给每位老师所带的学生赋值</span></span><br><span class="line">            t[i].stuarray[j].name = <span class="string">&quot;Student_&quot;</span>;</span><br><span class="line">            t[i].stuarray[j].name += name[j];</span><br><span class="line">            </span><br><span class="line">            <span class="type">int</span> sand = <span class="built_in">rand</span>()%<span class="number">61</span> + <span class="number">40</span>; <span class="comment">// 利用rand函数要产生随机数种子，防止每次重复</span></span><br><span class="line">            t[i].stuarray[j].score = sand;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printfallocate</span><span class="params">(<span class="keyword">struct</span> teacher t[],<span class="type">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt;<span class="string">&quot;老师姓名：&quot;</span> &lt;&lt; t[i].name &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt;<span class="string">&quot;老师所带的学生： &quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j  &lt; <span class="number">5</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt;<span class="string">&quot;学生姓名:  &quot;</span>&lt;&lt;t[i].stuarray[j].name &lt;&lt;<span class="string">&quot; &quot;</span> &lt;&lt; <span class="string">&quot;分数： &quot;</span> &lt;&lt; t[i].stuarray[j].score &lt;&lt; endl; </span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">srand</span>((<span class="type">unsigned</span> <span class="type">int</span> )<span class="built_in">time</span> (<span class="literal">NULL</span>));</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">teacher</span> tarray[<span class="number">3</span>] ;</span><br><span class="line">    <span class="comment">// 函数 给老师及学生赋初值</span></span><br><span class="line">    <span class="type">int</span> len = <span class="built_in">sizeof</span>(tarray) / <span class="built_in">sizeof</span>(tarray[<span class="number">0</span>]);</span><br><span class="line">    <span class="built_in">allocatets</span>(tarray, len);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//打印并输出老师及学生</span></span><br><span class="line">    <span class="built_in">printfallocate</span>(tarray,len);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>案例2：设计一个英雄结构体；包括姓名、年龄、性别；创建结构体数组，数组中存放5名英雄，通过冒泡排序算法，将数组中的英雄按年龄进行升序排序，最终打印结果</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">hero</span> </span><br><span class="line">&#123;</span><br><span class="line">    string name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    string sex;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bubbleharray</span><span class="params">(<span class="keyword">struct</span> hero h[],<span class="type">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; j &lt; len <span class="number">-1</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j =<span class="number">0</span>; j &lt; len -i<span class="number">-1</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(h[j].age &gt; h[j+<span class="number">1</span>].age)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">struct</span> <span class="title class_">hero</span> temp = h[j];</span><br><span class="line">                h[j] = h[j+<span class="number">1</span>];</span><br><span class="line">                h[j + <span class="number">1</span>] = temp;</span><br><span class="line">                    </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printfbubble</span><span class="params">(<span class="keyword">struct</span> hero h[],<span class="type">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i =<span class="number">0</span>; i &lt; len;i++)</span><br><span class="line">    &#123;</span><br><span class="line">    cout &lt;&lt;<span class="string">&quot;name = &quot;</span> &lt;&lt; h[i].name &lt;&lt; <span class="string">&quot;  age = &quot;</span> &lt;&lt; h[i].age &lt;&lt; <span class="string">&quot;  sex = &quot;</span> &lt;&lt; h[i].sex</span><br><span class="line">        &lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">hero</span> harray[<span class="number">5</span>] = </span><br><span class="line">    &#123;</span><br><span class="line">        &#123;<span class="string">&quot;赵云&quot;</span>,<span class="number">18</span>,<span class="string">&quot;男&quot;</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;刘备&quot;</span>,<span class="number">28</span>,<span class="string">&quot;男&quot;</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;关羽&quot;</span>,<span class="number">20</span>,<span class="string">&quot;男&quot;</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;貂蝉&quot;</span>,<span class="number">18</span>,<span class="string">&quot;女&quot;</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;香香&quot;</span>,<span class="number">18</span>,<span class="string">&quot;女&quot;</span>&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="type">int</span> len = <span class="built_in">sizeof</span>(harray) / <span class="built_in">sizeof</span>(harray[<span class="number">0</span>]);</span><br><span class="line">    <span class="comment">// 冒泡排序按年龄升序</span></span><br><span class="line">    <span class="built_in">bubbleharray</span>(harray,len);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//打印输出</span></span><br><span class="line">    <span class="built_in">printfbubble</span>(harray,len);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="小项目-通讯录的实现"><a href="#小项目-通讯录的实现" class="headerlink" title="小项目 - 通讯录的实现"></a>小项目 - 通讯录的实现</h1><p>将之前所学的C++基础运用进来，并对之前所学基础进行加深巩固。</p>
<p>通讯录实现步骤：</p>
<p>1、实现菜单功能：图示</p>
.png)

<p>利用函数封装实现</p>
<p>2、实现退出功能：switch实现多条件选择：case 整形表达式 ：语句； break；匹配0时 提示欢迎下次使用。return 0; 结束程序。 利用while 循环 实现无限添加</p>
<p>3、添加联系人：</p>
<p>创建联系人结构体包含 姓名 、性别、年龄、电话、地址。</p>
<p>创建通讯录结构体包含：联系人数组 和 联系人个数。</p>
<p>在主函数中，创建通讯录，将通讯录里联系人个数 初始化为0；利用函数封装实现添加联系人操作； 将通讯录地址传递过去，在函数内部首先判断通讯录是否满，满则提示通讯录已满，未满则进行添加操作；</p>
<p>添加操作每次输入前均提示一下 该输入的数据；利用赋值操作把输入的数据 置为到数组成员的属性。</p>
<p>最后把 数组中的 size ++ ；提示：添加成功  然后 system（“ pause ”） ;system(“ cls”) 按任意键继续和清屏操作。</p>
<p>其中 输入性别是 注意 sex 为 1 和 2  1–男 2– 女， 这样做是为了更好的实现程序。</p>
<p>4、显示联系人</p>
<p>函数进行封装，在函数内部首先判断数组大小是否为空，为空则提示：记录为空， 否则输出数组中各个成员的属性。 最后 system（“ pause ”） 和 system（“  cls” ）;</p>
<p>5、删除联系人</p>
<p>首先封装一个函数 用来判断 是否存在需要查找的联系人 存在返回 该联系人在数组中下标，否则返回-1；</p>
<p>再封装一个函数用来删除联系人，函数内部首先提示： 需要删除的联系人，输入姓名，判断是否存在此人，如果存在 将数组中下一个人的下标赋值 给 当前联系人数组中的下标 ；实现覆盖，再把通讯录的长度减一；从而实现删除操作。成功删除提示 删除成功， 不存在提示查无此人。</p>
<p>6、查找联系人</p>
<p>函数封装： 首先提示：输入查找的联系人， 输入姓名，函数判断此联系人是否存在，存在则输入该联系人的所有信息；否则提示查无此人。</p>
<p>7、修改联系人</p>
<p>函数封装:首先提示：输入修改的联系人，输入姓名 判断是否存在，存在则通过赋值操作 将数组中的成员的属性依次修改。 不存在则提示查无此人。 修改完成提示：修改成功。</p>
<p>8、清空通讯录</p>
<p>将 通讯录中的联系人个数 置为 0；并提示：已清空通讯录 ，实现删除操作；严谨操作:提示是否删除，输入1 删除 输入0 不删除，输入其他提示错误重新操作。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> Max 1000</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">showmenu</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;*****  1、添加联系人  *****&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;*****  2、显示联系人  *****&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;*****  3、删除联系人  *****&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;*****  4、查找联系人  *****&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;*****  5、修改联系人  *****&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;*****  6、清空联系人  *****&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;*****  0、退出通讯录  *****&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">person</span>  <span class="comment">// 联系人类型</span></span><br><span class="line">&#123;</span><br><span class="line">    string name;</span><br><span class="line">    <span class="type">int</span> sex;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    string phone;</span><br><span class="line">    string addr;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">personbooks</span>  <span class="comment">// 通讯录类型</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">person</span> personarray[Max];</span><br><span class="line">    <span class="type">int</span> size;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">addperson</span><span class="params">(<span class="keyword">struct</span> personbooks *abs)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(abs-&gt;size == Max)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;通讯录已满&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//输入姓名</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入姓名： &quot;</span> &lt;&lt; endl;</span><br><span class="line">        string name;</span><br><span class="line">        cin &gt;&gt; name;</span><br><span class="line">        abs-&gt;personarray[abs-&gt;size].name = name;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//输入性别</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入性别： &quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="type">int</span> sex;</span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">        cin &gt;&gt; sex;</span><br><span class="line">        <span class="keyword">if</span>(sex == <span class="number">1</span> || sex == <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            abs-&gt;personarray[abs-&gt;size].sex = sex;</span><br><span class="line">              <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt;<span class="string">&quot;输入错误，请重新输入&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//输入年龄</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入年龄： &quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="type">int</span> age;</span><br><span class="line">        cin &gt;&gt; age;</span><br><span class="line">        abs -&gt; personarray[abs-&gt;size].age = age;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//输入电话</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入你的电话： &quot;</span> &lt;&lt; endl;</span><br><span class="line">        string phone ;</span><br><span class="line">        cin &gt;&gt; phone;</span><br><span class="line">        abs -&gt;personarray[abs-&gt;size].phone = phone;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//输入地址</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入你的地址： &quot;</span> &lt;&lt; endl;</span><br><span class="line">        string address;</span><br><span class="line">        cin &gt;&gt; address;</span><br><span class="line">        abs -&gt;personarray[abs-&gt;size].addr = address;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//添加完成之后，使数组中联系人加1</span></span><br><span class="line">        abs-&gt;size++;</span><br><span class="line">        <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">        <span class="built_in">system</span>(<span class="string">&quot;cls&quot;</span>);  <span class="comment">// 清空屏幕</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">showperson</span><span class="params">(<span class="keyword">struct</span> personbooks *abs)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(abs-&gt;size == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;记录为空&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i =<span class="number">0</span>; i &lt; abs-&gt;size; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;姓名: &quot;</span> &lt;&lt; abs-&gt;personarray[i].name &lt;&lt; <span class="string">&quot;\t&quot;</span>;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;性别： &quot;</span> &lt;&lt; (abs-&gt;personarray[i].sex == <span class="number">1</span> ?<span class="string">&quot;男&quot;</span> :<span class="string">&quot;女&quot;</span>) &lt;&lt;<span class="string">&quot;\t&quot;</span>;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;年龄： &quot;</span> &lt;&lt; abs-&gt;personarray[i].age &lt;&lt; <span class="string">&quot;\t&quot;</span>;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;电话： &quot;</span> &lt;&lt; abs-&gt;personarray[i].phone &lt;&lt; <span class="string">&quot;\t&quot;</span>;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;地址： &quot;</span> &lt;&lt; abs-&gt;personarray[i].addr &lt;&lt; endl;</span><br><span class="line">              </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">isExist</span><span class="params">(<span class="keyword">struct</span> personbooks *abs, string name)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">for</span>(<span class="type">int</span> i =<span class="number">0</span>; i &lt;abs-&gt;size;i++)</span><br><span class="line">   &#123;</span><br><span class="line">       <span class="keyword">if</span>(abs-&gt;personarray[i].name == name )</span><br><span class="line">       &#123;</span><br><span class="line">           <span class="keyword">return</span> i;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">else</span></span><br><span class="line">       &#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">deleteperson</span><span class="params">(<span class="keyword">struct</span> personbooks *abs)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;请输入你要删除的联系人： &quot;</span> &lt;&lt; endl;</span><br><span class="line">    string name;</span><br><span class="line">    cin &gt;&gt; name;</span><br><span class="line">    <span class="type">int</span> ret = <span class="built_in">isExist</span>(abs,name);</span><br><span class="line">    <span class="keyword">if</span>(ret != <span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; abs-&gt;size; i++)</span><br><span class="line">        &#123;</span><br><span class="line">        abs-&gt;personarray[ret] = abs-&gt;personarray[ret+<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        abs-&gt;size--;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;删除成功&quot;</span> &lt;&lt; endl;</span><br><span class="line">          </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;查无此人&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">findperson</span><span class="params">(<span class="keyword">struct</span> personbooks *abs)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;请输入要查找的联系人： &quot;</span> &lt;&lt; endl;</span><br><span class="line">    string name;</span><br><span class="line">    cin &gt;&gt; name;</span><br><span class="line">    <span class="type">int</span> ret = <span class="built_in">isExist</span>(abs,name);</span><br><span class="line">    <span class="keyword">if</span>(ret != <span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;姓名：&quot;</span> &lt;&lt; abs-&gt;personarray[ret].name &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;性别：&quot;</span> &lt;&lt; abs-&gt;personarray[ret].sex &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;年龄：&quot;</span> &lt;&lt; abs-&gt;personarray[ret].age &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;电话：&quot;</span> &lt;&lt; abs-&gt;personarray[ret].phone &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;地址：&quot;</span> &lt;&lt; abs -&gt;personarray[ret].addr &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;查无此人&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">alterperson</span><span class="params">(<span class="keyword">struct</span> personbooks *abs)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;请输入你要修改的联系人： &quot;</span> &lt;&lt; endl;</span><br><span class="line">    string name;</span><br><span class="line">    cin &gt;&gt; name;</span><br><span class="line">    <span class="type">int</span> ret = <span class="built_in">isExist</span>(abs,name);</span><br><span class="line">    <span class="keyword">if</span>(ret != <span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 修改姓名</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入姓名： &quot;</span> &lt;&lt; endl;</span><br><span class="line">        string name;</span><br><span class="line">        cin &gt;&gt; name;</span><br><span class="line">        abs -&gt;personarray[ret].name = name;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//修改性别</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入性别： &quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="type">int</span> sex ;</span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">        cin &gt;&gt; sex;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(sex == <span class="number">1</span> || sex == <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            abs-&gt;personarray[ret].sex = sex;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;输入错误，请重新输入&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//修改年龄</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入年龄： &quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="type">int</span> age;</span><br><span class="line">        cin &gt;&gt; age;</span><br><span class="line">        abs-&gt;personarray[ret].age = age;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//修改电话</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入电话：&quot;</span> &lt;&lt; endl;</span><br><span class="line">        string phone;</span><br><span class="line">        cin &gt;&gt; phone;</span><br><span class="line">        abs -&gt;personarray[ret].phone = phone;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//修改地址</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入地址； &quot;</span> &lt;&lt; endl;</span><br><span class="line">        string address;</span><br><span class="line">        cin &gt;&gt; address;</span><br><span class="line">        abs-&gt;personarray[ret].addr = address;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;修改成功&quot;</span> &lt;&lt; endl;</span><br><span class="line">           </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;查无此人&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">clspersonbooks</span><span class="params">(<span class="keyword">struct</span> personbooks *abs)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;确定清空通讯录？  1 -- Yes    0 -- No&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="type">int</span> i ;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    cin &gt;&gt; i;</span><br><span class="line">    <span class="keyword">if</span>( i == <span class="number">1</span> )</span><br><span class="line">    &#123;</span><br><span class="line">        abs -&gt;size = <span class="number">0</span>;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;已清空通讯录&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(i == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;输入错误，请重新输入&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">    </span><br><span class="line">       </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//创建通讯录</span></span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">personbooks</span> abs;</span><br><span class="line">    abs.size = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> select ;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="built_in">showmenu</span>();</span><br><span class="line">    cin &gt;&gt; select;</span><br><span class="line">    <span class="keyword">switch</span>(select)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>: <span class="comment">// 添加联系人</span></span><br><span class="line">            <span class="built_in">addperson</span>(&amp;abs);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>: <span class="comment">// 显示联系人</span></span><br><span class="line">            <span class="built_in">showperson</span>(&amp;abs);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>: <span class="comment">//删除联系人</span></span><br><span class="line">            <span class="built_in">deleteperson</span>(&amp;abs);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:<span class="comment">//查找联系人</span></span><br><span class="line">            <span class="built_in">findperson</span>(&amp;abs);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>: <span class="comment">// 修改联系人</span></span><br><span class="line">            <span class="built_in">alterperson</span>(&amp;abs);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>: <span class="comment">// 清空通讯录</span></span><br><span class="line">            <span class="built_in">clspersonbooks</span>(&amp;abs);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;欢迎下次使用&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>PS:通讯录的实现并不难，需要理清思路，知道每一步具体在实现哪个功能，写的时候注意细节，很多时候细节出错了，导致一点小错误，尽量避免 如代码量过大不好寻找错误来源，同时也培养一下严谨的作风，一步到位。</p>
<h1 id="C-核心编程"><a href="#C-核心编程" class="headerlink" title="C++核心编程"></a>C++核心编程</h1><p>本阶段针对C++面向对象编程技术，探讨C++中的核心和精髓。</p>
<h2 id="程序的内存模型："><a href="#程序的内存模型：" class="headerlink" title="程序的内存模型："></a>程序的内存模型：</h2><p>C++程序在执行过程中，将内存大方向分为4个区域。</p>
<p>（1）代码区：存放函数的二进制代码，由操作系统进行管理。</p>
<p>存放CPU执行的机械指令。</p>
<p>代码区是共享的，共享的目的是：对于频繁被执行的程序，只需要在内存中有一份代码即可。</p>
<p>代码区是只读的，使其只读的原因是防止程序意外地修改了它的指令。</p>
<p>（2）全局区：存放全局变量和静态变量以及常量</p>
<p>该区的数据在程序结束之后由操作系统释放。</p>
<p>全局变量 在函数体之外定义的；局部变量在函数体之内定义；  常量包含 字符串常量 和 const修饰的全局变量（全局常量）； static 修饰的静态变量。</p>
<p>总结：C++在程序运行前分为代码区和全局区；代码区的特点是：共享和只读；全局区中存放的是全局变量、静态变量、常量；常量包含 const修饰的全局常量 和 字符串常量。</p>
<p>（3）栈区：由编译器自动分配释放，存放函数的参数值，局部变量等</p>
<p>栈区需要注意的事项：不要返回局部变量的地址；栈区的数据由编译器管理开辟和释放</p>
<p>（4）堆区：由程序员分配和释放，若程序员不释放，程序结束时由操作系统回收。</p>
<p>在C++中主要利用new在堆区中开辟内存。</p>
<h3 id="new运算符"><a href="#new运算符" class="headerlink" title="new运算符"></a>new运算符</h3><p>语法：new 数据类型；</p>
<p>堆区开辟的数据，由程序员手动开辟，手动释放，释放利用操作符delete</p>
<p>利用new开辟的数据，会返回该数据的类型的指针。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> *<span class="title">fun</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">   <span class="type">int</span> *p = <span class="keyword">new</span> <span class="built_in">int</span>(<span class="number">10</span>);  <span class="comment">// new在堆区中开辟内存空间， 返回的是一个地址 用指针接收</span></span><br><span class="line">    <span class="comment">// p 指针还是一个局部变量， 里面存放的是new出来的地址，这块地址存放在堆区，出局部范围时，</span></span><br><span class="line">    <span class="comment">//这块地址并不会被销毁 ，除非程序员释放 或程序结束后操作系统回收。</span></span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>delete释放new出来的地址 ： delete 变量名；</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> * <span class="title">fun</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">     <span class="type">int</span> *p = <span class="keyword">new</span> <span class="built_in">int</span>(<span class="number">10</span>) <span class="comment">//利用指针来接受new出来的地址</span></span><br><span class="line">         <span class="keyword">return</span> p; <span class="comment">// 返回该地址， 此时p就表示地址  指针就是存放地址的。</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> *p =<span class="built_in">fun</span>();  <span class="comment">// 用指针来接受返回的地址。</span></span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; *p &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; *p &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; *p &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">delete</span> p;</span><br><span class="line">    cout &lt;&lt; *p &lt;&lt; endl;  <span class="comment">// 此时输出会出现报错，因为p中存放的地址（new出来的地址）已经被释放掉这块地址不存在了，所以找不到 输出时会报错。</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>new开辟数组：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">test1</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> *arr = <span class="keyword">new</span> <span class="type">int</span> [<span class="number">10</span>]; <span class="comment">// 指针接收new出来的数组</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        arr[i] = i + <span class="number">100</span>; <span class="comment">// 给数组赋值</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; arr[i] &lt;&lt; endl; <span class="comment">// 输出数组</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//释放数组时需要加 []</span></span><br><span class="line">    <span class="keyword">delete</span> [] arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test1</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意：释放数组时，格式：delete [ ] 数组名；</p>
<p>内存四区的意义：不同区域存放不同的数据，赋予不同的生命周期，给我们更大的灵活编程。</p>
<h2 id="C-中的引用"><a href="#C-中的引用" class="headerlink" title="C++中的引用"></a>C++中的引用</h2><p>作用：变量名起别名 ；   语法：数据类型  &amp;别名 &#x3D;原名；</p>
<p>引用的注意事项：引用必须初始化；引用在初始化之后，指向的地址不可更改，值可以改（可以进行赋值操作）。</p>
<p>赋值操作不是更改引用 ！</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 引用必须初始化</span></span><br><span class="line">    <span class="comment">// int &amp;b;  // 这是错误的</span></span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> &amp;b = a;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//引用在初始化之后不可以更改（不可以再引用其它变量），可以赋值</span></span><br><span class="line">    <span class="type">int</span>  c = <span class="number">20</span>;</span><br><span class="line"> <span class="comment">//   int &amp;b = c; // 这是错误的</span></span><br><span class="line">    b = c; <span class="comment">//赋值操作， 是正确的</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;a = &quot;</span> &lt;&lt; a &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;b = &quot;</span> &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;c = &quot;</span> &lt;&lt; c &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>(1) 引用做函数参数</p>
<p>作用：函数传参时，可以利用引用的技术让形参修饰实参</p>
<p>优点：可以简化指针修改实参</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap01</span><span class="params">(<span class="type">int</span> a , <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> temp =a ;</span><br><span class="line">    a = b;</span><br><span class="line">    b = temp;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap02</span><span class="params">(<span class="type">int</span> *a, <span class="type">int</span> *b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> temp = *a;</span><br><span class="line">    *a = *b;</span><br><span class="line">    *b = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap03</span><span class="params">(<span class="type">int</span> &amp;a,<span class="type">int</span> &amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> temp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = temp;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">swap01</span>(a,b); <span class="comment">// 值传递</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;a = &quot;</span> &lt;&lt; a &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;b = &quot;</span> &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">swap02</span>(&amp;a,&amp;b); <span class="comment">// 地址传递</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;a = &quot;</span> &lt;&lt; a &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;b = &quot;</span> &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">swap03</span>(a,b); <span class="comment">// 引用传递</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;a = &quot;</span> &lt;&lt; a &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;b = &quot;</span> &lt;&lt; b &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过引用传递给实参起别名，对别名进行修改从而更改实参。</p>
<p>（2）引用做函数返回值</p>
<p>注意事项：不要返回局部变量的引用；函数的调用可以作为左值。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> &amp;<span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;    <span class="comment">// 返回局部变量a时， 出局部范围a就被销毁 释放掉。</span></span><br><span class="line">    <span class="keyword">return</span> a ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> &amp; <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="type">static</span>  <span class="type">int</span>  a = <span class="number">10</span>;  <span class="comment">// static修饰的变量 存放在全局区，生命周期延长,出局部范围不会被销毁</span></span><br><span class="line">    <span class="keyword">return</span> a; </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> &amp;ret = <span class="built_in">test01</span>();</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;ret = &quot;</span> &lt;&lt; ret &lt;&lt; endl; <span class="comment">// 第一次结果正确，因为编译器做了保留</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;ret = &quot;</span> &lt;&lt; ret &lt;&lt; endl; <span class="comment">// 第二次结果乱码，因为局部变量内存地址已经被释放掉</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> &amp;ret1 = <span class="built_in">test02</span>();</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;ret = &quot;</span> &lt;&lt; ret1 &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;ret = &quot;</span> &lt;&lt; ret1 &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;ret = &quot;</span> &lt;&lt; ret1 &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;ret = &quot;</span> &lt;&lt; ret1 &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">test02</span>() = <span class="number">10000</span>;  <span class="comment">//引用在函数调用中，函数调用可以作为左值</span></span><br><span class="line">    <span class="comment">// 本质上是 把返回的引用 a 赋值为10000 ，然后通过别名ret1访问 a的地址。</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;ret1 = &quot;</span> &lt;&lt; ret1 &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;ret1 = &quot;</span> &lt;&lt; ret1 &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>(3) 引用的本质: 在C++内部实现是一个指针常量</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> &amp;ret = a;  <span class="comment">// 实际上是  int * conse ret = &amp;a; 相当于别名ret 存放的是a的地址；指针的指向不可以改，值可以改。  编译器自动完成此操作， 我们看不到 ，理解的时候只需要把它当成别名来看，但是本质上的原理要懂。</span></span><br><span class="line">    </span><br><span class="line">    ret = <span class="number">20</span> ; <span class="comment">// 实际是 *ret = 20; 编译器自动完成</span></span><br><span class="line">    cout &lt;&lt; a &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; ret &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>(4) 常量引用</p>
<p>使用场景：用来修饰形参，防止误操作。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">showvalue</span><span class="params">(<span class="type">const</span> <span class="type">int</span> &amp;val )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="comment">// val = 1000;  // val的值为1000 从而改变实参的值</span></span><br><span class="line">    <span class="comment">// 加上const修饰之后  不能对val进行更改， 从而防止误操作。</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;val = &quot;</span> &lt;&lt; val &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a  = <span class="number">10</span>;</span><br><span class="line">     <span class="comment">//int &amp;ref = 10 ; // 错误， 引用的必须是一块合法的内存空间</span></span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> &amp;ref = <span class="number">10</span>; <span class="comment">// 正确， const 修饰之后 相当于： int temp = 10; const int &amp;ref = temp;    const修饰的不可修改。   加上const 编译器自动优化</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> b =<span class="number">100</span>;</span><br><span class="line">    <span class="built_in">showvalue</span>(b);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="函数高级"><a href="#函数高级" class="headerlink" title="函数高级"></a>函数高级</h2><h3 id="函数的默认参数"><a href="#函数的默认参数" class="headerlink" title="函数的默认参数"></a>函数的默认参数</h3><p>在C++中，函数的	形参列表中的形参是可以有默认值的</p>
<p>语法：返回类型 函数名（参数 &#x3D; 默认值） { }</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">fun</span><span class="params">(<span class="type">int</span> a = <span class="number">4</span>, <span class="type">int</span> b = <span class="number">6</span>)</span>   <span class="comment">// 如果自己传入参数就用自己的参数，如果没有，就会使用默认值</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">fun1</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b = <span class="number">30</span>, <span class="type">int</span> c = <span class="number">40</span>)</span>  <span class="comment">//从b设置默认值开始，b后面的形参都必须要有默认值否则就会出现错误</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b + c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">fun2</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">fun2</span> <span class="params">(<span class="type">int</span> a = <span class="number">10</span>, <span class="type">int</span> b = <span class="number">50</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">fun</span>(<span class="number">10</span>,<span class="number">20</span>);</span><br><span class="line">    cout &lt;&lt; <span class="built_in">fun</span>(<span class="number">10</span>,<span class="number">20</span>) &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 从函数中某个参数开始有默认值，那么从这个参数向后，从左向右都必须要有默认值</span></span><br><span class="line">    <span class="built_in">fun1</span>();</span><br><span class="line">    cout &lt;&lt; <span class="built_in">fun1</span>(<span class="number">10</span>) &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//如果函数的声明有默认值，那么函数的定义就不能有默认值；换句话说，函数声明和函数定义只能有一个有默认值。</span></span><br><span class="line">    cout &lt;&lt; <span class="built_in">fun2</span>() &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>函数的占位参数：用来占位，调用函数时必须填补该位置。</p>
<p>语法： 函数返回类型 函数名 （数据类型） { }</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">int</span> = <span class="number">20</span>)</span>  <span class="comment">// int 起到的是一个占位作用， 占位参数还可以有默认参数</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;this is fun: &quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">fun</span>(<span class="number">10</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="函数重载"><a href="#函数重载" class="headerlink" title="函数重载"></a>函数重载</h3><p>作用：函数名可以相同，提高复用性</p>
<p>函数重载满足条件：</p>
<p>1、同一个作用域下</p>
<p>2、函数名称相同</p>
<p>3、函数参数类型不同 或者 个数不同 或者顺序不同</p>
<p>注意：函数的返回值不可以作为函数重载的条件</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;fun() : &quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">int</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;fun1: &quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">double</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout  &lt;&lt; <span class="string">&quot;double : &quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">int</span> , <span class="type">double</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;int =  double = &quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span> <span class="params">(<span class="type">double</span>, <span class="type">int</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;double = int = &quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">fun</span><span class="params">(<span class="type">double</span>,<span class="type">int</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;int : endl &quot;</span> &lt;&lt; endl; </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="comment">//函数重载： 函数名可以相同 提高复用性</span></span><br><span class="line">    <span class="comment">// 函数重载满足的要求  1、 同一个作用域下 2、 函数名相同  3、 函数参数类型or个数、顺序不同。</span></span><br><span class="line">    <span class="built_in">fun</span>();</span><br><span class="line">    <span class="built_in">fun</span>(<span class="number">10</span>);  <span class="comment">//函数参数个数不同</span></span><br><span class="line">    <span class="built_in">fun</span>(<span class="number">3.54</span>); <span class="comment">//函数参数类型不同</span></span><br><span class="line">    <span class="built_in">fun</span>(<span class="number">12</span>,<span class="number">4.22</span>);</span><br><span class="line">    <span class="built_in">fun</span>(<span class="number">4.22</span>,<span class="number">12</span>) ;<span class="comment">// 函数参数顺序不同</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 注意：函数参数返回值不能作为函数重载的条件</span></span><br><span class="line">        </span><br><span class="line">        <span class="built_in">fun</span>(<span class="number">7.22</span>,<span class="number">18</span>) ; <span class="comment">//调用时会出错，因为有一个fun函数的返回值类型 是int  一个是void 返回值并不能作为函数重载的条件</span></span><br><span class="line">    </span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>函数重载的注意事项：引用作为重载条件；函数重载碰到函数默认参数。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun1</span><span class="params">(<span class="type">int</span> &amp;a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;fun int  a 调用： &quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun1</span><span class="params">(<span class="type">const</span> <span class="type">int</span> &amp; a)</span>  <span class="comment">// 第一个fun1和这个fun1本质上是参数类型不同</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;const a = &quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun2</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;fun2 = &quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun2</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b = <span class="number">10</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;fun2 b =  &quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">fun1</span>(<span class="number">10</span>);  <span class="comment">// 会默认调用第二个fun1  因为引用指向的必须是地址，被const修饰之后 可以引用值。</span></span><br><span class="line">   </span><br><span class="line">   <span class="comment">/// fun2(20); // 不知道该调用哪个fun2  存在二义性</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="类和对象"><a href="#类和对象" class="headerlink" title="类和对象"></a>类和对象</h2><p><strong>C++面向对象的三大特性：封装、继承、多态 。</strong></p>
<p>C++认为万事万物都皆为对象，对象上有其属性和行为。</p>
<p>例如：人可以作为对象，属性有姓名、年龄等； 行为有吃饭、跑步等。车也可以作为对象，属性有轮胎、方向盘等；行为有放音乐、开空调等。 具有相同性质的对象，我们抽象称之为类，人属于人类，车属于车类。</p>
<h3 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h3><h4 id="封装的意义"><a href="#封装的意义" class="headerlink" title="封装的意义"></a>封装的意义</h4><p>封装是C++中面向对象三大特性之一</p>
<p>封装的意义：将属性和行为作为一个整体，表现生活中的事物。将属性和行为加以权限控制。</p>
<p>案例：设计一个圆类，来求园的周长 ： 圆求周长的公式：2 * PI * 半径</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> PI = <span class="number">3.14</span>;</span><br><span class="line"><span class="comment">// 设计一个类 class 关键字 加 类名</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">circle</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="comment">//访问权限</span></span><br><span class="line">    <span class="keyword">public</span>:  <span class="comment">// 公共权限</span></span><br><span class="line">    <span class="comment">//属性： 半径</span></span><br><span class="line">     <span class="type">int</span> m_r;    <span class="comment">// 属性一般是变量</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//行为 ：求周长</span></span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">circulatezc</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> *PI *m_r;</span><br><span class="line">    &#125; <span class="comment">// 行为一般用函数实现。</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//创建类之后，通过类创建具体的圆（对象）</span></span><br><span class="line">    circle c1;  <span class="comment">//创建了具体的圆 c1（对象）</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 实例化 （通过一个类创建一个对象的过程）</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 给圆的对象的属性赋值</span></span><br><span class="line">    c1.m_r = <span class="number">10</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//2*pi *10 = 62.8;</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;圆的周长为： &quot;</span>  &lt;&lt; c1.<span class="built_in">circulatezc</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="封装的意义一"><a href="#封装的意义一" class="headerlink" title="封装的意义一"></a>封装的意义一</h5><p><strong>在设计类的时候，属性和行为写在一起，表现事物</strong></p>
<p><strong>语法：class 类名 { 访问权限 :  属性 &#x2F; 行为 }；</strong></p>
<p>案例2：设计一个学生类，属性有姓名和学号，可以给姓名和学号赋值，可以显示学生的姓名和学号</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">student</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//访问权限 : 公共权限</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 属性</span></span><br><span class="line">    string name;</span><br><span class="line">    <span class="type">int</span> sno;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 行为：显示学生的姓名和学号</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">printfstu</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;name = &quot;</span> &lt;&lt; name &lt;&lt; <span class="string">&quot; sno = &quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    student s1;  <span class="comment">// 创建学生类  实例化通过学生类创建一个具体对象 s1</span></span><br><span class="line">    s1.name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">    s1.sno =<span class="number">1001</span>;  <span class="comment">// 给类的对象的属性赋值</span></span><br><span class="line">    </span><br><span class="line">    s1.<span class="built_in">printfstu</span>() </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>类中的属性和行为  我们统一称为成员；  属性又叫 成员属性、成员变量 ； 行为又叫成员函数、成员方法</p>
<h5 id="封装的意义二"><a href="#封装的意义二" class="headerlink" title="封装的意义二"></a><strong>封装的意义二</strong></h5><p><strong>类在设计时，可以把属性和行为放在不同的权限下，加以控制。</strong></p>
<p><strong>访问的权限有三种：</strong></p>
<p>1、public  公共权限   – 成员 类内可以访问， 成员 类外也可以访问 </p>
<p>2、protected 保护权限  –  成员 类内可以访问，成员 类外不可以访问</p>
<p>3、private 私有权限    –  成员 类内可以访问，成员 类外不可以访问</p>
<p>protected和private 的区别在于继承时： protected 儿子可以访问父亲中保护的内容； 而private 儿子不可以访问父亲的私有内容</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//创建一个类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//权限  -- 公共权限</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    </span><br><span class="line">    string m_name;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">protected</span>:  <span class="comment">// 保护权限</span></span><br><span class="line">    string m_car;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span>:  <span class="comment">// 私有权限</span></span><br><span class="line">    <span class="type">int</span> password;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> :</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">allocatePerson</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        m_name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">        m_car = <span class="string">&quot;奥迪&quot;</span>;  </span><br><span class="line">        password = <span class="number">12345</span>;   <span class="comment">// 类内都可以访问</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Person s1;</span><br><span class="line">    s1.m_name = <span class="string">&quot;李四&quot;</span>;</span><br><span class="line">    s1.m_car = <span class="string">&quot;GTR&quot;</span>;  <span class="comment">//出错</span></span><br><span class="line">    s1.password = <span class="number">987</span>;  <span class="comment">// 出错  -- protected 和 private 权限 在类内不可以访问</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>在C++中struct 和 class唯一的区别在于 默认访问的权限不同</strong></p>
<p><strong>区别： struct 默认权限为 公共；class默认权限为私有</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C1</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> m_pass = <span class="number">123</span>;  <span class="comment">//class默认 私有权限</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">C2</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> m_addr = <span class="number">321</span>; <span class="comment">//struct 默认 公共权限</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    C2 C2;</span><br><span class="line">    C1.m_pass =<span class="number">321</span>;  <span class="comment">// 会报错， 因为private 类外不可以访问</span></span><br><span class="line">    C2.m_addr = <span class="number">9878</span>; <span class="comment">// 没问题 public 公共权限 类内外都可以访问。</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="成员属性私有化"><a href="#成员属性私有化" class="headerlink" title="成员属性私有化"></a>成员属性私有化</h4><p>优点：</p>
<p>1、将所有成员属性设置为私有，可以自己控制读写权限</p>
<p>2、对于写权限，我们可以检测数据的有效性</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//可读可写 通过函数在类内实现可读可写操作</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="comment">//name可读可写实现</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setname</span><span class="params">(string name)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        m_name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">string <span class="title">getname</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">       </span><br><span class="line">       <span class="keyword">return</span> m_name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getAge</span><span class="params">()</span>  <span class="comment">// 年龄设置为 可读可写  对于写 可以检测数据的有效性</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">int</span> age = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setAge</span><span class="params">(<span class="type">int</span> age)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(age &lt; <span class="number">0</span> || age &gt; <span class="number">150</span>)  <span class="comment">//对于写操作，检测数据的有效性</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;你个老妖精&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">       age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setLover</span><span class="params">(string lover)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Lover = lover;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> :</span><br><span class="line">    string m_name;  <span class="comment">//成员属性设置为私有，将name设置为 可读可写</span></span><br><span class="line">    <span class="type">int</span> age;    <span class="comment">// 可读</span></span><br><span class="line">    string Lover;  <span class="comment">// 可写</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Person s1;</span><br><span class="line">    s1.<span class="built_in">setname</span>(<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">    s1.<span class="built_in">setLover</span>(<span class="string">&quot;嘉宝&quot;</span>);</span><br><span class="line">    s1.<span class="built_in">setAge</span>(<span class="number">1000</span>);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;年龄： &quot;</span> &lt;&lt; s1.<span class="built_in">getAge</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;name =  &quot;</span> &lt;&lt; s1.<span class="built_in">getname</span>()&lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="练习案例"><a href="#练习案例" class="headerlink" title="练习案例"></a>练习案例</h4><p>1、设计立方体类（Cube）求出立方体的面积和体积；分别用全局函数和成员函数判断两个立方体是否相等</p>
<p>体积：长乘宽乘高 </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//立方体类设计：1、 创建立方体类 2、设计属性 3、设计行为获取立方体面积和体积 4、分别利用</span></span><br><span class="line"><span class="comment">//全局函数和成员函数判断两个立方体是否相等。</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cube</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:  </span><br><span class="line">    <span class="comment">//设置长</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setL</span><span class="params">(<span class="type">int</span> l)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        m_L = l;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//获取长</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getL</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_L;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//设置宽</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setW</span><span class="params">(<span class="type">int</span> w)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        m_W = w;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//获取宽</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getW</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_W;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//设置高</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setH</span><span class="params">(<span class="type">int</span> h)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        m_H = h;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//获取高</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getH</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_H;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 获取立方体面积： 两倍长 *宽 + 两倍宽*高+ 两倍长 * 高</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">calculateS</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span>*m_L * m_W + <span class="number">2</span> *m_W * m_H + <span class="number">2</span>*m_L * m_H;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//获取立方体体积</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">calculateV</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_L * m_W * m_H;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//成员函数判断两个立方体相等</span></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isSameByclass</span><span class="params">(Cube &amp;c)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(m_L == c.m_L &amp;&amp; m_W == c.m_W &amp;&amp; m_H == c.m_H )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span>:  <span class="comment">//属性长 、 宽 、高</span></span><br><span class="line">    <span class="type">int</span> m_L;</span><br><span class="line">    <span class="type">int</span> m_W;</span><br><span class="line">    <span class="type">int</span> m_H;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//全局函数判断两个立方体是否相等</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">isSame</span><span class="params">(Cube &amp;c1, Cube &amp; c2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(c1.<span class="built_in">getL</span>() == c2.<span class="built_in">getL</span>() &amp;&amp; c1.<span class="built_in">getW</span>() == c2.<span class="built_in">getW</span>() &amp;&amp; c1.<span class="built_in">getH</span>() == c2.<span class="built_in">getH</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Cube c1;</span><br><span class="line">    c1.<span class="built_in">setL</span>(<span class="number">10</span>);</span><br><span class="line">    c1.<span class="built_in">setW</span>(<span class="number">10</span>);</span><br><span class="line">    c1.<span class="built_in">setH</span>(<span class="number">10</span>);</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;c1的面积为： &quot;</span> &lt;&lt; c1.<span class="built_in">calculateS</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;c1的体积为； &quot;</span> &lt;&lt; c1.<span class="built_in">calculateV</span>() &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 创建第二个立方体</span></span><br><span class="line">    Cube c2;</span><br><span class="line">    c2.<span class="built_in">setL</span>(<span class="number">10</span>);</span><br><span class="line">    c2.<span class="built_in">setW</span>(<span class="number">10</span>);</span><br><span class="line">    c2.<span class="built_in">setH</span>(<span class="number">10</span>);</span><br><span class="line">    <span class="type">bool</span> ret = <span class="built_in">isSame</span>(c1,c2);</span><br><span class="line">    <span class="keyword">if</span>(ret )</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;c1 和 c2相等 &quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;c1 和 c2不相等&quot;</span> &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//成员函数判断</span></span><br><span class="line">    <span class="type">bool</span> ret1 = c1.<span class="built_in">isSameByclass</span>(c2);</span><br><span class="line">    <span class="keyword">if</span>(ret1)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;成员函数判断：c1 c2 相等 &quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;成员函数判断：c1 c2 不相等&quot;</span> &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2、设计一个圆类 和点类，判断点和圆之间的关系</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//设计点类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//设置X坐标</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setX</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        m_X = x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//获取X坐标</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getX</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_X;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//设置Y坐标</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setY</span><span class="params">(<span class="type">int</span> y)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        m_Y = y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//获取Y坐标</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getY</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_Y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> m_X;</span><br><span class="line">    <span class="type">int</span> m_Y;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//设置半径</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setR</span><span class="params">(<span class="type">int</span> r )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        m_R = r;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//获取半径</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getR</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_R;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//设置圆心</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setC</span><span class="params">(Point center)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        m_Center =center;</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="comment">//获取圆心</span></span><br><span class="line">    <span class="function">Point <span class="title">getC</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_Center;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> m_R;  <span class="comment">// 半径</span></span><br><span class="line">    Point m_Center;  <span class="comment">// 圆心</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//判断点和圆的关系</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">isInCircle</span><span class="params">(Circle &amp;c,Point &amp;p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//计算两点之间距离的平方</span></span><br><span class="line">    <span class="type">int</span> distance = (c.<span class="built_in">getC</span>().<span class="built_in">getX</span>() - p.<span class="built_in">getX</span>())	*(c.<span class="built_in">getC</span>().<span class="built_in">getX</span>() - p.<span class="built_in">getX</span>()) +</span><br><span class="line">         (c.<span class="built_in">getC</span>().<span class="built_in">getY</span>() - p.<span class="built_in">getY</span>()) *(c.<span class="built_in">getC</span>().<span class="built_in">getY</span>() - p.<span class="built_in">getY</span>());</span><br><span class="line">    <span class="comment">//圆心的X坐标减去点的X坐标的平方  + 圆心的Y坐标减去点的Y坐标的平方</span></span><br><span class="line">    <span class="comment">//计算半径的平方</span></span><br><span class="line">    <span class="type">int</span> Rdistance =c.<span class="built_in">getR</span>() *c.<span class="built_in">getR</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//判断关系</span></span><br><span class="line">    <span class="keyword">if</span>(distance  == Rdistance)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;点在圆上&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>( distance &lt; Rdistance)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;点在圆内&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;点在圆外&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//创建一个圆</span></span><br><span class="line">    Circle c ;</span><br><span class="line">    c.<span class="built_in">setR</span>(<span class="number">10</span>);</span><br><span class="line">    Point center;</span><br><span class="line">    center.<span class="built_in">setX</span>(<span class="number">10</span>);</span><br><span class="line">    center.<span class="built_in">setY</span>(<span class="number">0</span>);</span><br><span class="line">    c.<span class="built_in">setC</span>(center);<span class="comment">//设置圆心</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//创建一个点</span></span><br><span class="line">    Point p;</span><br><span class="line">    p.<span class="built_in">setX</span>(<span class="number">10</span>);</span><br><span class="line">    p.<span class="built_in">setY</span>(<span class="number">10</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//判断关系</span></span><br><span class="line">    <span class="built_in">isInCircle</span>(c,p);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="对象特性"><a href="#对象特性" class="headerlink" title="对象特性"></a>对象特性</h3><p><strong>对象的初始化和清理</strong> ：C++中的面向对象来源于生活，每个对象也都会有初始设置以及对象销毁前的清理数据的设置</p>
<h4 id="构造函数和析构函数"><a href="#构造函数和析构函数" class="headerlink" title="构造函数和析构函数"></a>构造函数和析构函数</h4><p>构造函数：主要作用在创建对象时为对象的成员属性赋值，构造函数由编译器自动调用，无须手动调用</p>
<p>析构函数：主要作用在于对象销毁前系统自动调用，执行一些清理工作。</p>
<p><strong>构造函数语法：类名（）{ }</strong></p>
<p>1、 构造函数，没有返回值也不写void</p>
<p>2、函数名与类名相同</p>
<p>3、构造函数可以有参数，因此可以发生重载</p>
<p>4、程序在调用对象时会自动调用构造，无须手动调用，而且只会调用一次</p>
<p><strong>析构函数语法：~类名（）{ }</strong></p>
<p>1、析构函数，没有返回值也不写void</p>
<p>2、函数名和类名相同，在名称前加上符号 ~</p>
<p>3、析构函数不可以有参数，因此不可以发生重载</p>
<p>4、程序在对象销毁前会自动调用析构，无须手动调用，而且只会调用一次。</p>
<p> <strong>构造和析构都是必须有的实现，如果我们自己不提供，编译器会提供一个空实现的构造和析构</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Person</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;构造函数的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Person</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;析构函数的调用&quot;</span>&lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Person p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="构造函数的分类以及调用"><a href="#构造函数的分类以及调用" class="headerlink" title="构造函数的分类以及调用"></a>构造函数的分类以及调用</h5><p>两种分类方式：</p>
<p>按参数分：有参构造和无参构造（默认构造）</p>
<p>按类型分：普通构造和拷贝构造</p>
<p>三种调用方式：</p>
<p>括号法  ；  显示法 ； 隐式转换法。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">Person</span>()</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;无参构造函数 &quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">Person</span>(<span class="type">int</span> a)</span><br><span class="line">        &#123;</span><br><span class="line">            age = a;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;有参构造函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">Person</span>(<span class="type">const</span> Person &amp;p)</span><br><span class="line">        &#123;</span><br><span class="line">            age = p.age;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;拷贝构造函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        ~<span class="built_in">Person</span>()</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;析构函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> age;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">//构造函数的调用</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// 括号法</span></span><br><span class="line">        Person P1; <span class="comment">//创建一个对象p1  会自动调用 默认构造函数（无参构造函数）</span></span><br><span class="line">        <span class="function">Person <span class="title">p2</span><span class="params">(<span class="number">10</span>)</span></span>; <span class="comment">//创建一个对象p2 把整数10调过去 自动匹配有参构造函数</span></span><br><span class="line">        <span class="function">Person <span class="title">p3</span><span class="params">(p2)</span></span>; <span class="comment">//创建一个对象p3 把p2传过去，拷贝p2的成员属性给p3  拷贝构造函数</span></span><br><span class="line">        <span class="comment">//注意事项：调用默认构造函数不要加 () 如： Person p1() 编译器会认为这是一个 函数声明</span></span><br><span class="line">        <span class="comment">//不会认为在创建对象</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//显示法</span></span><br><span class="line">        Person p1;</span><br><span class="line">        Person p2 = <span class="built_in">Person</span>(<span class="number">10</span>);</span><br><span class="line">        Person p3 = <span class="built_in">Person</span>(p2);</span><br><span class="line">        <span class="built_in">Person</span>(<span class="number">10</span>) ;   <span class="comment">//是一个匿名对象 ，它没有名称，在匿名对象本行结束之后会立即回收匿名对象</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//注意事项：不能用拷贝构造函数初始化匿名对象，Person(p2)  编译器会认为是对象的声明 </span></span><br><span class="line">        <span class="comment">// Person p2 ;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//隐式转换法</span></span><br><span class="line">    Person p4 = <span class="number">10</span>; <span class="comment">//相当于 Person p4 = Person(10)</span></span><br><span class="line">    Person P5 = p4;  <span class="comment">// 拷贝构造</span></span><br><span class="line">&#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">test</span>();</span><br><span class="line">        <span class="built_in">test01</span>();</span><br><span class="line">        <span class="built_in">test02</span>();</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h5 id="拷贝构造函数的调用时机"><a href="#拷贝构造函数的调用时机" class="headerlink" title="拷贝构造函数的调用时机"></a>拷贝构造函数的调用时机</h5><p>C++中拷贝函数调用时机通常有三种情况</p>
<p>（1）使用一个已经创建完毕的对象来初始化一个新对象 （拷贝）</p>
<p>（2）值传递的方式给函数参数传值</p>
<p>（3）以值方式返回局部对象</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Person</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Person默认构造函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Person</span>(<span class="type">int</span> a)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Person有参构造函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Person</span>(<span class="type">const</span> Person &amp;p)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Person拷贝构造函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Person</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Person析构构造函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//使用一个已创建完毕的对象来初始化一个新对象</span></span><br><span class="line">    Person p1;</span><br><span class="line">    <span class="function">Person <span class="title">p2</span><span class="params">(p1)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dowork</span><span class="params">(Person p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//值传递的方式给函数参数传值</span></span><br><span class="line">    Person p;</span><br><span class="line">    <span class="built_in">dowork</span>(p);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Person <span class="title">dowork1</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Person a;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test03</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//以值方式返回局部对象</span></span><br><span class="line">   Person p =  <span class="built_in">dowork1</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span>();</span><br><span class="line">    <span class="built_in">test02</span>();</span><br><span class="line">    <span class="built_in">test03</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>) ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="构造函数调用规则"><a href="#构造函数调用规则" class="headerlink" title="构造函数调用规则"></a>构造函数调用规则</h5><p>默认情况下，C++编译器至少给一个类添加3个函数</p>
<p>（1）默认构造函数（无参，函数体为空）</p>
<p>（2）默认析构函数 （无参，函数体为空）</p>
<p>（3）默认拷贝构造函数，对属性进行值拷贝</p>
<p><strong>构造函数调用规则如下：</strong></p>
<p>如果用户定义有参构造函数，C++不在提供默认无参构造函数，但会提供默认拷贝构造函数</p>
<p>如果用户定义拷贝构造函数，C++不会在提供其它构造函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">   <span class="comment">// Person()</span></span><br><span class="line">   <span class="comment">// &#123;</span></span><br><span class="line">   <span class="comment">//     cout &lt;&lt; &quot;Person默认构造函数 &quot; &lt;&lt; endl;</span></span><br><span class="line"> <span class="comment">//   &#125;</span></span><br><span class="line">   <span class="comment">// Person(int a)</span></span><br><span class="line">   <span class="comment">// &#123;</span></span><br><span class="line">   <span class="comment">//     AGE = a;</span></span><br><span class="line">  <span class="comment">//      cout &lt;&lt; &quot;Person有参构造函数的调用&quot; &lt;&lt; endl;</span></span><br><span class="line">   <span class="comment">// &#125;</span></span><br><span class="line">    <span class="built_in">Person</span>(<span class="type">const</span> Person &amp;p)</span><br><span class="line">    &#123;</span><br><span class="line">        AGE = p.AGE;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Person拷贝构造函数的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Person</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;析构函数的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> AGE;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Person p1;  <span class="comment">// 会出现报错</span></span><br><span class="line">    <span class="function">Person <span class="title">p2</span><span class="params">(<span class="number">10</span>)</span></span>;    <span class="comment">// 当用户提供了拷贝构造函数时,编译器不再提供其它构造函数</span></span><br><span class="line">    <span class="function">Person <span class="title">p3</span><span class="params">(p2)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span>();</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="深拷贝与浅拷贝"><a href="#深拷贝与浅拷贝" class="headerlink" title="深拷贝与浅拷贝"></a>深拷贝与浅拷贝</h5><p>深浅拷贝是面试经典问题，也是常见的一个坑</p>
<p>浅拷贝：简单的赋值拷贝操作</p>
<p>深拷贝：在堆区重新申请空间，进行拷贝操作</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Person</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;默认构造函数的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Person</span>(<span class="type">int</span> age,<span class="type">int</span> height)</span><br><span class="line">    &#123;</span><br><span class="line">        AGE =age;</span><br><span class="line">        Height  = <span class="keyword">new</span> <span class="built_in">int</span>(height);</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;有参构造函数的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//自己实现拷贝构造函数来解决浅拷贝的问题</span></span><br><span class="line">    <span class="built_in">Person</span>(<span class="type">const</span> Person &amp;p)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;拷贝构造函数的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">        AGE = p.AGE;</span><br><span class="line">        <span class="comment">//Height = p.Height  编译器默认实现这行代码</span></span><br><span class="line">        Height = <span class="keyword">new</span> <span class="built_in">int</span>(*p.Height);</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Person</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 析构函数：用来释放堆区开辟的空间</span></span><br><span class="line">         cout &lt;&lt; <span class="string">&quot;析构函数的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">if</span>(Height != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">delete</span> Height ;</span><br><span class="line">            Height = <span class="literal">NULL</span>;  <span class="comment">//防止野指针的出现</span></span><br><span class="line">        &#125; </span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> AGE;</span><br><span class="line">    <span class="type">int</span> *Height;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Person <span class="title">p1</span><span class="params">(<span class="number">18</span>,<span class="number">120</span>)</span></span>;   <span class="comment">//这样调用编译器自动调用拷贝函数 将值进行简单的赋值，此时的拷贝</span></span><br><span class="line">    <span class="comment">//是浅拷贝：简单的将值拷贝 ；当释放new出来的空间时，p1和p2都用调用拷贝函数和析构函数</span></span><br><span class="line">    <span class="comment">//在p1调用完析构函数时，new出来的空间已经被释放，当p2在调用时又释放了一次，造成程序出错</span></span><br><span class="line">    <span class="function">Person <span class="title">p2</span><span class="params">(p1)</span></span>;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;p1的年龄： &quot;</span> &lt;&lt; p1.AGE &lt;&lt; <span class="string">&quot;p1的身高： &quot;</span> &lt;&lt; *p1.Height &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;p2的年龄： &quot;</span> &lt;&lt; p2.AGE &lt;&lt; <span class="string">&quot;p2的身高： &quot;</span> &lt;&lt; *p2.Height &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>析构代码的用途：将堆区开辟数据做释放操作</strong></p>
<p><strong>总结：如果属性有在堆区开辟的，一定要自己提供拷贝构造函数，防止浅拷贝带来的问题</strong></p>
<h4 id="初始化列表"><a href="#初始化列表" class="headerlink" title="初始化列表"></a>初始化列表</h4><p><strong>语法：构造函数( ): 属性1（值1），属性2（值2），……{ }</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//传统化赋初值</span></span><br><span class="line">    <span class="built_in">Person</span>(<span class="type">int</span> a,<span class="type">int</span> b, <span class="type">int</span> c)</span><br><span class="line">    &#123;</span><br><span class="line">        m_A = a;</span><br><span class="line">        m_B = b;</span><br><span class="line">        m_C = c;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//初始化列表方式初始化</span></span><br><span class="line">    <span class="built_in">Person</span>(<span class="type">int</span> a,<span class="type">int</span> b,<span class="type">int</span> c):<span class="built_in">m_A</span>(a),<span class="built_in">m_B</span>(B),<span class="built_in">m_C</span>(c) &#123;&#125;</span><br><span class="line">    <span class="type">int</span> m_A;</span><br><span class="line">    <span class="type">int</span> m_B;</span><br><span class="line">    <span class="type">int</span> m_C;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>类对象作为类成员</strong></p>
<p>C++中类的成员可以是另一个类的对象，我们称该成员为对象成员。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Phone</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Phone</span> (string phone)</span><br><span class="line">    &#123;</span><br><span class="line">        Pname = phone;</span><br><span class="line">    &#125;</span><br><span class="line">    string Pname;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">Person</span>(string name,sting pname) : <span class="built_in">m_name</span>(name),<span class="built_in">m_Phone</span>(pname) &#123;&#125;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    string m_name;</span><br><span class="line">    Phone m_Phone;  <span class="comment">// Phone类 需要在创建</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Person <span class="title">p</span><span class="params">(<span class="string">&quot;张三&quot;</span>，<span class="string">&quot;华为mate50&quot;</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;name = &quot;</span> &lt;&lt; p.m_name &lt;&lt; <span class="string">&quot;phone = &quot;</span>  &lt;&lt; p.m_Phone &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>总结：构造的顺序是：先调用对象成员的构造，再调用本类构造；析构与构造相反。</strong></p>
<h4 id="静态成员"><a href="#静态成员" class="headerlink" title="静态成员"></a>静态成员</h4><p>静态成员就是在成员变量和成员函数前加上关键字static，称为静态成员</p>
<p><strong>静态成员变量：</strong></p>
<p>（1）所有对象共享同一份数据</p>
<p>（2）在编译阶段分配内存</p>
<p>（3）类内声明，类外初始化</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">   <span class="type">static</span> <span class="type">int</span> m_A;   <span class="comment">//static修饰之后 成员变量为静态成员变量</span></span><br><span class="line"> &#125;;</span><br><span class="line"><span class="type">int</span> Person :: m_A = <span class="number">100</span>;  <span class="comment">//要加Person :: 表示是Person类 作用域下的，不然编译器会认为这是一个全局变量</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Person p;</span><br><span class="line">    cout &lt;&lt; p.m_A &lt;&lt; endl; <span class="comment">// 此时输出会报错，因为静态成员变量没有在类外初始化</span></span><br><span class="line">    Person p1;</span><br><span class="line">    p1.m_A = <span class="number">200</span>;</span><br><span class="line">    cout &lt;&lt; p.m_A &lt;&lt; endl;  <span class="comment">//此时在输出对象p.m_A属性，m_A变为两百，因为所有对象共享</span></span><br><span class="line">    <span class="comment">//同一份静态成员变量</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//静态成员变量 不属于某个对象上，所有对象共享同一份数据</span></span><br><span class="line">    <span class="comment">//因此静态成员变量有两种访问方式</span></span><br><span class="line">    <span class="comment">//1、通过对象进行访问</span></span><br><span class="line">    Person p;</span><br><span class="line">    cout &lt;&lt; p.m_A &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//2、通过类名进行访问</span></span><br><span class="line">    cout &lt;&lt; Person :: m_A &lt;&lt; endl;  <span class="comment">//通过Person类名 之间访问 m_A静态成员变量</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//test01();</span></span><br><span class="line">    <span class="built_in">test02</span>(); </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意：静态成员变量也是有访问权限的，在private权限下，类外不能访问静态成员变量</p>
<p><strong>静态成员函数：</strong></p>
<p>（1）所有对象共享同一个函数</p>
<p>（2）静态成员函数只能访问静态成员变量</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">fun</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;fun的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">        m_A = <span class="number">100</span>;  <span class="comment">//可以调用， 因为静态成员变量是所有对象共享的</span></span><br><span class="line">        m_B <span class="number">-200</span>;  <span class="comment">//不能调用非静态成员变量，因为不知道m_B是哪个对象的属性</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> m_A;</span><br><span class="line">    <span class="type">int</span> m_B;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意：静态成员函数也有访问权限，在private权限下，类外不能访问</p>
<h4 id="C-对象模型和this指针"><a href="#C-对象模型和this指针" class="headerlink" title="C++对象模型和this指针"></a>C++对象模型和this指针</h4><h5 id="成员变量和成员函数分开存储"><a href="#成员变量和成员函数分开存储" class="headerlink" title="成员变量和成员函数分开存储"></a>成员变量和成员函数分开存储</h5><p><strong>在C++中，类内的成员变量和成员函数分开存储；只有非静态成员变量才属于类的对象上</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> m_A; <span class="comment">//非静态成员变量,属于类的对象上</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Person p;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;sizeof(p) = &quot;</span> &lt;&lt; <span class="built_in">sizeof</span>(p) &lt;&lt; endl;  <span class="comment">//输出为4字节</span></span><br><span class="line">    <span class="comment">//空对象占一个字节，编译器自动分配的 为了区分每个空对象所占内存的位置</span></span><br><span class="line">    <span class="comment">//每个空对象都应该有一个独一无二的内存地址</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="this指针"><a href="#this指针" class="headerlink" title="this指针"></a>this指针</h5><p><strong>C++提供特殊的对象指针：this指针指向被调用的成员函数所属的对象。</strong></p>
<p><strong>this指针</strong>是隐含每一个非静态成员函数内的一种指针</p>
<p><strong>this指针</strong>不需要定义，直接使用即可</p>
<p>this指针的用途：</p>
<p>（1）当形参和成员变量同名时，可用this指针来区分</p>
<p>（2）在类的非静态成员函数中返回对象本身，可使用 return *this</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Person</span> (<span class="type">int</span> age)</span><br><span class="line">    &#123;</span><br><span class="line">       <span class="keyword">this</span>-&gt; age = age;   <span class="comment">//因为形参age和成员变量age同名，编译器认为是形参age的赋值操作，</span></span><br><span class="line">        <span class="comment">//而不是成员变量的赋值操作，解决办法用this指针来区分</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//this指针指向的是被调用成员函数的对象，用this来访问成员变量也就相当于对象本身来访问成员</span></span><br><span class="line">        <span class="comment">//变量</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">Person &amp; <span class="title">PersonAddage</span><span class="params">(Person &amp;p)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;age += p.age;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;  <span class="comment">//用this指针来返回对象本身</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> age ;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Person <span class="title">p1</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;p1.age = &quot;</span> &lt;&lt; p1.age &lt;&lt; endl; <span class="comment">//此时输出报错</span></span><br><span class="line">    <span class="function">Person <span class="title">p2</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">    <span class="comment">//cout &lt;&lt; p2.PersonAddage(p1) &lt;&lt; endl;</span></span><br><span class="line">    p2.<span class="built_in">PersonAddage</span>(p1).<span class="built_in">PersonAddage</span>(p1).<span class="built_in">PersonAddage</span>(p1);</span><br><span class="line">    cout &lt;&lt; p2.age &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>this指针的本质 是 指针常量 指针的指向是不可以修改的</strong></p>
<h5 id="空指针访问成员函数"><a href="#空指针访问成员函数" class="headerlink" title="空指针访问成员函数"></a>空指针访问成员函数</h5><p>空指针也是可用调用成员函数的，但是也要注意有没有用到this指针；如果用到this指针，需要加以判断保证代码的健壮性。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">showClassName</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;this is Person class&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">showclassm</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//解决办法</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span> == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; m_A &lt;&lt; endl;    <span class="comment">//报错的原因是 传入了一个空指针  m_A 实际上是this -&gt; m_A</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m_A;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Person * p =<span class="literal">NULL</span>;</span><br><span class="line">    p-&gt;<span class="built_in">showClassName</span>();</span><br><span class="line">    p-&gt;<span class="built_in">showclassm</span>();  <span class="comment">// 会出现报错</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="const修饰成员函数"><a href="#const修饰成员函数" class="headerlink" title="const修饰成员函数"></a>const修饰成员函数</h5><p><strong>常函数：</strong></p>
<p>（1）成员函数后加const后我们称这个函数为常函数</p>
<p>（2）常函数内不可以修改成员属性</p>
<p>（3）成员属性声明时再加关键字mutable后，在常函数中依然可用修改</p>
<p><strong>常对象：</strong></p>
<p>（1）声明对象前加const称该对象为常对象</p>
<p>（2）常对象只能调用常函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">showPerson</span><span class="params">()</span> <span class="type">const</span> <span class="comment">//this是指针常量 Person * const this;</span></span></span><br><span class="line"><span class="function">        <span class="comment">// 再加上const之后 就变成了const Person *const this ; 指针指向和值都不可以改。</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        m_B = <span class="number">200</span>;</span><br><span class="line">        m_A = <span class="number">100</span>; <span class="comment">//会出现报错，因为this指针本质上是一个指针常量 ，指向不可以改</span></span><br><span class="line">        <span class="comment">//m_A 就等于 this -&gt;m_A ;   </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m_A;</span><br><span class="line">    <span class="keyword">mutable</span> <span class="type">int</span> m_B; <span class="comment">//特殊变量 加关键字mutable 即使在常函数中也可以修改</span></span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">const</span> Person p; <span class="comment">//在对象前加const，变为常对象，常对象不可以修改普通成员变量，</span></span><br><span class="line">    p.m_B =<span class="number">300</span>; <span class="comment">//m_B是特殊变量，在常对象下可以修改</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="友元"><a href="#友元" class="headerlink" title="友元"></a>友元</h4><p><strong>友元的目的就是让一个函数或者类 访问另一个类中私有成员</strong></p>
<p>关键字：<strong>friend</strong></p>
<p><strong>三种实现:</strong></p>
<p>(1)全局函数做友元</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Building</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//告诉编译器goodGay全局函数是Building类的好朋友，可以访问类中的私有成员</span></span><br><span class="line">    <span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">goodGay</span><span class="params">(Building &amp;build)</span></span>;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Building</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        m_SittingRoom = <span class="string">&quot;客厅&quot;</span> ;</span><br><span class="line">        m_BedRoom = <span class="string">&quot;卧室&quot;</span> ;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    string m_SittingRoom ;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    </span><br><span class="line">    string m_BedRoom;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">goodGay</span><span class="params">(Building &amp;build)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;goodgay正在访问 &quot;</span> &lt;&lt; build.m_SittingRoom &lt;&lt; endl; <span class="comment">//可以访问</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;goddgay正在访问：&quot;</span> &lt;&lt; build.m_BedRoom &lt;&lt; endl;<span class="comment">//不可以访问，因为BedRoom是私有</span></span><br><span class="line">    <span class="comment">//属性</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Building build;</span><br><span class="line">    <span class="built_in">goodGay</span>(build);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>相当于在类中声明 全局函数是友元，可以访问类中私有成员</p>
<p>（2）友元类</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Building</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GoodGay</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">GoodGay</span>(); <span class="comment">//构造函数的声明</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">visit</span><span class="params">()</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    Building *building;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Building</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//告诉编译器 GoodGay类是本类的好朋友，可以访问本类的私有成员</span></span><br><span class="line">    <span class="keyword">friend</span> <span class="keyword">class</span> <span class="title class_">GoodGay</span>;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Building</span>();</span><br><span class="line">    string m_SittingRoom;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    string m_BedRoom;</span><br><span class="line">      </span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">void</span> GoodGay :: <span class="built_in">visit</span>()</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;goodgay 正在访问 &quot;</span> &lt;&lt; building-&gt;m_SittingRoom &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;goodgay 正在访问 &quot;</span> &lt;&lt; building-&gt;m_BedRoom &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//类外定义构造函数</span></span><br><span class="line">Building :: <span class="built_in">Building</span>()</span><br><span class="line">&#123;</span><br><span class="line">    m_SittingRoom = <span class="string">&quot;客厅&quot;</span> ;</span><br><span class="line">    m_BedRoom = <span class="string">&quot;卧室&quot;</span> ;</span><br><span class="line">&#125;</span><br><span class="line">GoodGay :: <span class="built_in">GoodGay</span>()</span><br><span class="line">&#123;</span><br><span class="line">    building = <span class="keyword">new</span> Building;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    GoodGay gg;</span><br><span class="line">    gg.<span class="built_in">visit</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>（3）成员函数做友元</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Building</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GoodGay</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">visit</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">visit1</span><span class="params">()</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">GoodGay</span>(); <span class="comment">//默认构造函数（无参构造）</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span>: </span><br><span class="line">    Building *building;  <span class="comment">// 使用了Building 类 要先声明因为Building类还没创建 会报错</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Building</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//告诉编译器 GoodGay作用域下的visit函数是本类的好朋友，可以访问本类的私有成员</span></span><br><span class="line">    <span class="keyword">friend</span> <span class="type">void</span> GoodGay :: <span class="built_in">visit</span>();</span><br><span class="line">    <span class="keyword">friend</span> <span class="type">void</span> GoodGay :: <span class="built_in">visit1</span>();</span><br><span class="line">    <span class="keyword">public</span> :</span><br><span class="line">    <span class="built_in">Building</span> ();  <span class="comment">//默认构造函数进行初始化成员变量</span></span><br><span class="line">    </span><br><span class="line">    string m_SittingRoom;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    string m_BedRoom;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//类外定义成员函数</span></span><br><span class="line">Building :: <span class="built_in">Building</span>()  <span class="comment">//Building作用域下的默认构造函数</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//利用默认构造函数给成员变量赋初值</span></span><br><span class="line">    m_SittingRoom = <span class="string">&quot;客厅&quot;</span> ;</span><br><span class="line">    m_BedRoom = <span class="string">&quot;卧室&quot;</span> ;</span><br><span class="line">&#125;</span><br><span class="line">GoodGay :: <span class="built_in">GoodGay</span>() <span class="comment">//GoodGay作用域下的默认构造函数的定义</span></span><br><span class="line">&#123;</span><br><span class="line">    building  = <span class="keyword">new</span> Building; <span class="comment">//在堆区开辟一个Building类的空间 存放在building中</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> GoodGay :: <span class="built_in">visit</span>()</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;visit正在访问 &quot;</span> &lt;&lt; building-&gt;m_SittingRoom &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;visit正在访问 &quot;</span> &lt;&lt; building-&gt;m_BedRoom &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> GoodGay :: <span class="built_in">visit1</span>()</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;visit1正在访问 &quot;</span> &lt;&lt; building-&gt;m_SittingRoom &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;visit1正在访问 &quot;</span> &lt;&lt; building-&gt;m_BedRoom &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    GoodGay gg;</span><br><span class="line">    gg.<span class="built_in">visit</span>();</span><br><span class="line">    gg.<span class="built_in">visit1</span>();</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="C-运算符重载"><a href="#C-运算符重载" class="headerlink" title="C++运算符重载"></a>C++运算符重载</h4><p>概念：对已有的运算符重新进行定义，赋予其另一种功能，以适应不同的数据类型</p>
<p><strong>（1）加号运算符重载</strong></p>
<p><strong>实现两个自定义数据类型相加的运算</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> m_A;</span><br><span class="line">    <span class="type">int</span> m_B;</span><br><span class="line">&#125;;</span><br><span class="line">Person p1;</span><br><span class="line">Person p2;</span><br><span class="line">p1.m_A =<span class="number">10</span>;</span><br><span class="line">p1.m_B =<span class="number">20</span>;</span><br><span class="line">p2.m_B =<span class="number">20</span>;</span><br><span class="line">p2.m_A =<span class="number">10</span>;</span><br><span class="line">Person p3 = p1 + p2; <span class="comment">//两个自定义数据类型进行相加，编译器无法完成</span></span><br><span class="line"><span class="comment">// 通过自己写成员函数，实现两个对象相加属性之后返回新的对象</span></span><br><span class="line"><span class="function">Person <span class="title">personaddperson</span><span class="params">(Person &amp;p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Person tem; <span class="comment">//创建一个新对象</span></span><br><span class="line">    tem.m_A = <span class="keyword">this</span>-&gt;m_A +p.m_A;</span><br><span class="line">    tem.m_B = <span class="keyword">this</span>-&gt;m_B +p.m_B;</span><br><span class="line">    <span class="keyword">return</span> tem;  <span class="comment">//返回新的对象，此对象属性已经完成了两个对象的相加操作</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//由于函数名称可以根据用户自定义，所以编译器给起了一个通用名称 operator+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//两种重载方式：</span></span><br><span class="line"><span class="comment">//通过成员函数进行重载</span></span><br><span class="line">Person <span class="keyword">operator</span>+ (Person &amp;p)</span><br><span class="line">&#123;</span><br><span class="line">    Person tem ;</span><br><span class="line">        tem.m_A= <span class="keyword">this</span>-&gt;m_A +p.m_A;</span><br><span class="line">    tem.m_B =<span class="keyword">this</span>-&gt;m_B +p.m_B;</span><br><span class="line">    <span class="keyword">return</span> tem;</span><br><span class="line">&#125;</span><br><span class="line">Person p3 = p1.<span class="keyword">operator</span>+(p2);  <span class="comment">//本质上</span></span><br><span class="line"><span class="comment">//可以简化为：  Person p3 = p1 + p2;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//通过全局函数重载+</span></span><br><span class="line">Person <span class="keyword">operator</span>+ (Person &amp;p1, Person &amp;p2)</span><br><span class="line">&#123;</span><br><span class="line">    Person temp ;</span><br><span class="line">    temp.m_A =p1.m_A +p2.m_A;</span><br><span class="line">    temp.m_B =p1.m_B +p1.m_B;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line">Person p3 = <span class="keyword">operator</span>+(p1,p2);</span><br><span class="line"><span class="comment">//简化为  ：  Person p3 =p1+p2;</span></span><br></pre></td></tr></table></figure>

<p><strong>运算符重载也可以发生函数重载</strong></p>
<p>总结1：对于内置数据类型的表达式的运算符是不可以发生函数重载的</p>
<p>总结2：不要滥用运算符重载</p>
<p><strong>（2）左移运算符重载</strong></p>
<p><strong>作用：可以输出自定义数据类型</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//void  operator &lt;&lt; (cout) //无法利用成员函数来完成左移运算符重载，p.operator(cout)</span></span><br><span class="line">        <span class="comment">// 简化之后 p &lt;&lt; cout ;cout 在右边，无法实现cout 在左边</span></span><br><span class="line">    <span class="type">int</span> m_A;</span><br><span class="line">    <span class="type">int</span> m_B;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//通过全局函数来实现左移运算符重载</span></span><br><span class="line">ostream&amp; <span class="keyword">operator</span> &lt;&lt; (ostream &amp;cout, Person &amp;p)  <span class="comment">//ostream是输出流类型， istream 是输入流</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//返回类型 是cout的别名 相当于返回 cout本身</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;m_A = &quot;</span> &lt;&lt; p.m_A &lt;&lt; <span class="string">&quot; m_B = &quot;</span>&lt;&lt;p.m_B ;</span><br><span class="line">    <span class="keyword">return</span> cout;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Person p;</span><br><span class="line">    p.m_A =<span class="number">100</span>;</span><br><span class="line">    p.m_B =<span class="number">200</span>;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; p &lt;&lt; endl;  <span class="comment">// cout &lt;&lt; p 本质上是一个函数 左移运算符重载</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>只能利用全局函数来实现左移运算符重载。</strong></p>
<p><strong>（3）递增运算符重载</strong></p>
<p><strong>作用：通过重载递增运算符，实现自己的整型数据</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Myin</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">friend</span> ostream &amp; <span class="keyword">operator</span> &lt;&lt; (ostream &amp;out, Myin &amp;my); <span class="comment">//利用友元访问类中私有成员</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Myin</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        m_num = <span class="number">100</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//前置递增 </span></span><br><span class="line">    Myin &amp; <span class="keyword">operator</span> ++()</span><br><span class="line">    &#123;</span><br><span class="line">        ++ m_num; </span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>; <span class="comment">//返回对象本身 可以对同一个对象进行累加</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//后置递增</span></span><br><span class="line">    Myin <span class="keyword">operator</span> ++(<span class="type">int</span> ) <span class="comment">//利用占位参数来区分是前置加加还是后置加加，int表示后置加加</span></span><br><span class="line">    &#123;</span><br><span class="line">        Myin temp = *<span class="keyword">this</span>; <span class="comment">//记录当前的值，让本身的值加1，然后返回当前的值实现 先返回后加加</span></span><br><span class="line">       m_num ++;</span><br><span class="line">        <span class="keyword">return</span> temp;</span><br><span class="line">    &#125;</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> m_num;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line">ostream &amp; <span class="keyword">operator</span> &lt;&lt; (ostream &amp; cout ,Myin my)  <span class="comment">//Myin类型不能用引用，因为后置++ 返回的是</span></span><br><span class="line">    <span class="comment">//一个局部变量 局部变量出内存空间就被释放掉，如果用引用，引用指向的是原对象的地址，原对象</span></span><br><span class="line">    <span class="comment">//地址已经被释放了所以会出错</span></span><br><span class="line"> </span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;num = &quot;</span>  &lt;&lt; my.m_num;</span><br><span class="line">    <span class="keyword">return</span> cout ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Myin m;</span><br><span class="line">   <span class="comment">// cout &lt;&lt; m &lt;&lt; endl; //利用左移运算符重载</span></span><br><span class="line">    cout &lt;&lt; ++(++ m) &lt;&lt; endl; <span class="comment">//利用递增运算符重载</span></span><br><span class="line">    cout &lt;&lt; m++ &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; m &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>总结：前置递增返回的是引用 ；后置递增返回的是值。</strong></p>
<p><strong>（4）赋值运算符重载</strong></p>
<p>C++编译器至少给一个类添加4个函数；前三个已经说过，还有一个是：赋值运算符重载 operator &#x3D;，对属性进行值拷贝。</p>
<p>如果类中有属性指向堆区，做赋值操作时也会出现深浅拷贝的问题。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Person</span>(<span class="type">int</span> age)</span><br><span class="line">    &#123;</span><br><span class="line">        m_A = <span class="keyword">new</span> <span class="built_in">int</span> (age);</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Person</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(m_A !=<span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">delete</span> m_A;</span><br><span class="line">            m_A = <span class="literal">NULL</span>; <span class="comment">//会报错出现浅拷贝问题</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//解决办法 利用赋值运算符重载 operator = 重新分配空间</span></span><br><span class="line">    Person &amp; <span class="type">void</span> <span class="keyword">operator</span> = (Person &amp;p)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//首先判断 属性是否在堆区 有则释放干净</span></span><br><span class="line">        <span class="keyword">if</span>(m_A != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">delete</span> m_A;</span><br><span class="line">            m_A = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//将属性重新开辟堆区空间</span></span><br><span class="line">        m_A = <span class="keyword">new</span> <span class="built_in">int</span> (*p.m_A);</span><br><span class="line">            <span class="keyword">return</span> *<span class="keyword">this</span>; <span class="comment">//返回自身</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> * m_A;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Person <span class="title">p1</span><span class="params">(<span class="number">18</span>)</span></span>;</span><br><span class="line">    <span class="function">Person <span class="title">p2</span><span class="params">(<span class="number">20</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;p1 = &quot;</span> &lt;&lt; *p1.m_A &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;p2 = &quot;</span> &lt;&lt; *p2.m_A &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>（5）关系运算符重载</strong></p>
<p><strong>作用：重载关系运算符，可以让两个自定义类型对象进行对比操作</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Person</span>(string name, <span class="type">int</span> age)</span><br><span class="line">    &#123;</span><br><span class="line">        m_name = name;</span><br><span class="line">        m_age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span> ==(Person &amp;p)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;m_name == p.m_name &amp;&amp; <span class="keyword">this</span>-&gt;m_age == p.m_age)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span> != (Person &amp; p)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;m_name == p.m_name &amp;&amp; <span class="keyword">this</span>-&gt;m_age == p.m_age)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    string m_name;</span><br><span class="line">    string m_age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">&quot;张三&quot;</span>,<span class="number">18</span>)</span></span>;</span><br><span class="line">    <span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">&quot;张三&quot;</span>,<span class="number">18</span>)</span></span>;</span><br><span class="line">    <span class="keyword">if</span>(p1 == p2)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;p1  == p2&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;p1  != p2&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">if</span>(p1 != p2)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;p1 != p2&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;p1 == p2&quot;</span> &lt;&lt; endl;</span><br><span class="line">             </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>(6)函数调用运算符重载</strong></p>
<p>函数调用运算符 （ ） 也可以发生重载；由于重载后使用的方式非常像函数的调用，因此称为仿函数；</p>
<p>仿函数非常灵活，没有固定的写法。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myprintf</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">operator</span> <span class="params">()</span> <span class="params">(string test)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; test &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">mytest</span><span class="params">(string t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; t &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">myprintf <span class="title">p</span><span class="params">(<span class="string">&quot;张三&quot;</span>)</span></span>;  <span class="comment">//看起来和函数非常像 称为仿函数</span></span><br><span class="line">    <span class="built_in">mytest</span>(<span class="string">&quot;张三&quot;</span>);  <span class="comment">//函数调用  两个的取别时， 一个是对象引用括号调用 一个是函数直接调用</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>匿名函数对象： myprintf()(100,100) ;  数据类型加( ) 表示匿名对象，后面再接一个（）表示函数调用运算符重载</p>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><p>有些类与类之间存在特殊的关系；定义这些类时，成员除了有自己的特性，还有上一级的共性，这个时候可以用继承的技术，减少代码重复</p>
<p><strong>继承的好处：减少重复代码</strong></p>
<p><strong>语法：class 子类 ：继承方式  父类    – 子类又称派生类， 父类又称基类</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BasePage</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">header</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;首页、公开课、登录、注册......(公共头部) &quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">footer</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt;<span class="string">&quot;帮助中心、交流中心、站内导航.......(公共底部)&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">left</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Java、C++、Python.......(公共列表）&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//继承语法：class 子类（派生类） : 继承方式 父类（基类）</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Java</span> : <span class="keyword">public</span> BasePage</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">content</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Java学科视频&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CPP</span> : <span class="keyword">public</span> BasePage</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">content</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;C++学科视频&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Python</span> : <span class="keyword">public</span> BasePage</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">content</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Python学科视频&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Java J;</span><br><span class="line">    J.<span class="built_in">header</span>();</span><br><span class="line">    J.<span class="built_in">footer</span>();</span><br><span class="line">    J.<span class="built_in">left</span>();</span><br><span class="line">    J.<span class="built_in">content</span>();</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;---------------------&quot;</span>&lt;&lt; endl;</span><br><span class="line">    Python P;</span><br><span class="line">    P.<span class="built_in">header</span>();</span><br><span class="line">    P.<span class="built_in">footer</span>();</span><br><span class="line">    P.<span class="built_in">left</span>();</span><br><span class="line">    P.<span class="built_in">content</span>();</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;---------------------&quot;</span>&lt;&lt; endl;</span><br><span class="line">    CPP C;</span><br><span class="line">    C.<span class="built_in">header</span>();</span><br><span class="line">    C.<span class="built_in">footer</span>();</span><br><span class="line">    C.<span class="built_in">left</span>();</span><br><span class="line">    C.<span class="built_in">content</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="继承方式"><a href="#继承方式" class="headerlink" title="继承方式"></a>继承方式</h4><p>三种继承方式：public（公共继承）、protected（保护继承）、private（私有继承）</p>
<p>子类都不可以访问父类中的私有内容；如果子类继承权限是public 那么父类中除私有内容以外的权限在子类还是一样的权限；如果子类继承权限是protected，那么父类中除私有内容以外， 其它权限在子类中都变成保护权限；如果是私有继承，那么父类中除私有内容以外，其它权限在子类中都变成私有权限。</p>
<img src="/2022/08/08/C/jichengmethod.png" class title="jichengmethod">

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base1</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> m_A;</span><br><span class="line">    <span class="keyword">protected</span>:</span><br><span class="line">    <span class="type">int</span> m_B;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> m_C;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">son1</span> : <span class="keyword">public</span> Base1</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        m_A =<span class="number">100</span>; <span class="comment">//可以访问 父类中的公共成员在子类中还是公共成员</span></span><br><span class="line">        m_B =<span class="number">200</span>; <span class="comment">//可以访问 父类中保护成员在子类中的权限还是保护权限</span></span><br><span class="line">        m_C = <span class="number">100</span>; <span class="comment">//不可以访问，子类不可以访问父类中的私有成员</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    son1 s1;</span><br><span class="line">    s1.m_A = <span class="number">200</span>; <span class="comment">//可以访问，公共权限在类外可以访问</span></span><br><span class="line">    s1.m_B = <span class="number">300</span>; <span class="comment">//不可以访问，保护权限在类外访问不到</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">son2</span> : <span class="keyword">protected</span> Base1</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        m_A = <span class="number">300</span>; <span class="comment">//父类中除私有权限以外，其它权限在子类中都成了保护权限</span></span><br><span class="line">        m_B = <span class="number">400</span>;</span><br><span class="line">        m_C = <span class="number">300</span> ;<span class="comment">//子类不可以访问父类的私有权限</span></span><br><span class="line">    &#125;</span><br><span class="line">       </span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    son2 s2;</span><br><span class="line">    s2.m_A = <span class="number">400</span>; <span class="comment">//不可以访问m_A 因为m_A在子类中的权限已经变成了保护权限 内外不可以访问</span></span><br><span class="line">    s2.m_B = <span class="number">500</span>; <span class="comment">//同样不可以访问 </span></span><br><span class="line">        </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">son3</span> : <span class="keyword">private</span> Base1</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        m_A = <span class="number">500</span>;</span><br><span class="line">        m_B = <span class="number">600</span>;</span><br><span class="line">        m_C = <span class="number">600</span>; <span class="comment">// 子类不可以访问父类的私有成员</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test03</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    son3 s3;</span><br><span class="line">    s3.m_A = <span class="number">600</span>; <span class="comment">//不可以访问，因为m_A在子类中的权限变成了私有</span></span><br><span class="line">    s3.m_B = <span class="number">800</span>; <span class="comment">//同样不可以访问</span></span><br><span class="line">     </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>父类中的私有成员只是被隐藏了，但是还是会继承下去</strong></p>
<h4 id="继承中的对象模型"><a href="#继承中的对象模型" class="headerlink" title="继承中的对象模型"></a>继承中的对象模型</h4><p>打开VS开发人员命令提示符 跳转到代码文件所在的磁盘 如： D: +回车  跳转到D盘；然后 输入cd +代码所在文件夹的路径 cd表示跳转；跳转之后回车 然后加dir 再回车查看目录；输入cl &#x2F;d1 reportSingleClassLayout + 类名 +空格 +tab键   查看单个类的布局</p>
<img src="/2022/08/08/C/modellayout.png" class title="modellayout">

<img src="/2022/08/08/C/modellayyout01.png" class title="modellayyout01">

<p>可以清晰的看到单个类的布局（大小，父类成员，子类成员）</p>
<p><strong>继承中构造和析构的顺序</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Base</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;父类（基类）构造函数的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Base</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;父类（基类）析构函数的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">son</span> : <span class="keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">son</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;子类（派生类）构造函数的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">son</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;子类（派生类）析构函数的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    son s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>总结：先调用父类的构造，在调用子类的构造，析构的顺序与构造的顺序相反。</strong></p>
<p>因为在创建子类的对象时 由于子类继承了父类的成员，编译器会先创建一个父类的对象，所有先调用父类的构造再调用子类的构造； 局部变量存放在栈区，栈的特点是先进后出，所有析构函数的调用是先调用后面进来的子类对象的析构，再调用父类的析构函数。</p>
<h4 id="同名成员处理"><a href="#同名成员处理" class="headerlink" title="同名成员处理"></a>同名成员处理</h4><p>当子类和父类出现同名的成员时；有两种方法可以区分：</p>
<p><strong>访问子类的同名成员 - 直接访问  ：</strong> 对象 . 成员  son.m_A;</p>
<p><strong>访问父类的同名成员 - 需要加作用域 ：</strong>当通过子类访问父类中的同名成员时需要加一个作用域 如：s .Base :: A</p>
<p> <strong>注意：</strong>如果子类中出现和父类同名的成员函数，子类的同名成员函数会隐藏掉父类中所有同名成员函数（所有同名成员函数重载的版本）；如果像访问父类中被隐藏的同名成员函数需要加上作用域</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Base</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Base 构造函数的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">        m_A =<span class="number">100</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Base 父类中的同名函数调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Base 父类中的同名函数调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m_A;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">son</span> : <span class="keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">son</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        m_A = <span class="number">200</span>;</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;son 子类中的同名函数调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m_A;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    son s;</span><br><span class="line">    cout &lt;&lt; s.m_A &lt;&lt; endl; <span class="comment">//当出现子类和父类同名成员变量时，访问子类的同名成员变量 直接用对象 .</span></span><br><span class="line">    <span class="comment">// 成员变量</span></span><br><span class="line">    <span class="comment">//当通过子类访问父类中的同名对象时需要加上作用域</span></span><br><span class="line">    cout &lt;&lt; s.Base :: m_A &lt;&lt; endl;   </span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">test02</span>()</span><br><span class="line">&#123;</span><br><span class="line">    son s1;</span><br><span class="line">    s1.<span class="built_in">fun</span>();  <span class="comment">// 当子类和父类出现同名成员函数时，访问子类的同名成员函数 直接访问 对象.同名成员函数</span></span><br><span class="line">    s1.Base :: <span class="built_in">fun</span>()  <span class="comment">// 当通过子类访问父类中的同名成员函数时需要加作用域</span></span><br><span class="line">    s1.<span class="built_in">fun</span>(<span class="number">100</span>) <span class="comment">//不能调用 父类中的fun同名函数重载 因为：当子类和父类存在同名成员函数时，子类的</span></span><br><span class="line">        <span class="comment">//同名成员函数会隐藏掉父类中所有的同名成员函数（同名成员函数的重载版本）</span></span><br><span class="line">        <span class="comment">//想要访问必须加上作用域</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="同名静态成员处理"><a href="#同名静态成员处理" class="headerlink" title="同名静态成员处理"></a>同名静态成员处理</h4><p>Son : : Base : : m_A ;  第一个 ：： 的意思 是通过类名进行访问；第二个 ： ： 代表访问父类作用域下。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">fun</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Base static的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Base static int 的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> m_A;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> Base :: m_A = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> : <span class="keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">fun</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Son static的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> m_A;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> Son :: m_A = <span class="number">200</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Son s; </span><br><span class="line">    <span class="comment">//通过对象访问</span></span><br><span class="line">    cout &lt;&lt; s.m_A &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; s.Base :: m_A &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//通过类名访问</span></span><br><span class="line">    cout &lt;&lt; Son :: m_A &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; son :: Base :: m_A &lt;&lt; endl;</span><br><span class="line">    <span class="comment">// 通过子类 访问父类中的m_A ; 第一个 ：： 表示通过类名访问</span></span><br><span class="line">    <span class="comment">// 第二个 ：： 表示访问父类作用域下的成员。</span></span><br><span class="line">    cout &lt;&lt; Base :: m_A &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Son s1;</span><br><span class="line">    s1.<span class="built_in">fun</span>();</span><br><span class="line">    s1.Base:: <span class="built_in">fun</span>();</span><br><span class="line">    s1.Base::<span class="built_in">fun</span>(<span class="number">100</span>);</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; Son :: <span class="built_in">fun</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; Son :: Base :: <span class="built_in">fun</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; Son :: Base :: <span class="built_in">fun</span>(<span class="number">100</span>) &lt;&lt; endl;</span><br><span class="line">        </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="built_in">test01</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="多继承语法"><a href="#多继承语法" class="headerlink" title="多继承语法"></a>多继承语法</h4><p>C++允许一个类继承多个类</p>
<p><strong>语法：class 子类 ： 继承方式 父类1，继承方式 父类2</strong></p>
<p>多继承可能会引发父类中有同名成员出现，需要加作用域区分；</p>
<p>C++实际开发中不建议用多继承。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base1</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Base1</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        m_A = <span class="number">100</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m_A;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base2</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Base2</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        m_B = <span class="number">200</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m_B;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">son</span> : <span class="keyword">public</span> Base1,<span class="keyword">public</span> Base2</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">son</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        m_C =<span class="number">300</span>;</span><br><span class="line">        m_D =<span class="number">400</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m_C;</span><br><span class="line">    <span class="type">int</span> m_D;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    son s;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">sizeof</span>(s) &lt;&lt; endl; <span class="comment">//输出是16 因为子类继承了两个父类的成员</span></span><br><span class="line">    <span class="comment">//当两个父类中都有同名成员 需要加作用域区分</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><p>多态分为两类：</p>
<p><strong>静态多态：函数重载、运算符重载属于静态多态，复用函数名</strong></p>
<p><strong>动态多态：派生类和虚函数实现运行时多态</strong></p>
<p>静态多态和动态多态的区别:</p>
<p>（1）静态多态的函数地址早绑定 - 编译阶段确定函数地址</p>
<p>（2）动态多态的函数地址晚绑定 - 运行阶段确定函数地址</p>
<p><strong>virtual</strong> 是虚函数的关键字，在函数前加上。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">calss Animal</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">   <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">speak</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;动物在说话&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">                            </span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> : <span class="keyword">public</span> Animal</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">speak</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;小猫在说话&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> : <span class="keyword">public</span> Animal</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">speak</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;小狗在说话&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dospeak</span><span class="params">(Animal &amp;animal)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    animal.<span class="built_in">speak</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Cat cat;</span><br><span class="line">    <span class="built_in">dospeak</span>(cat); <span class="comment">//本意想调用Cat类中的speak ，但函数dospeak在编译阶段就已经分配了地址</span></span><br><span class="line">    <span class="comment">//而Cat类 和 virtual类要在运行时才分配地址 所有执行的是animal中的speak函数</span></span><br><span class="line">    </span><br><span class="line">    Dog dog;</span><br><span class="line">    <span class="built_in">dospeak</span>(dog); <span class="comment">//要想传入哪个就调用哪个的speak函数 需要实现在运行阶段分配地址</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>动态多态满足条件</strong></p>
<p><strong>1、有继承关系</strong></p>
<p><strong>2、子类重写父类的虚函数</strong>  - 重写：函数返回值类型 函数名 参数列表 完全相同；子类中的virtual可不写；</p>
<p><strong>动态多态使用：父类的指针或引用  执行子类对象</strong></p>
<p><strong>多态实现的原理：需要画图理解，观看b站黑马程序员C++课程P136多态原理剖析</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">speak</span><span class="params">()</span>  <span class="comment">//在函数前面加上virtual 变成虚函数</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;动物在说话&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> : <span class="keyword">public</span> Animal</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">speak</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Cat在说话&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> : <span class="keyword">public</span> Animal</span><br><span class="line">&#123;</span><br><span class="line">      <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">speak</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Dog在说话&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dospeak</span><span class="params">(Animal &amp; animal)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    animal.<span class="built_in">speak</span>();  <span class="comment">//此时调用的话是调用的Animal中的speak 因为dospeak函数在编译阶段就已经确定了</span></span><br><span class="line">    <span class="comment">//地址，而传进来的子类 需要在运行阶段才确定地址，解决此问题需要在父类函数加virtual </span></span><br><span class="line">    <span class="comment">//实现animal speak在运行时才分配地址</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//多态的构造原理是：virtual 产生一个 vfptr virtual function pointer  此指针指向的是</span></span><br><span class="line">    <span class="comment">//虚函数表 vftable 表中存放的是 Animal :: speak() 函数 此类中的被virtual修饰的函数</span></span><br><span class="line">    <span class="comment">//当子类继承父类的时候，子类的虚函数表中存放的也是 父类中的speak（）函数，子类重写虚函数之后</span></span><br><span class="line">    <span class="comment">// 子类中的虚函数表地址变成了重写的函数</span></span><br><span class="line">    <span class="comment">//当用父类的指针或引用 指向子类对象时 会产生多态，执行的是子类中的speak</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Cat cat;</span><br><span class="line">    <span class="built_in">dospeak</span>(cat);</span><br><span class="line">    </span><br><span class="line">    Dog dog;</span><br><span class="line">    <span class="built_in">dospeak</span>(dog);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="纯虚函数和抽象类"><a href="#纯虚函数和抽象类" class="headerlink" title="纯虚函数和抽象类"></a>纯虚函数和抽象类</h4><p><strong>纯虚函数语法：virtual 返回值类型 函数名 （参数列表） &#x3D; 0；</strong></p>
<p>当类中有了纯虚函数，这个类也成为抽象类</p>
<p><strong>抽象类特点：</strong></p>
<p><strong>无法实例化对象；  子类必须重写抽象类中的纯虚函数，否则也属于抽象类。</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">fun</span><span class="params">()</span> </span>= <span class="number">0</span>; <span class="comment">//令虚函数=0 ，此时的虚函数就变成了纯虚函数</span></span><br><span class="line">    <span class="comment">//有纯虚函数的类也叫抽象类</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//抽象类的特点</span></span><br><span class="line">    <span class="comment">//无法实例化对象  ； 子类中必须重写抽象类中的纯虚函数，否则也属于抽象类</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">son</span> : <span class="keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">fun</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;son 重写纯虚函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Base b; <span class="comment">//无法实例化对象 会出错</span></span><br><span class="line">   <span class="keyword">new</span> Base; <span class="comment">//栈区 、堆区的对象都不能实例化</span></span><br><span class="line">    son s;</span><br><span class="line">    <span class="keyword">new</span> son;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="虚析构和纯虚析构"><a href="#虚析构和纯虚析构" class="headerlink" title="虚析构和纯虚析构"></a>虚析构和纯虚析构</h4><p>多态使用时，如果子类中有属性开辟到堆区，那么父类指针在释放时无法调用到子类的析构代码，造成内存泄漏</p>
<p>解决方式：将父类中析构函数改为 虚析构 或者 纯虚析构</p>
<p><strong>虚析构和纯虚析构共性：</strong></p>
<p><strong>（1）可以解决父类指针释放子类对象</strong></p>
<p><strong>（2）都需要有具体的函数实现</strong></p>
<p><strong>虚析构和纯虚析构的区别：如果是纯虚析构，该类属于抽象类，无法实例化对象。</strong></p>
<p><strong>纯虚析构需要声明也需要具体的实现；</strong></p>
<p>虚析构语法：virtual ~类名（）{ }      </p>
<p>纯虚析构语法：virtual ~类名（） &#x3D; 0；    声明： 类名：： ~类名（）{  }</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Animal</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Animal构造函数的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">speak</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;动物在说话&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="comment">// virtual ~Animal()</span></span><br><span class="line"> <span class="comment">//   &#123;</span></span><br><span class="line">  <span class="comment">//      cout &lt;&lt; &quot;Animal析构函数的调用&quot; &lt;&lt; endl;</span></span><br><span class="line"> <span class="comment">//   &#125;</span></span><br><span class="line">    <span class="comment">//虚析构和纯虚析构的共性是：</span></span><br><span class="line">    <span class="comment">//可以通过父类指针来释放子类的对象；都需要有具体的实现</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//纯虚析构需要进行类内声明、类外实现，且纯虚析构是一个抽象类不能实例化对象</span></span><br><span class="line">    <span class="keyword">virtual</span> ~<span class="built_in">Animal</span>() = <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line">Animal ::  ~<span class="built_in">Animal</span>() <span class="comment">//需要加作用域 说明是Animal类下的析构函数</span></span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;animal析构函数的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> :: <span class="keyword">public</span> Animal</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Cat</span>(string name)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;cat构造函数的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">        Name = <span class="keyword">new</span> <span class="built_in">string</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">speak</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; Name &lt;&lt; <span class="string">&quot;小猫在说话&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Cat</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;cat析构函数的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    string *Name; <span class="comment">//指针用来接收new出来的数据 </span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Animal *animal = <span class="keyword">new</span> <span class="built_in">Cat</span>(<span class="string">&quot;blue&quot;</span>);</span><br><span class="line">    animal-&gt;speak;</span><br><span class="line">    <span class="keyword">delete</span> animal; <span class="comment">//当子类中有属性开辟到堆区时，父类指针释放无法调用子类的析构代码来释放</span></span><br><span class="line">    <span class="comment">//存放在堆区的子类属性，此时用虚析构和纯虚析构可以解决这个问题</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="多态练习案例"><a href="#多态练习案例" class="headerlink" title="多态练习案例"></a>多态练习案例</h4><p>案例1：计算器类：分别用普通的写法和多态技术，实现两个操作数进行运算的计算器类</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Calculate</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getNum</span><span class="params">(string oper)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(oper == <span class="string">&quot; + &quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> m_Num1 + m_Num2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(oper == <span class="string">&quot;-&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> m_Num1 - m_Num2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(oper == <span class="string">&quot;*&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> m_Num1 * m_Num2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//如果想扩展新的功能，需要修改源码 ，在真实开发中提倡开闭原则</span></span><br><span class="line">        <span class="comment">//开闭原则：对扩展进行开放，对修改进行关闭</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m_Num1;</span><br><span class="line">    <span class="type">int</span> m_Num2;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Calculate c;</span><br><span class="line">    c.m_Num1 =<span class="number">10</span>;</span><br><span class="line">    c.m_Num2 =<span class="number">10</span>;</span><br><span class="line">    cout &lt;&lt; c.m_Num1 &lt;&lt; <span class="string">&quot; + &quot;</span> &lt;&lt; c.m_Num2 &lt;&lt; <span class="string">&quot; = &quot;</span> &lt;&lt; c.<span class="built_in">getNum</span>(<span class="string">&quot;+&quot;</span>) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; c.m_Num1 &lt;&lt; <span class="string">&quot; - &quot;</span> &lt;&lt; c.m_Num2 &lt;&lt; <span class="string">&quot; = &quot;</span> &lt;&lt; c.<span class="built_in">getNum</span>(<span class="string">&quot;-&quot;</span>) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; c.m_Num1 &lt;&lt; <span class="string">&quot; * &quot;</span> &lt;&lt; c.m_Num2 &lt;&lt; <span class="string">&quot; = &quot;</span> &lt;&lt; c.<span class="built_in">getNum</span>(<span class="string">&quot;*&quot;</span>) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//利用多态来实现，根据开闭原则，对扩展进行开放，对修改进行关闭</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AbstractCalculator</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">int</span> <span class="title">getResult</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m_Num1;</span><br><span class="line">    <span class="type">int</span> m_Num2;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Addcalculator</span> : <span class="keyword">public</span> AbstractCalculator</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">int</span> <span class="title">getResult</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_Num1 + m_Num2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Subcalculator</span> : <span class="keyword">public</span> AbstractCalculator</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">int</span> <span class="title">getResult</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_Num1 - m_Num2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mulcalculator</span> : <span class="keyword">public</span> AbstractCalculator</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">int</span> <span class="title">getResult</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_Num1 * m_Num2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    AbstractCalculator * a = <span class="keyword">new</span> Addcalculator; <span class="comment">//通过父类指针 执行子类对象发生多态</span></span><br><span class="line">    a-&gt;m_Num1 =<span class="number">100</span>;</span><br><span class="line">    a-&gt;m_Num2 =<span class="number">100</span>;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; a-&gt;m_Num1 &lt;&lt; <span class="string">&quot; + &quot;</span> &lt;&lt; a-&gt;m_Num2 &lt;&lt; <span class="string">&quot; = &quot;</span> &lt;&lt; a-&gt;<span class="built_in">getResult</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//用完数据记得释放</span></span><br><span class="line">    <span class="keyword">delete</span> a; <span class="comment">//堆区数据被释放，指针还在</span></span><br><span class="line">    </span><br><span class="line">    a = <span class="keyword">new</span> Subcalculator;</span><br><span class="line">     a-&gt;m_Num1 =<span class="number">100</span>;</span><br><span class="line">    a-&gt;m_Num2 =<span class="number">100</span>;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; a-&gt;m_Num1 &lt;&lt; <span class="string">&quot; - &quot;</span> &lt;&lt; a-&gt;m_Num2 &lt;&lt; <span class="string">&quot; = &quot;</span> &lt;&lt; a-&gt;<span class="built_in">getResult</span>() &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">     a = <span class="keyword">new</span> Mulcalculator;</span><br><span class="line">     a-&gt;m_Num1 =<span class="number">100</span>;</span><br><span class="line">    a-&gt;m_Num2 =<span class="number">100</span>;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; a-&gt;m_Num1 &lt;&lt; <span class="string">&quot; * &quot;</span> &lt;&lt; a-&gt;m_Num2 &lt;&lt; <span class="string">&quot; = &quot;</span> &lt;&lt; a-&gt;<span class="built_in">getResult</span>() &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>多态的好处：组织结构清晰；可读性强；对于前期和后期的扩展以及维护性高</strong></p>
<p>总结：C++中非常提倡利用多态设计程序架构，因为多态优点很多</p>
<p>案例2:制作饮品</p>
<p>制作饮品的大致流程：煮水 - 冲泡 - 倒入杯中 - 加入辅料；利用多态实现</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AbstractDrinking</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//煮水</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Boil</span><span class="params">()</span> </span>= <span class="number">0</span>; <span class="comment">//纯虚函数 父类不做具体实现，子类做</span></span><br><span class="line">    <span class="comment">//冲泡</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Brew</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//倒入杯中</span></span><br><span class="line">    <span class="keyword">virtual</span> <span class="type">void</span> PourInCup = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//加入辅料</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Putsomething</span><span class="params">()</span> </span>= <span class="number">0</span>；</span><br><span class="line">     </span><br><span class="line">   <span class="comment">//制作饮品</span></span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">MakeDrink</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">Boil</span>();</span><br><span class="line">        <span class="built_in">Brew</span>();</span><br><span class="line">        <span class="built_in">PourInCup</span>();</span><br><span class="line">        <span class="built_in">Putsomething</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Coffe</span> : <span class="keyword">public</span> AbstractDrinking</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Boil</span><span class="params">()</span> <span class="comment">//纯虚函数 父类不做具体实现，子类做</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;正在煮水&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//冲泡</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Brew</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;正在冲泡咖啡&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//倒入杯中</span></span><br><span class="line">    <span class="keyword">virtual</span> <span class="type">void</span> PourInCup </span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;倒入杯中&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//加入辅料</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Putsomething</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout  &lt;&lt; <span class="string">&quot;加入糖和冰块&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Tea</span> : <span class="keyword">public</span> AbstractDrinking</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Boil</span><span class="params">()</span> <span class="comment">//纯虚函数 父类不做具体实现，子类做</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;正在煮水&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//冲泡</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Brew</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;正在冲泡茶叶&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//倒入杯中</span></span><br><span class="line">    <span class="keyword">virtual</span> <span class="type">void</span> PourInCup </span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;倒入杯中&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//加入辅料</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Putsomething</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout  &lt;&lt; <span class="string">&quot;加入枸杞&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">domake</span><span class="params">(AbstactDringking * abs)</span> <span class="comment">//用父类指针执行子类对象</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    abs-&gt;<span class="built_in">MakeDrink</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">domake</span>(<span class="keyword">new</span> COffe); <span class="comment">//当传入子类对象时，父类指针接收子类对象 就会</span></span><br><span class="line">    <span class="comment">//实现多态</span></span><br><span class="line">    cout &lt;&lt;<span class="string">&quot;----------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">domake</span>(<span class="keyword">new</span> Tea);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>案例3：电脑组装</p>
<p>案例描述：电脑主要组成部件为CPU（用于计算），显卡（用于显示），内存条（用于存储），将每个零件封装出抽象基类，并且提供不同的厂商生产不同的零件，例如intel厂商和Lenovo厂商，创建电脑类提供让电脑工作的函数，并且调用每个零件工作的接口，测试组装三台不同的电脑进行工作</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//首先创建各组成部分</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CPU</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Calculate</span><span class="params">()</span> </span>= <span class="number">0</span>; <span class="comment">//cpu实现计算功能。</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">VideoCard</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Display</span><span class="params">()</span> </span>= <span class="number">0</span>; <span class="comment">//显卡实现显示功能</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Memory</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Storage</span><span class="params">()</span> </span>= <span class="number">0</span>; <span class="comment">//内存条存储功能</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//各厂商提供各零件</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">intelCPU</span> : <span class="keyword">public</span> CPU</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//重写父类中的纯虚函数</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Calculate</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;intelcpu开始计算&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">intelVideoCard</span> : <span class="keyword">public</span> VideoCard</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Display</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;intel显卡开始显示&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">intelMemory</span> : <span class="keyword">public</span> Memory</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Storage</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;intel内存条开始存储数据&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">lenovoCPU</span> : <span class="keyword">public</span> CPU</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//重写父类中的纯虚函数</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Calculate</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;lenovocpu开始计算&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">lenovoVideoCard</span> : <span class="keyword">public</span> VideoCard</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Display</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;lenovo显卡开始显示&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">lenovoMemory</span> : <span class="keyword">public</span> Memory</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Storage</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;lenovo内存条开始存储数据&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Computer</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Computer</span>(CPU * cpu,VideoCard* vc,Memory * st)</span><br><span class="line">    &#123;</span><br><span class="line">        m_cpu = cpu;</span><br><span class="line">        m_vc = vc;</span><br><span class="line">        m_st = st;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">work</span><span class="params">()</span>   <span class="comment">//利用电脑来实现各零件的功能运作</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        m_cpu-&gt;<span class="built_in">Calculate</span>();</span><br><span class="line">        m_vc-&gt;<span class="built_in">Display</span>();</span><br><span class="line">        m_st-&gt;<span class="built_in">Storage</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    CPU * m_cpu;</span><br><span class="line">    VideoCard * m_vc;</span><br><span class="line">    Memory * m_st;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Computer <span class="title">computer</span><span class="params">(<span class="keyword">new</span> intelCPU,<span class="keyword">new</span> intelVideoCard, <span class="keyword">new</span> intelMemory)</span></span>;</span><br><span class="line">    computer.<span class="built_in">work</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h3><p>程序运行时产生的数据都属于临时数据，程序一旦运行结束都会被释放；通过文件可以使数据持久化</p>
<p><strong>C++中对文件操作需要包含头文件<fstream></fstream></strong></p>
<p><strong>文件类型分为两种：</strong></p>
<p><strong>（1）文本文件 ： 文件以文本的ASCII码形式存储在计算机中</strong></p>
<p><strong>（2）二进制文件：文件以文本的二进制形式存储在计算机中，用户一般不能直接读懂它们</strong></p>
<p><strong>操作文件的三大类</strong>：</p>
<p>ofstream （写操作）、ifstream（读操作）、fstream（读写操作）</p>
<h4 id="文本文件"><a href="#文本文件" class="headerlink" title="文本文件"></a>文本文件</h4><p><strong>写文件的步骤如下：</strong></p>
<p>1、包含头文件:#include<fstream></fstream></p>
<p>2、创建流对象：ofstream ofs;</p>
<p>3、打开文件：ofs.open(“文件路径”，打开方式);</p>
<p>4、写数据： ofs&lt;&lt; “写入的数据”;</p>
<p>5、关闭文件：ofs.close();</p>
<p><strong>注意：文件打开方式可以配合使用，利用 | 操作符</strong></p>
<img src="/2022/08/08/C/file.png" class title="file">

<p>例如：用二进制方式写文件 ios : : binary | ios : : out</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//包含头文件 #include&lt;fstream&gt;</span></span><br><span class="line">    <span class="comment">//创建流对象</span></span><br><span class="line">    ofstream ofs;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//打开文件</span></span><br><span class="line">    ofs.<span class="built_in">open</span>(<span class="string">&quot;text.txt&quot;</span>,ios :: out); <span class="comment">//文件路径不指定的话默认存放在 源文件目录下，打开方式可以</span></span><br><span class="line">    <span class="comment">//联合使用 用 | 分开</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//写文件</span></span><br><span class="line">    ofs &lt;&lt; <span class="string">&quot;hello world &quot;</span> &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//关闭文件</span></span><br><span class="line">    ofs.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em><strong>读文件步骤如下：</strong></em></p>
<p>1、包含头文件 #include<fstream></fstream></p>
<p>2、创建流对象  ifstream ifs;</p>
<p>3、打开文件并判断文件是否打开成功 ifs.open(“文件路径”,打开方式);</p>
<p>判断方式：ifs.is_open()</p>
<p>4、读数据：四种读取方式</p>
<p>（1）char buf[ 1024 ] &#x3D; {0};   while( ifs &gt;&gt; buf)  { cout &lt;&lt; buf &lt;&lt; endl; }</p>
<p>（2）char buf [ 1024] &#x3D; {0}; while ( ifs.getline ( buf,sizeof (buf ) ) ) { cout &lt;&lt; buf &lt;&lt; endl ;}</p>
<p>（3）string buf;  while ( getline (ifs , buf ) )  { cout &lt;&lt; buf &lt;&lt; endl; }</p>
<p>（4） char c ;  while ( ( c &#x3D; ifs.get ())  !&#x3D; EOF)  &#x2F;&#x2F; EOF end of file  { cout &lt;&lt; c ; } &#x2F;&#x2F;单个字符读</p>
<p>5、关闭文件： ifs.close();</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//包含头文件</span></span><br><span class="line">    <span class="comment">//创建流对象</span></span><br><span class="line">    ifstream ifs;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//打开文件并判断文件是否打开成功</span></span><br><span class="line">    ifs.<span class="built_in">open</span>(<span class="string">&quot;text.txt&quot;</span>,ios :: in);</span><br><span class="line">    <span class="keyword">if</span>( !ifs.<span class="built_in">is_open</span>())   <span class="comment">// ifs.is_open()可以用来判断文件是否发开成功</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;打开文件失败&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//读取方式四种</span></span><br><span class="line">    <span class="type">char</span> buf[<span class="number">1024</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">    <span class="keyword">while</span>(ifs &gt;&gt; buf)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; buf &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">char</span> buf [<span class="number">1024</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">    <span class="keyword">while</span>(ifs.<span class="built_in">getline</span>(buf,<span class="built_in">sizeof</span>(buf)))</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; buf &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    string buf;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">getline</span>(ifs,buf))</span><br><span class="line">    &#123;</span><br><span class="line">         cout &lt;&lt; buf &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">char</span> c;</span><br><span class="line">    <span class="keyword">while</span>( (c =ifs.<span class="built_in">get</span>()) != EOF) <span class="comment">//EOF 是 end of file  文件结束的表示</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; a&lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//关闭文件</span></span><br><span class="line">    ifs.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="二进制文件"><a href="#二进制文件" class="headerlink" title="二进制文件"></a>二进制文件</h4><p><strong>打开方式要指定为 ios :: binary</strong></p>
<p><strong>写文件</strong></p>
<p>二进制方式写文件主要利用流对象调用成员函数<strong>write</strong> ；</p>
<p><strong>函数原型：ostream &amp; write ( const char * buffer,int len);</strong></p>
<p>参数解释：字符指针buffer 指向内存中一段存储空间，len是读写的字节数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="type">char</span> m_Name[<span class="number">64</span>];</span><br><span class="line">    <span class="type">int</span> len;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//包含头文件</span></span><br><span class="line">    <span class="comment">//创建流对象</span></span><br><span class="line">    <span class="function">ofstream <span class="title">ofs</span><span class="params">(<span class="string">&quot;Person.txt&quot;</span>,ios :: out | ios :: binary)</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//打开文件：可以与第二步合并 也可以分开写</span></span><br><span class="line">    <span class="comment">//ofs.open(&quot;Person.txt&quot;,ios :: out | ios :: binary);</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//写二进制文件， 需要先创建对象</span></span><br><span class="line">    Person p = &#123;<span class="string">&quot;zhangsan&quot;</span>, <span class="number">20</span>&#125;;</span><br><span class="line">    <span class="comment">//通过write函数写入</span></span><br><span class="line">    ofs.<span class="built_in">write</span>((<span class="type">const</span> chat *)&amp;p, <span class="built_in">sizeof</span>(p));</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//关闭文件</span></span><br><span class="line">    ofs.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>读文件：文件输入流对象 可以通过read函数，以二进制方式读数据</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> :</span><br><span class="line">    <span class="type">char</span> m_Name [<span class="number">64</span>];</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ifstream ifs;</span><br><span class="line">    </span><br><span class="line">    ifs.<span class="built_in">open</span>(<span class="string">&quot;Person.txt&quot;</span>,ios :: out | ios :: binary);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//读文件 利用read函数  创建对象</span></span><br><span class="line">    Person p;</span><br><span class="line">    ifs.<span class="built_in">read</span>((<span class="type">char</span> *)&amp;p,<span class="built_in">sizeof</span>(p));</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;name = &quot;</span> &lt;&lt; p.m_name &lt;&lt; <span class="string">&quot;age = &quot;</span> &lt;&lt; p.age &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    ifs.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="职工管理系统"><a href="#职工管理系统" class="headerlink" title="职工管理系统"></a>职工管理系统</h1><img src="/2022/08/08/C/Cpromotrtest.png" class>

<h2 id="创建管理类"><a href="#创建管理类" class="headerlink" title="创建管理类"></a>创建管理类</h2><p>内容如下：</p>
<p>与用户沟通的界面；对职工进行增删查改的操作；与文件的读写交互。</p>
<p>创建wokermanager.h头文件 和 wokermanager.cpp源文件</p>
<p><strong>思路：</strong></p>
<p>首先创建职工管理系统源文件， 在此文件中调用接口（创建类对象，利用对象来调用类中的接口）， 利用封装技术，创建WorkerManager 头文件，在头文件中写接口的实现， 然后再写一个源文件写接口的声明；</p>
<p>首先在WorkerManager 头文件中创建一个函数实现菜单功能，在源文件中调用， 在职工管理系统中创建WorkerManager 类对象来调用菜单函数（之后的步骤也是通过类对象来调用各个部分的功能）</p>
<p> 在职工管理系统源文件中利用switc语句来实现职工管理系统的各个功能，各个功能的实现写在WorkerManager 源文件中，利用类对象来调用各个功能接口。</p>
<p>利用多态技术来完成各个职工的接口， 创建一个父类 （包含 获取个人信息，获取部门，id 、name、did）；</p>
<p>然后创建几个职工类别来继承父类，重写父类中的纯虚函数，以及写自己的构造函数（初始化对象值），当父类指针调用子类对象时，发生多态。</p>
<p>添加职工人数函数实现时，首先要创建新的人数（包含添加的人数和原来的人数）， 创建新的数组，大小为新的人数大小（此数组初始化完成之后赋值给WorkerManager 中的数组），再给新的数组中的每个对象重新赋值，然后利用for循环添加职工信息，在选择职工岗位时，利用Worker父类指针来调用子类对象产生多态，然后将指针赋值给新数组中（不能覆盖原来数组中的职工），完成赋值之后，将类中的数组置空（delete）然后将新数组赋值给类中的数组，将新的人数赋值给类中的人数，将文件标记为非空（最后利用此文件来判断之后每一步功能的实现），最后保存到文件中：利用文件的操作，for循环把数据全部写入到文件中；</p>
<p>WorkerManager 构造函数中判断文件是否存在并且赋初值，有三种情况，当文件不存在、文件存在但记录为空、文件存在记录也存在，前两种直接将类中数组初始化为空，将人数置为空，把文件标记为空；第三种，首先先获取文件中的人数，然后重新赋值给类中的人数成员，再将数组重新赋值，将数组中的对象全部初始化（利用函数封装）</p>
<p>显示职工信息，用for循环遍历每个对象，调用showEmp个人信息函数；删除职工：输入要删除的对象id，将id传入一个判断此人是否存在的函数，如果此人存在返回此人的下标，然后利用循环从此对象开始，往前覆盖，最后将数组减一，保存文件；清屏。</p>
<p>修改职工信息，把该职工的各个属性置空，然后重新输入修改的值，赋值操作利用 父类指针指向子类对象产生多态赋值，然后将其保存到该职工数组中；查找职工有两种方式：id号和姓名查找，第一次输入id判断是否存在，存在并输出个人信息， 按姓名查找，输入一个姓名，如果存在则打印信息，设置一个标记，不存在把标记修改，然后输出不存在信息。</p>
<p>按职工编号进行排序：升序和降序排序，利用for循环循环遍历，设置一个数等于第一个数的下标，然后第二层循环开始判断之后的数大小，升序和降序都要重新赋值下标，当与剩余数全部比较完之后，交换两个对象的下标；</p>
<p>清空所有文档需要利用ios :: trun 模式删除文件并重新创建，判断数组是否为空，不为空释放掉数组中的每个元素，然后将数组再释放掉，将数组置为空，将人数置为0，文件标记为空。</p>
<h1 id="C-提高"><a href="#C-提高" class="headerlink" title="C++提高"></a>C++提高</h1><p>​	本阶段主要针对C++泛型编程和STL技术做详细讲解，探讨C++更深层的使用</p>
<h2 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h2><p>模板就是建立通用的模具，大大提高复用性；例如 生活中的模板</p>
<p><strong>模板的特点：</strong></p>
<p><strong>模板不能直接使用，它只是一个框架； 模板通用并不是万能的。</strong></p>
<h3 id="函数模板"><a href="#函数模板" class="headerlink" title="函数模板"></a>函数模板</h3><p>C++另一种编程思想称为 <strong>泛型编程</strong> ， 主要利用的技术就是模板。</p>
<p>C++提供两种模板机制： <strong>函数模板 和 类模板</strong></p>
<p><strong>函数模板的作用</strong>：建立一个通用的函数，其函数返回值类型 和 形参类型可以不具体制定，用一个<strong>虚拟的类型</strong>来代表</p>
<p><strong>语法：template <typename t>      函数声明或定义</typename></strong></p>
<p>template – 声明创建模板 ； typename  – 表面其后面的符号是一种数据类型，可以用class代替。</p>
<p>T – 通用的数据类型，名称可以替换，通常为大写字母。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="comment">// 声明一个模板，告诉编译器代码后面的T是一个通用的数据类型，不要报错</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">myswap</span><span class="params">( T &amp;a, T &amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    T temp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">20</span>;</span><br><span class="line">    <span class="comment">//利用函数模板进行交换</span></span><br><span class="line">    <span class="comment">//两种方式使用函数模板</span></span><br><span class="line">    <span class="comment">//1、自动类型推导： 根据传入的a b 的数据类型，编译器自动推导出传入的数据类型是什么，也就是说推导出</span></span><br><span class="line">    <span class="comment">//T的数据类型是什么</span></span><br><span class="line">    <span class="built_in">myswap</span>(a,b);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//2、显示指定类型</span></span><br><span class="line">    <span class="built_in">myswap</span>&lt;<span class="type">int</span>&gt; (a,b) ; <span class="comment">//调用函数模板时直接写上 数据类型</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>总结：模板的目的是为了提高复用性，将类型参数化</strong></p>
<h4 id="函数模板的注意事项"><a href="#函数模板的注意事项" class="headerlink" title="函数模板的注意事项"></a>函数模板的注意事项</h4><p>（1）自动类型推导，必须推导出一致的数据类型T，才可以使用</p>
<p>（2）模板必须确定出T的数据类型，才可以使用</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="comment">//声明一个模板 告诉编译器代码后面出现的T是一个通用的数据类型</span></span><br><span class="line"><span class="comment">//再创建函数定义 or  实现</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span><span class="params">(T&amp;a, T&amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    T temp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="comment">//typename也可以用class替代，都是同样的原理</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;fun 的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">fun</span>(); <span class="comment">//错误，模板不能独立使用，必须确定数据类型T是什么类型，才可以使用</span></span><br><span class="line">    <span class="built_in">fun</span>&lt;<span class="type">int</span>&gt;(); <span class="comment">//正确，虽然函数模板中的函数并没有参数，但是我们要使用模板是必须给一个数据类型给T</span></span><br><span class="line">    <span class="comment">//这样才可以调用函数模板</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a= <span class="number">10</span>;</span><br><span class="line">    <span class="type">char</span> b = <span class="string">&#x27;b&#x27;</span>;</span><br><span class="line">    <span class="built_in">swap</span>(a,b); <span class="comment">// 报错，因为自动类型推导必须推导出一致的数据类型才可以使用，这里的a 为 int b为char</span></span><br><span class="line">    <span class="comment">// 推导出的数据类型不一致</span></span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>总结：使用模板时必须确定数据类型T，并且能够推导出一致的数据类型。</strong></p>
<h4 id="案例："><a href="#案例：" class="headerlink" title="案例："></a>案例：</h4><p>利用函数模板封装一个排序的函数，可以对不同数据类型进行排序；排序规则从大到小，排序算法为选择排序；分别利用char数组和int数组进行测试</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//交换函数模板</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">myswap</span><span class="params">(T&amp;a, T&amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    T temp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//函数模板排序</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">mysort</span><span class="params">(T arr[], <span class="type">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len ; i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> max = i; <span class="comment">//假设第一个数为最大值</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = i+<span class="number">1</span>; j &lt; len ; j++) <span class="comment">//从i+1个数开始比较，找到最大的数，并赋值给max</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[max] &lt; arr[j])</span><br><span class="line">            &#123;</span><br><span class="line">               max = j; <span class="comment">//找到最大值然后赋值给max</span></span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(max != i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//利用交换模板实现两个数的交换</span></span><br><span class="line">            <span class="built_in">myswap</span>(arr[max],arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//实现一个打印的函数模板</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printfsort</span><span class="params">(T arr[], <span class="type">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; len ; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; arr[i] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//创建char数组</span></span><br><span class="line">    <span class="type">char</span> chararr[] = <span class="string">&quot;scdavs&quot;</span>;</span><br><span class="line">    <span class="comment">//计算数组的长度</span></span><br><span class="line">    <span class="type">int</span> len = <span class="built_in">sizeof</span>(chararr) / <span class="built_in">sizeof</span>(<span class="type">char</span>);</span><br><span class="line">    <span class="comment">//调用函数模板进行排序</span></span><br><span class="line">    <span class="built_in">mysort</span>(chararr,len);</span><br><span class="line">    <span class="built_in">printfsort</span>(chararr,len);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//再自行写一个int数组的排序 </span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test01</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="普通函数和函数模板"><a href="#普通函数和函数模板" class="headerlink" title="普通函数和函数模板"></a>普通函数和函数模板</h4><p> <strong>普通函数与函数模板区别：</strong></p>
<p>（1）普通函数调用时可以发生自动类型转换（隐式类型转换）</p>
<p>（2）函数模板调用时，如果利用自动类型推导，不会发生隐式类型转换</p>
<p>（3）如果使用显式指定类型，可以发生隐式类型转换</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//普通函数实现相加</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">myAdd01</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a+ b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//函数模板</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">myAdd02</span><span class="params">( T a, T b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">20</span>;</span><br><span class="line">    <span class="type">char</span> c = <span class="string">&#x27;c&#x27;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">myAdd01</span>(a,b) &lt;&lt; endl; <span class="comment">//正常输出</span></span><br><span class="line">    cout &lt;&lt; <span class="built_in">myAdd01</span>(a,c) &lt;&lt; endl; <span class="comment">//也是正常输出，c是字符型，普通函数可以发生隐式类型转换，将char</span></span><br><span class="line">    <span class="comment">//转换成int型，字符c的ASCII码值是99</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//利用函数模板来实现</span></span><br><span class="line">    cout &lt;&lt; <span class="built_in">myAdd02</span>(a,c) &lt;&lt; endl; <span class="comment">//无法输出，用自动类型推导调用函数模板无法发生隐式类型转换</span></span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; <span class="built_in">myAdd02</span>&lt;<span class="type">int</span>&gt;(a,c) &lt;&lt; endl; <span class="comment">//可以输出，用显示指定类型可以发生隐式类型转换</span></span><br><span class="line">    <span class="comment">//指定 T 为int 型，调用函数模板</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>建议使用显示指定类型的方式，调用函数模板，因为可以自己确定通用类型T</strong></p>
<h5 id="调用规则"><a href="#调用规则" class="headerlink" title="调用规则"></a>调用规则</h5><p>（1）如果函数模板和普通函数都可以实现，优先调用普通函数</p>
<p>（2）可以通过空模板参数列表来强制调用函数模板</p>
<p>（3）函数模板也可以发生重载</p>
<p>（4）如果函数模板可以产生更好匹配，优先调用函数模板</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">myPrintf</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;调用的普通函数&quot;</span>  &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">myPrintf</span><span class="params">(T a, T b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;调用的函数模板&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">myPrintf</span><span class="params">(T a, T b, T c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;调用的重载函数的模板&quot;</span>  &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">myPrintf</span>(a,b); <span class="comment">//当普通函数和函数模板都能实现时，优先调用普通函数</span></span><br><span class="line">    </span><br><span class="line">    myPrintf&lt;&gt;(a,b); <span class="comment">//使用空模板参数列表来强制调用函数模板</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">myPrintf</span>(a,b,<span class="number">100</span>); <span class="comment">// 函数模板调用重载</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">char</span> c1 = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">    <span class="type">char</span> c2 = <span class="string">&#x27;b&#x27;</span>;</span><br><span class="line">    <span class="built_in">myPrintf</span>(c1,c2); <span class="comment">//编译器调用的是函数模板。因为调用普通函数的话需要发生隐式类型转换，不如直接</span></span><br><span class="line">    <span class="comment">//调用函数模板 可以省掉隐式转换这一步。 </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>总结：既然提供了函数模板，最好就不要提供普通函数，否则容易出现二义性。</p>
<h4 id="模板的局限性"><a href="#模板的局限性" class="headerlink" title="模板的局限性"></a>模板的局限性</h4><p>模板并不是万能的，有些特定的类型，需要做具体化方式 做特殊实现</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Person</span>(string name , <span class="type">int</span> a)</span><br><span class="line">    &#123;</span><br><span class="line">        m_Name = name;</span><br><span class="line">        age = a;</span><br><span class="line">    &#125;</span><br><span class="line">    string m_Name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">mycompare</span><span class="params">(T&amp; a, T&amp; b)</span></span>;  <span class="comment">// 需要进行声明才可以这样使用</span></span><br><span class="line"><span class="keyword">template</span>&lt;&gt;<span class="function"><span class="type">bool</span> <span class="title">mycompare</span> <span class="params">(Person &amp;p1, Person &amp;p2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(p1.m_Name == p2.m_Name &amp;&amp; p1.age == p2.age)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">&quot;zhangsan&quot;</span>,<span class="number">20</span>)</span></span>;</span><br><span class="line">    <span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">&quot;zhangsan&quot;</span>,<span class="number">19</span>)</span></span>;</span><br><span class="line">    <span class="type">bool</span> ret = <span class="built_in">mycompare</span>(p1,p2);</span><br><span class="line">    <span class="keyword">if</span>(ret)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;p1 == p2&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;p1 != p2&quot;</span>  &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>总结：</strong></p>
<p><strong>利用具体化的模板。可以解决自定义类型的通用化；学习模板并不是为了写模板，而是在STL能够运用系统提供的模板。</strong></p>
<h3 id="类模板"><a href="#类模板" class="headerlink" title="类模板"></a>类模板</h3><p>建立一个通用类，类中的成员 数据类型可以不具体指定，用一个虚拟的类型来代表。</p>
<p><strong>语法：template <typename t>   类     – 说明是一个类模板</typename></strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Nametype, <span class="keyword">typename</span> Agetype&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Person</span>(string name , <span class="type">int</span> age)</span><br><span class="line">    &#123;</span><br><span class="line">        m_Name = name;</span><br><span class="line">        m_Age = age;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; m_Name &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; m_Age &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    Nametype m_Name ;</span><br><span class="line">    Agetype m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Person &lt;string ,<span class="type">int</span> &gt; <span class="built_in">p1</span>(<span class="string">&quot;张三&quot;</span>,<span class="number">18</span>);  <span class="comment">//&lt; &gt; 中需要指定数据类型</span></span><br><span class="line">    p1.<span class="built_in">show</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="类模板和函数模板的区别"><a href="#类模板和函数模板的区别" class="headerlink" title="类模板和函数模板的区别"></a>类模板和函数模板的区别</h4><p>主要区别：</p>
<p><strong>1、类模板没有自动类型推导的使用方式</strong></p>
<p><strong>2、类模板在模板参数列表中可以有默认参数</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">	 <span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span>using namespace std;template <span class="string">&lt;typename Nametype,class Agetype = int&gt;</span> <span class="comment">//&lt; &gt;中是模板参数列表class Person&#123;    public:    Person(string name , int age)    &#123;        m_Name = name ;        m_Age = age;    &#125;    void showPerson()    &#123;        cout &lt;&lt; m_Name &lt;&lt; &quot;  &quot; &lt;&lt; m_Age &lt;&lt; endl;    &#125;    Nametype m_Name;    Agetype m_Age ;&#125;;void test()&#123;    Person &lt;string&gt;p(&quot;猪八戒&quot;,888);  //给模板的参数列表指定默认值， 设置为int型    p.showPerson();&#125;int main()&#123;    test();    return 0;&#125;c++</span></span></span><br></pre></td></tr></table></figure>

<h4 id="成员函数创建时机"><a href="#成员函数创建时机" class="headerlink" title="成员函数创建时机"></a>成员函数创建时机</h4><p>类模板中成员函数和普通类中成员函数创建时机是有区别的：</p>
<p>1、普通类中的成员函数一开始就可以创建</p>
<p><strong>2、类模板中的成员函数在调用时才创建</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person1</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Person1</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Person1的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person2</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Person2</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Person2的调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Myclass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    T abs;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">fun1</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        abs -&gt; <span class="built_in">Person1</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">fun2</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        abs -&gt; <span class="built_in">Person2</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Myclass &lt;Person1&gt; m;</span><br><span class="line">    m.<span class="built_in">fun1</span>(); <span class="comment">//可以调用 因为 abs的类型指定为Person1 属性中有此函数</span></span><br><span class="line">    m.<span class="built_in">fun2</span>();<span class="comment">//不可以调用 abs是Person1数据类型，没有Person2的函数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="对象做函数参数"><a href="#对象做函数参数" class="headerlink" title="对象做函数参数"></a>对象做函数参数</h4><p>类模板实例化出的对象，向函数传参的方式</p>
<p>一共有三种传入方式：</p>
<p><strong>1、指定传入的类型  — 直接显示对象的数据类型</strong>（最常用）</p>
<p>2、参数模板化 -    –将对象中的参数变为模板进行传递</p>
<p>3、整个类模板化 – 将这个对象类型 模板化传递</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>, <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Person</span>(string name, <span class="type">int</span> age)</span><br><span class="line">    &#123;</span><br><span class="line">        m_name = name;</span><br><span class="line">        m_age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">showPerson</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; m_name &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; m_age &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    T1 m_name;</span><br><span class="line">    T2 m_age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//指定显示对象类型</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test11</span><span class="params">(Person&lt;string,<span class="type">int</span>&gt; &amp;p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    p.<span class="built_in">showPerson</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Person&lt;string,<span class="type">int</span>&gt;<span class="built_in">p</span>(<span class="string">&quot;zhangsan&quot;</span>,<span class="number">18</span>);</span><br><span class="line">    <span class="built_in">test11</span>(p);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//参数模板化</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T11,<span class="keyword">class</span> T22&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test22</span><span class="params">(Person&lt;T1,T2&gt;&amp;p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    p.<span class="built_in">showPerson</span>();</span><br><span class="line">    <span class="comment">//可以利用typeid(通用数据类型).name() 来查看此刻的通用数据类型</span></span><br><span class="line">    cout &lt;&lt; <span class="built_in">typeid</span>(T1).<span class="built_in">name</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">typeid</span>(T2).<span class="built_in">name</span>() &lt;&lt; endl;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Paerson &lt;string,<span class="type">int</span>&gt;<span class="built_in">p</span>(<span class="string">&quot;zhubajie&quot;</span>, <span class="number">20</span>);</span><br><span class="line">    <span class="built_in">test22</span>(p);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//整个类模板化</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test33</span><span class="params">( T &amp;p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    p.<span class="built_in">showPerson</span>();</span><br><span class="line">    cout &lt;&lt; <span class="built_in">typeid</span>(T).<span class="built_in">name</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Person&lt;string,<span class="type">int</span>&gt; <span class="title">p</span><span class="params">(<span class="string">&quot;sunwukong&quot;</span>,<span class="number">20</span>)</span></span>;</span><br><span class="line">    <span class="built_in">test33</span>(p);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="built_in">test01</span>();</span><br><span class="line">    <span class="built_in">test02</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="类模板与继承"><a href="#类模板与继承" class="headerlink" title="类模板与继承"></a><strong>类模板与继承</strong></h4><p>当类模板遇到继承时，需要注意一下几点：</p>
<p>1、当子类继承的父类是一个类模板时，子类在声明的时候，要指定出父类中T的类型，如果不指定，编译器无法给子类分配内存</p>
<p>2、如果想灵活指定出父类中的T的类型，子类也需变成类模板</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    T m ;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> : <span class="keyword">public</span> Base&lt;<span class="type">int</span>&gt;   <span class="comment">//需要指定父类中的通用数据类型T ，否则编译器无法给子类分配内存</span></span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//如果想要灵活指定数据类型，需要将子类也模板化</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span>, <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">son1</span> : <span class="keyword">public</span> Base&lt; T2&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="built_in">typeid</span>(T1).<span class="built_in">name</span>() &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="built_in">typeid</span>(T2).<span class="built_in">name</span>() &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    son1 &lt;<span class="type">int</span> ,<span class="type">char</span>&gt; s;</span><br><span class="line">    s.<span class="built_in">fun</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="成员函数类外实现"><a href="#成员函数类外实现" class="headerlink" title="成员函数类外实现"></a>成员函数类外实现</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span> , <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Person</span>(T1 name ,T2 age) ;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">showPerson</span><span class="params">()</span></span>;</span><br><span class="line">    </span><br><span class="line">    T1 m_Name;</span><br><span class="line">    T2 m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//类外实现类模板成员函数</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>, <span class="keyword">class</span> <span class="title class_">T2</span>&gt; <span class="comment">//声明类模板</span></span><br><span class="line"><span class="type">void</span> Person&lt;T1,T2&gt;:: <span class="built_in">showPerson</span>()  <span class="comment">//说明是哪个作用域下的，&lt; &gt;表示是类模板</span></span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; m_Name &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; m_Age &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//类模板中构造函数的类外实现</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>, <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line">Person :: <span class="built_in">Person</span>(T1 name, T2 age)</span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>总结：类模板中成员函数类外实现时，需要加上模板的参数列表</strong></p>
<h4 id="分文件编写"><a href="#分文件编写" class="headerlink" title="分文件编写"></a>分文件编写</h4><p>掌握类模板成员函数分文件编写产生的问题以及解决方式</p>
<p>问题：类模板中成员函数创建时机是在调用阶段，导致分文件编写时链接不到。</p>
<p><strong>解决: 直接包含.cpp源文件；   将声明和实现写到同一个文件中，并更改后缀名为.hpp，hpp是约定的名称，并不是强制</strong></p>
<p><strong>总结：主流的解决方式是第二种，将类模板成员函数写到一起，并将后缀名改为.hpp</strong></p>
<h4 id="类模板与友元"><a href="#类模板与友元" class="headerlink" title="类模板与友元"></a>类模板与友元</h4><p>掌握类模板配合友元函数的类内和类外实现</p>
<p> <strong>全局函数类内实现 - - 直接在类内声明友元即可</strong></p>
<p> <strong>全局函数类外实现  – 需要提前让编译器知道全局函数的存在</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>; <span class="comment">//声明全局函数的存在和类的存在 ，让编译器知道</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T1,<span class="keyword">class</span> T2&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(Person&lt;T1,T2&gt;p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; p.m_Name &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; p.m_Age &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>, <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//全局函数做类模板友元， 类内实现</span></span><br><span class="line">    <span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">printf</span><span class="params">(Person&lt;T1,T2&gt;P)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; p.m_Name &lt;&lt; <span class="string">&quot;  &quot;</span> &lt;&lt; p.m_Age &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//全局函数友元类外实现</span></span><br><span class="line">    <span class="keyword">friend</span> <span class="type">void</span> fun&lt;&gt;(Person&lt;T1,T2&gt;p);  <span class="comment">//类外实现要加上空模板参数列表</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Person</span>(T1 name , T2 age)</span><br><span class="line">    &#123;</span><br><span class="line">        m_Name = name;</span><br><span class="line">        m_Age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    T1 m_Name;</span><br><span class="line">    T2 m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Person&lt;string,<span class="type">int</span>&gt; <span class="title">p</span><span class="params">(<span class="string">&quot;zhangsan&quot;</span>,<span class="number">20</span>)</span></span>;</span><br><span class="line">    <span class="built_in">printf</span>(p);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>总结：建议全局函数做类内实现，用法简单，而且编译器可以直接识别</strong></p>
<h4 id="案例"><a href="#案例" class="headerlink" title="案例:"></a>案例:</h4><p>描述：实现一个通用的数组类，要求如下：</p>
<p>可以对内置数据类型以及自定义数据类型的数据进行存储；将数组中的数据存储到堆区；构造函数中可以传入数组的容量；提供对应的拷贝函数以及operator&#x3D; 防止浅拷贝问题；提供尾插法和尾删法对数组中的数据进行增加和删除；可以通过下标的方式访问数组中的元素；可以获取数组中当前元素个数和数组的容量</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//分文件编写</span></span><br><span class="line"><span class="comment">//文件名后缀.hpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Myarray</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Myarray</span>(<span class="type">int</span> capacity)</span><br><span class="line">    &#123;</span><br><span class="line">        m_Capacity  = capacity;</span><br><span class="line">        m_Size = <span class="number">0</span>;</span><br><span class="line">        paddress = <span class="keyword">new</span> T [capacity];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//拷贝构造防止浅拷贝</span></span><br><span class="line">    <span class="built_in">Myarray</span>(<span class="type">const</span> Myarray *arr)</span><br><span class="line">    &#123;</span><br><span class="line">        m_Capacity = arr.m_Capacity;</span><br><span class="line">        m_Size = arr.m_Size;</span><br><span class="line">        paddress = <span class="keyword">new</span> T[arr.m_Capacity];</span><br><span class="line">        <span class="comment">//给重新在堆区的数据赋值</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i =<span class="number">0</span>; i &lt; m_Size; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            paddress[i] = arr.paddress[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//operator=</span></span><br><span class="line">    Myarray &amp; <span class="keyword">operator</span> = (Myarray &amp; arr)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(paddress != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">delete</span> []paddress;</span><br><span class="line">            paddress = <span class="literal">NULL</span>;</span><br><span class="line">            m_Capacity = <span class="number">0</span>;</span><br><span class="line">            m_Size = <span class="number">0</span>;</span><br><span class="line">              </span><br><span class="line">        &#125;</span><br><span class="line">        m_Capacity = arr.m_Capacity;</span><br><span class="line">        m_Size = arr.m_Size;</span><br><span class="line">        paddress = <span class="keyword">new</span> T[arr,Capacity];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt;m_Size ; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            paddress[i] = arr.paddress[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//[] 重载， 因为调用的对象属于自定义数据类型</span></span><br><span class="line">    T &amp;<span class="keyword">operator</span>[](<span class="type">int</span> index)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> paddress[index];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//尾插法</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Push_array</span><span class="params">(T &amp; val)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(m_Size == m_Capacity)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        paddress[m_Size] = val;</span><br><span class="line">        m_Size ++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//尾删法</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Pop_array</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(m_Size == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        m_Size --;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//获得元素个数</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">get_array</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_Size;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//获得数组容量</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">get_capacity</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_Capacity;</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    ~<span class="built_in">Myarray</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;析构函数调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">if</span>(paddress != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">delete</span> [] paddress;</span><br><span class="line">            paddress = <span class="literal">NULL</span>;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    T * paddress;</span><br><span class="line">    <span class="type">int</span> m_Capacity;</span><br><span class="line">    <span class="type">int</span> m_Size;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&quot;.hpp&quot;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Myarray&lt;<span class="type">int</span>&gt;<span class="built_in">m</span>(<span class="number">5</span>);</span><br><span class="line">    <span class="comment">//赋值</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i =<span class="number">0</span>; i &lt; <span class="number">5</span>; i ++)</span><br><span class="line">    &#123;</span><br><span class="line">         m.<span class="built_in">Push_array</span>();  </span><br><span class="line">        </span><br><span class="line">     &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; m.<span class="built_in">get_array</span>(); j++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; m[j] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//尾删法</span></span><br><span class="line">    m.<span class="built_in">Pop_array</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="STL"><a href="#STL" class="headerlink" title="STL"></a>STL</h1><p><strong>提高复用性</strong></p>
<p><strong>STL（Standard Template Library – 标准模板库）</strong> ； STL从广义上分为：<strong>容器（container）、算法（algorithm）、迭代器（ iterator）</strong> ； <strong>容器</strong>和<strong>算法</strong>通过<strong>迭代器</strong>进行无缝链接; STL几乎所有的代码都采用了模板类或者模板函数</p>
<p><strong>STL六大组件：容器、算法、迭代器、仿函数、适配器（配接器）、空间配置器</strong></p>
<p>1、容器：各种数据结构，如：vector、list、deque、set、map等，用来存放数据</p>
<p>2、算法： 各种常用的算法，如：sort、find、copy、for_each等</p>
<p>3、迭代器：扮演了容器与算法之间的胶合剂</p>
<p>4、仿函数：行为类似函数，可作为算法的某种策略</p>
<p>5、适配器：一种用来修饰容器或者仿函数或迭代器接口的东西。</p>
<p>6、空间配置器：负责空间的配置与管理</p>
<img src="/2022/08/08/C/STL.0.png" class title="STL.0">

<img src="/2022/08/08/C/STL.0-16630694179894.png" class title="STL.0-16630694179894">

<h2 id="初识-vector"><a href="#初识-vector" class="headerlink" title="初识-vector"></a>初识-vector</h2><p>STL中最常用的容器为Vector，可以理解为数组；</p>
<p><strong>1、vector存放内置数据类型</strong></p>
<p><strong>容器：vector    算法:for_each(遍历算法) ;    迭代器：vector<int> :: iterator</int></strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">myPrint</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; val &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//vector 容器可以看成一个数组</span></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v; <span class="comment">//使用vector容器需要引用头文件&lt;vector&gt;</span></span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">30</span>);  <span class="comment">//push_back（）函数，向v中插入数据</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//通过迭代器访问容器的数据</span></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; :: iterator itbegin =v.<span class="built_in">begin</span>(); <span class="comment">//起始迭代器，指向容器的第一个元素</span></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; :: iterator itend = v.<span class="built_in">end</span>(); <span class="comment">//结束迭代器，指向容器中的最后一个元素</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//第一种遍历方式</span></span><br><span class="line">    <span class="keyword">while</span>(itbegin != itend)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; *itbegin &lt;&lt; endl;</span><br><span class="line">        itbegin ++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//第二种遍历方式</span></span><br><span class="line">    <span class="keyword">for</span>(vector &lt;<span class="type">int</span>&gt;:: iterator it = v.<span class="built_in">begin</span>(); it!=v.<span class="built_in">end</span>();it++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout  &lt;&lt; * it &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//第三种遍历方式：利用STL遍历输出</span></span><br><span class="line">    for_each(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),myPrint);  <span class="comment">//利用算法 for_each算法遍历 需要加上</span></span><br><span class="line">    <span class="comment">//算法头文件</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>2、vector存放自定义数据类型</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Person</span>(string name, <span class="type">int</span> age)</span><br><span class="line">    &#123;</span><br><span class="line">        m_Name = name;</span><br><span class="line">        m_age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    string m_Name;</span><br><span class="line">    <span class="type">int</span> m_age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;Person&gt; v; <span class="comment">//创建一个vector容器 ，容器里是Person类的数据，v是容器对象</span></span><br><span class="line">    <span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">&quot;aa&quot;</span>,<span class="number">20</span>)</span></span>;</span><br><span class="line">    <span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">&quot;bb&quot;</span>,<span class="number">20</span>)</span></span>;</span><br><span class="line">    <span class="comment">//尾插法向容器中添加数据</span></span><br><span class="line">    v.<span class="built_in">push_back</span>(p1);</span><br><span class="line">    v.<span class="built_in">push_back</span>(p2);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//for循环利用迭代器输出 </span></span><br><span class="line">    <span class="keyword">for</span>(vector&lt;Person&gt; :: iterator a = v.<span class="built_in">begin</span>();a !=v.<span class="built_in">end</span>();a++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//创建了一个迭代器a 指向容器中的起始数据</span></span><br><span class="line">        cout &lt;&lt; a-&gt;m_Name &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; a-&gt;m_age &lt;&lt; endl;</span><br><span class="line">        <span class="comment">//迭代器a本质上是一个指针，指向Person类的指针，对它解引用之后就是Person</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//for循环输出Person*类</span></span><br><span class="line">    <span class="keyword">for</span>(vector&lt;Person *&gt; :: iterator a = v.<span class="built_in">begin</span>();a!=v.<span class="built_in">end</span>();a++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; (*a)-&gt;m_Name &lt;&lt; <span class="string">&quot;  &quot;</span> &lt;&lt;(*a)-&gt;m_age &lt;&lt; endl;</span><br><span class="line">        <span class="comment">//*a解引用之后 就是Person*指针， 因为a本质上是一个指针， 如果像变成Person</span></span><br><span class="line">        <span class="comment">//需要再次解引用 **a = Person</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>3、容器嵌套容器</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v2;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v3;</span><br><span class="line"><span class="comment">//向小容器中添加数据</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    v1.<span class="built_in">push_back</span>(i+<span class="number">1</span>);</span><br><span class="line">    v2.<span class="built_in">push_back</span>(i+<span class="number">2</span>);</span><br><span class="line">    v3.<span class="built_in">push_back</span>(i+<span class="number">3</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建大容器</span></span><br><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; v; <span class="comment">// 大容器中嵌套小容器</span></span><br><span class="line">v.<span class="built_in">push_back</span>(v1);</span><br><span class="line">v.<span class="built_in">push_back</span>(v2);v.<span class="built_in">push_back</span>(v3);  <span class="comment">//向大容器中插入数据</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//for循环输出大容器中的数据</span></span><br><span class="line"><span class="keyword">for</span>(vector &lt;vector&lt;<span class="type">int</span>&gt;&gt; :: iterator it = v.<span class="built_in">begin</span>();it != v.<span class="built_in">end</span>(); it++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//for循环先输出小容器中的数据</span></span><br><span class="line">    <span class="keyword">for</span>(vector&lt;<span class="type">int</span>&gt; :: iterator vit = (*it).<span class="built_in">begin</span>();vit!= (*it).<span class="built_in">end</span>(),vit++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; (*vit) &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        <span class="comment">//（*vit） 解引用出来就是int类型，等于输入容器中的int，(*it)解引用出来是小容器</span></span><br><span class="line">        <span class="comment">// vector&lt;int&gt; 把小容器的数据依次全部输出，等于输出大容器中的所有数据</span></span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="string容器"><a href="#string容器" class="headerlink" title="string容器"></a>string容器</h2><p><strong>string本质：</strong>string是C++风格的字符串，而string本质上是一个类</p>
<p><strong>string 和 char*的区别：</strong></p>
<p>char* 是一个指针 ；  string是一个类，类内部封装了char*，管理这个字符串，是一个char * 型的容器</p>
<p><strong>特点：</strong></p>
<p>string类内部封装了很多成员方法：例如：查找find、拷贝copy、删除delete，替换replace，插入insert；string管理char *所分配的内存，不用担心复制越界等，由类内部进行负责</p>
<p><strong>string构造函数</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string s1; <span class="comment">//默认函数构造</span></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span>* str = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">    <span class="function">string <span class="title">s2</span><span class="params">(str)</span></span>;</span><br><span class="line">    cout &lt;&lt; s2&lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="function">string <span class="title">s3</span><span class="params">(s2)</span></span>; </span><br><span class="line">    cout &lt;&lt; s3 &lt;&lt; endl;  <span class="comment">//拷贝函数</span></span><br><span class="line">    </span><br><span class="line">    <span class="function">string <span class="title">s4</span><span class="params">(<span class="number">10</span>, <span class="string">&quot;a&quot;</span>)</span></span>; <span class="comment">// 表示向s4字符串中传入10个 a的字符</span></span><br><span class="line">    cout &lt;&lt; s4 &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="/2022/08/08/C/string2.png" class title="string2">

<h3 id="string-赋值操作"><a href="#string-赋值操作" class="headerlink" title="string 赋值操作"></a>string 赋值操作</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string s1;</span><br><span class="line">    s1 = <span class="string">&quot;hello c++&quot;</span>;</span><br><span class="line">    string s2 ;</span><br><span class="line">    s2= s1;</span><br><span class="line">    string s3;</span><br><span class="line">    s3 = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">    string s4;</span><br><span class="line">    s4.<span class="built_in">assign</span>(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line">    string s5;</span><br><span class="line">    s5.<span class="built_in">assign</span>(s4);</span><br><span class="line">    string s6;</span><br><span class="line">    s6.<span class="built_in">assign</span>(<span class="string">&quot;hello world&quot;</span>,<span class="number">5</span>); <span class="comment">// 表示取前面五个字符存放字符串s6中</span></span><br><span class="line">     </span><br><span class="line">    string s7;</span><br><span class="line">    s7.<span class="built_in">assign</span>(<span class="number">10</span>,<span class="string">&quot;c&quot;</span>); <span class="comment">//向字符串s7中存入10个字符c</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="/2022/08/08/C/string1.png" class title="string1">

<p>总结：string赋值方法很多， operator &#x3D; 这种方法比较实用</p>
<h3 id="字符串的拼接"><a href="#字符串的拼接" class="headerlink" title="字符串的拼接"></a>字符串的拼接</h3><img src="/2022/08/08/C/string4.png" class title="string4">

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string s1 = <span class="string">&quot;I&quot;</span>;</span><br><span class="line">    s1 += <span class="string">&quot; love&quot;</span>;</span><br><span class="line">    cout &lt;&lt; s1 &lt;&lt; endl; <span class="comment">// ilove</span></span><br><span class="line">      </span><br><span class="line">    string s2 = <span class="string">&quot;game&quot;</span>;</span><br><span class="line">    s1 += s2 ;</span><br><span class="line">    cout &lt;&lt; s1 &lt;&lt; endl; <span class="comment">// i love game</span></span><br><span class="line">    </span><br><span class="line">    string s3;</span><br><span class="line">    s3 = <span class="string">&#x27;;&#x27;</span>;</span><br><span class="line">    s1 += s3; </span><br><span class="line">    cout &lt;&lt; s1 &lt;&lt; endl;  <span class="comment">// i love game;</span></span><br><span class="line">    </span><br><span class="line">    string s4 = <span class="string">&quot;I&quot;</span>;</span><br><span class="line">    s4.<span class="built_in">append</span>(<span class="string">&quot;love&quot;</span>);</span><br><span class="line">    cout &lt;&lt; s4 &lt;&lt; endl;  <span class="comment">// i love</span></span><br><span class="line">    </span><br><span class="line">    s4.<span class="built_in">append</span>(s2);</span><br><span class="line">    cout &lt;&lt; s4 &lt;&lt; endl; <span class="comment">// i love game</span></span><br><span class="line">    </span><br><span class="line">    s4.<span class="built_in">append</span>(<span class="string">&quot;LOL DNF&quot;</span>,<span class="number">0</span>,<span class="number">3</span>); <span class="comment">//表示从第一个字符开始，截取三个字符存入到s4字符串中</span></span><br><span class="line">    cout &lt;&lt; s4 &lt;&lt; endl; <span class="comment">// I love game LOL</span></span><br><span class="line">    </span><br><span class="line">    s4.<span class="built_in">append</span>(<span class="string">&quot;woled&quot;</span>,<span class="number">1</span>) <span class="comment">//表示截取一个字符存入s4中</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="字符串查找和替换"><a href="#字符串查找和替换" class="headerlink" title="字符串查找和替换"></a>字符串查找和替换</h3><p>查找：查找指定字符串是否存在</p>
<p>替换：在指定的位置替换字符串</p>
<img src="/2022/08/08/C/string6.png" class title="string6">

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string str = <span class="string">&quot;abcdcd&quot;</span>;</span><br><span class="line">    <span class="type">int</span> pot = str.<span class="built_in">find</span>(<span class="string">&quot;cd&quot;</span>);</span><br><span class="line">    <span class="comment">// 如果找到 find返回的是 该字符串第一个字符在主串中的下标位置。未找到就返回-1</span></span><br><span class="line">    <span class="keyword">if</span>(pot!= <span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; pot &lt;&lt; endl; <span class="comment">//返回的是子串第一个字符在主串中的位置</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;未找到字符串&quot;</span> &lt;&lt; endl; <span class="comment">// 未找到返回-1</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//find和rfind的区别：都是从左向右开始数， find是从左至右开始，而rfind从右至左开始查找</span></span><br><span class="line">   pot =  str.<span class="built_in">rfind</span>(<span class="string">&quot;cd&quot;</span>);</span><br><span class="line">    cout &lt;&lt; pot &lt;&lt; endl; <span class="comment">// 返回的是4 因为rfind是从右至左查找</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string str1 = <span class="string">&quot;qwert&quot;</span>;</span><br><span class="line">    str1.<span class="built_in">replace</span>(<span class="number">1</span>,<span class="number">3</span>,<span class="string">&quot;1111&quot;</span>); <span class="comment">//从字符串下标为1的字符开始数三位将其替换成指定数据</span></span><br><span class="line">    cout &lt;&lt; str1 &lt;&lt; endl;<span class="comment">//输出的是q1111t</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>总结: find查找是从左往右查找，而rfind是从右向左查找，数的顺序都是从左向右数；</p>
<p>find找到字符串后返回该字符串第一个字符在主串中的下标（下标从0开始），找不到返回-1</p>
<p>replace在替换时，要从指定从哪个位置起，多少个字符，换成指定的内容。</p>
<h3 id="字符串比较和存取"><a href="#字符串比较和存取" class="headerlink" title="字符串比较和存取"></a>字符串比较和存取</h3><p><strong>1、字符串比较</strong></p>
<p>比较方式：<strong>字符串比较是按字符的ASCII码进行对比</strong> ； <strong>&#x3D; 返回 0； &gt; 返回 1； &lt; 返回 -1.</strong></p>
<img src="/2022/08/08/C/string0.png" class title="string0">

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string str1 = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    string str2 = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span>(str1.<span class="built_in">compare</span>(str2) == <span class="number">0</span>)  <span class="comment">//两个字符串比较的时候，是将每个相应位置上的字符进行</span></span><br><span class="line">        <span class="comment">//比较 ，比较每个字符的ASCII值是否相等</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;两个字符串相等&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>总结:字符串对比主要是用于比较两个字符串是否相等，判断谁大谁小的意义不大</p>
<p><strong>2、字符存取</strong></p>


<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//通过[]访问字符串中的字符</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt;str.<span class="built_in">size</span>();i++ )</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; str[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125; </span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//通过at访问</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i= <span class="number">0</span>; i &lt;str.<span class="built_in">size</span>();i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; str.<span class="built_in">at</span>(i) &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//修改单个字符</span></span><br><span class="line">    str[<span class="number">0</span>] = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">    str.<span class="built_in">at</span>(<span class="number">1</span>) =<span class="string">&#x27;s&#x27;</span>;</span><br><span class="line">       </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>总结：string字符串中单个字符存取有两种方式，利用[ ] 或 at； str.size( ) 表示字符串大小</p>
<h3 id="字符串插入和删除"><a href="#字符串插入和删除" class="headerlink" title="字符串插入和删除"></a>字符串插入和删除</h3><img src="/2022/08/08/C/string3.png" class title="string3">

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">string str = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">str.<span class="built_in">insert</span>(<span class="number">1</span>,<span class="string">&quot;111&quot;</span>); <span class="comment">//从下标1后面开始插入指定元素</span></span><br><span class="line">cout &lt;&lt; str &lt;&lt; endl; <span class="comment">// h111ello</span></span><br><span class="line">str.<span class="built_in">erase</span>(<span class="number">1</span>,<span class="number">3</span>); <span class="comment">//删除从小标为1开始之后的三个元素</span></span><br><span class="line">cout &lt;&lt; str &lt;&lt; endl; <span class="comment">// hello</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>总结：insert 插入， erase 删除，下标都是从0开始</p>
<h3 id="string子串的获取"><a href="#string子串的获取" class="headerlink" title="string子串的获取"></a>string子串的获取</h3><p>substr</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string str1 = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    string substr1 = str1.<span class="built_in">substr</span>(<span class="number">1</span>,<span class="number">3</span>); <span class="comment">//从字符串中下标为1的字符开始 截取三个字符</span></span><br><span class="line">    </span><br><span class="line">    string str2 =<span class="string">&quot;hello@qq.com&quot;</span>；</span><br><span class="line">    <span class="type">int</span> pos = str2.<span class="built_in">find</span>(<span class="string">&quot;@&quot;</span>); <span class="comment">//找到字符串中 @ 的下标并返回给 pos变量</span></span><br><span class="line">    string username =str2.<span class="built_in">substr</span>(<span class="number">0</span>,pos); <span class="comment">//表示从下标为0 的位置开始 截取长度为pos的子串</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="vector容器"><a href="#vector容器" class="headerlink" title="vector容器"></a>vector容器</h2><p>vector数据结构和数组非常相似，也称为单端数组。</p>
<p><strong>vector和普通数组的区别：不同之处在于数组是静态空间，而vector可以动态扩展。</strong></p>
<p><strong>动态扩展：</strong>并不是在原空间之后续接新空间，而是找更大的内存空间，然后将原数据拷贝新空间，释放原空间。</p>
<p><strong>vector容器的迭代器是支持随机访问的迭代器</strong></p>
<img src="/2022/08/08/C/vector00.png" class title="vector00">

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;% asset_img vector00.png vector00 %&#125;<span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;v1; <span class="comment">//默认函数构造，无参构造</span></span><br><span class="line">    </span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">v2</span>(v1); <span class="comment">//拷贝构造</span></span><br><span class="line">    </span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">v3</span>(v2.<span class="built_in">begin</span>(),v2.<span class="built_in">end</span>()); <span class="comment">//区间构造</span></span><br><span class="line">    </span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">v4</span>(<span class="number">10</span>,<span class="number">100</span>); <span class="comment">//n个元素构造，表示初识化十个 100 的元素存入vector容器</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>总结:vector的多种构造方式没有可比性，灵活使用即可。</p>
<h3 id="vector赋值操作"><a href="#vector赋值操作" class="headerlink" title="vector赋值操作"></a>vector赋值操作</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printfVector</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(vector&lt;<span class="type">int</span>&gt; :: iterator v1 = v.<span class="built_in">begin</span>();v1!=v.<span class="built_in">end</span>(); v1++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; (*v1) &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    v.<span class="built_in">push_back</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printfVector</span>(v1);</span><br><span class="line"><span class="comment">//拷贝赋值</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt;v2;</span><br><span class="line">v2 = v1;</span><br><span class="line"><span class="built_in">printfVector</span>(v2);</span><br><span class="line"><span class="comment">//区间赋值</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt;v3;</span><br><span class="line">v3.<span class="built_in">assign</span>(v1.<span class="built_in">begin</span>(),v2.<span class="built_in">end</span>());</span><br><span class="line"><span class="built_in">printfVector</span>(v3);</span><br><span class="line"><span class="comment">//n个元素赋值</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt;v4;</span><br><span class="line">v4.<span class="built_in">assign</span>(<span class="number">10</span>,<span class="number">100</span>); <span class="comment">//创建10个元素 存放10个一百的数</span></span><br><span class="line">printfVector&lt;v4&gt;;</span><br></pre></td></tr></table></figure>

<h3 id="vector容器-容量和大小"><a href="#vector容器-容量和大小" class="headerlink" title="vector容器-容量和大小"></a>vector容器-容量和大小</h3><img src="/2022/08/08/C/vector0.png" class title="vector0">

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span>  <span class="comment">//vector容量和大小</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printfvector</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(vector&lt;<span class="type">int</span>&gt; :: iterator v1 = v.<span class="built_in">begin</span>();v1 != v.<span class="built_in">end</span>();v1++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; *v1 &lt;&lt; <span class="string">&quot; &quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt; <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printfvector</span>(v1);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(v1.<span class="built_in">empty</span>()) <span class="comment">//如果为真，说明容器为空</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;容器v1为空&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;v1不为空&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;v1的容量为 ： &quot;</span> &lt;&lt; v1.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;V1的大小为: &quot;</span> &lt;&lt; v1.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    v1.<span class="built_in">resize</span>(<span class="number">15</span>,<span class="number">100</span>);</span><br><span class="line">    <span class="built_in">printfvector</span>(v1); <span class="comment">// resize重新指定vector容器大小，如果未指定默认值，剩下空余的位置</span></span><br><span class="line">    <span class="comment">//会用0来填充。</span></span><br><span class="line">    v1.<span class="built_in">resize</span>(<span class="number">5</span>); <span class="comment">//如果重新指定的大小比原来短了，超出的部分会被删除</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>总结： empty( ) – 判断是否为空 ； size( )  –返回元素个数 ； capacity( ) –返回容器容量 ; resize( ) 重新指定大小</p>
<h3 id="Vector容器的插入和删除"><a href="#Vector容器的插入和删除" class="headerlink" title="Vector容器的插入和删除"></a>Vector容器的插入和删除</h3><h3 id><a href="#" class="headerlink" title></a><img src="/2022/08/08/C/vector1.png" class title="vector1"></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;v1;</span><br><span class="line">    <span class="comment">//尾插法，向尾部插入数据</span></span><br><span class="line">    v1.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">    v1.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">    v1.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">    <span class="comment">//尾删法</span></span><br><span class="line">    v1.<span class="built_in">pop_back</span>(); <span class="comment">//删除容器尾部最后一个元素</span></span><br><span class="line">    <span class="comment">//插入</span></span><br><span class="line">    v1.<span class="built_in">insert</span>(v1.<span class="built_in">begin</span>(),<span class="number">100</span>); <span class="comment">//向迭代器的第一个元素插入一个100</span></span><br><span class="line">    v1.<span class="built_in">insert</span>(v1.<span class="built_in">begin</span>(),<span class="number">2</span>,<span class="number">100</span>) ; <span class="comment">//向迭代器的开头插入两个 100的元素</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//删除</span></span><br><span class="line">    v1.<span class="built_in">erase</span>(v1.<span class="built_in">begin</span>()); <span class="comment">//删除迭代器指定的元素</span></span><br><span class="line">    v1.<span class="built_in">erase</span>(v1.<span class="built_in">begin</span>(),v1.<span class="built_in">end</span>()); <span class="comment">//删除迭代器区间的所有元素</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//清空容器中所有的元素</span></span><br><span class="line">    v1.<span class="built_in">clear</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>总结： push_back(尾插)； pop_back（尾删）; insert(插入,迭代器); erase（删除.迭代器）； clear（清空）.</p>
<h3 id="vector数据存取"><a href="#vector数据存取" class="headerlink" title="vector数据存取"></a>vector数据存取</h3><img src="/2022/08/08/C/vector2.png" class title="vector2">

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//利用[]来访问容器中的元素</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; v1.<span class="built_in">size</span>(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; v1[i]  &lt;&lt; <span class="string">&quot; &quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//利用at来访问容器中的元素</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; v1.<span class="built_in">size</span>();i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; v1.<span class="built_in">at</span>(i) &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//访问第一个元素</span></span><br><span class="line">    cout &lt;&lt; v1.<span class="built_in">front</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//访问最后一个元素</span></span><br><span class="line">    cout &lt;&lt; v1.<span class="built_in">back</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="vector互换容器"><a href="#vector互换容器" class="headerlink" title="vector互换容器"></a>vector互换容器</h3><p><strong>swap(vet) ;</strong>  &#x2F;&#x2F; 将vet与本身的元素互换</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span> ; i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v2;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">10</span>; i&gt;<span class="number">0</span>; i--)</span><br><span class="line">    &#123;</span><br><span class="line">        v2.<span class="built_in">push_back</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    v1.<span class="built_in">swap</span>(v2); <span class="comment">//v1 和 v2 容器中元素互换</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//实际用途，利用swap来收缩内存</span></span><br><span class="line">    v1.<span class="built_in">resize</span>(<span class="number">5</span>);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(v).<span class="built_in">swap</span>(v); <span class="comment">//匿名对象</span></span><br><span class="line">    <span class="comment">//vector&lt;int&gt;(v)是一个匿名对象，当容器v重新指定大小时，会初始化匿名对象的大小，然后与</span></span><br><span class="line">    <span class="comment">//另一个空间大的容器交换大小，匿名对象在本行结束之后会被释放掉，从而达到收缩内存</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>总结：swap可以使两个容器互换，可以达到实用的收缩内存效果。</strong></p>
<h3 id="vector预留空间"><a href="#vector预留空间" class="headerlink" title="vector预留空间"></a>vector预留空间</h3><p>功能： 减少vector在动态扩展容量时的扩展次数</p>
<p><strong>reserve( int len );</strong>  <strong>预留len个元素长度，预留位置不初始化，元素不可访问。</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt;v;</span><br><span class="line"><span class="type">int</span> num  =<span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> *p = <span class="literal">NULL</span>;</span><br><span class="line"><span class="comment">//当我们知道有多少个数据的时候，直接为容器预留这么多个数的空间，减少扩展次数</span></span><br><span class="line">v.<span class="built_in">reverse</span>(<span class="number">100000</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ;i &lt; <span class="number">100000</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    v.<span class="built_in">push_back</span>(i);</span><br><span class="line">    <span class="keyword">if</span>(p !=&amp;v[<span class="number">0</span>])</span><br><span class="line">    &#123;</span><br><span class="line">        p = &amp;v[<span class="number">0</span>];  <span class="comment">//p指针来判断重新开辟了多少次内存空间，当重新开辟一块空间时，首地址发</span></span><br><span class="line">        <span class="comment">//生变化，用num计数</span></span><br><span class="line">        num++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; num &lt;&lt; endl;</span><br></pre></td></tr></table></figure>

<p>总结：如果数据量比较大，可以用reserve预留一块空间出来</p>
<h2 id="deque容器"><a href="#deque容器" class="headerlink" title="deque容器"></a>deque容器</h2><img src="/2022/08/08/C/deque.png" class title="deque">



<img src="/2022/08/08/C/deque1.png" class title="deque1">

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;deuqe&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printfDeque</span><span class="params">(<span class="type">const</span> deque&lt;<span class="type">int</span>&gt; &amp;d)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">     <span class="comment">//const修饰容器 和 迭代器const_iterator 可以防止误操作 (防止写操作)</span></span><br><span class="line">    <span class="keyword">for</span>(deque&lt;<span class="type">int</span>&gt; :: const_iterator d1 = d.<span class="built_in">begin</span>();d1 != d.<span class="built_in">end</span>();d1++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; *d1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    deque&lt;<span class="type">int</span>&gt;d1; </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt;<span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        d1.<span class="built_in">push_back</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printfDeque</span>(d1);</span><br><span class="line">    </span><br><span class="line">    <span class="function">deque&lt;<span class="type">int</span>&gt; <span class="title">d2</span><span class="params">(d1)</span></span>; <span class="comment">//拷贝构造</span></span><br><span class="line">    </span><br><span class="line">    <span class="function">deque&lt;<span class="type">int</span>&gt; <span class="title">d3</span><span class="params">(d1.begin(),d1.end())</span></span>; <span class="comment">//区间构造</span></span><br><span class="line">    </span><br><span class="line">    <span class="function">deque&lt;<span class="type">int</span>&gt; <span class="title">d4</span><span class="params">(<span class="number">10</span>,<span class="number">100</span>)</span></span>; <span class="comment">//n个元素构造， 10个100的数构造</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>总结：deque容器和vector容器的构造方式几乎一致，灵活使用即可</strong></p>
<h3 id="deque赋值操作"><a href="#deque赋值操作" class="headerlink" title="deque赋值操作"></a>deque赋值操作</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    deque&lt;<span class="type">int</span>&gt;d1;</span><br><span class="line">    d1.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">    d1.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">    </span><br><span class="line">    deque&lt;<span class="type">int</span>&gt;d2;</span><br><span class="line">    d2 = d1; <span class="comment">//赋值拷贝构造</span></span><br><span class="line">    </span><br><span class="line">    deque&lt;<span class="type">int</span>&gt;d3;</span><br><span class="line">    d3.<span class="built_in">assign</span>(d1.<span class="built_in">begin</span>(),d1.<span class="built_in">end</span>()); <span class="comment">//assign区间构造</span></span><br><span class="line">    </span><br><span class="line">    deque&lt;<span class="type">int</span>&gt;d4;</span><br><span class="line">    d4.<span class="built_in">assign</span>(<span class="number">10</span>,<span class="number">100</span>); <span class="comment">//assign n个元素构造</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="deque大小操作"><a href="#deque大小操作" class="headerlink" title="deque大小操作"></a>deque大小操作</h3><img src="/2022/08/08/C/deque2.png" class title="deque2">

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    deque&lt;<span class="type">int</span>&gt; d1;</span><br><span class="line">    d1.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">    d1.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(d1.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;d1为空&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;d1不为空&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;d1的大小为： &quot;</span> &lt;&lt; d1.<span class="built_in">size</span>()  &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//重新指定大小</span></span><br><span class="line">    d1.<span class="built_in">resize</span>(<span class="number">15</span>); <span class="comment">//将原来大小扩充为15，默认值用0来填充</span></span><br><span class="line">    d1.<span class="built_in">resize</span>(<span class="number">15</span>,<span class="number">1</span>); <span class="comment">// 指定填充默认值为1，超出的部分都用1来填充</span></span><br><span class="line">    </span><br><span class="line">    d1.<span class="built_in">resize</span>(<span class="number">1</span>); <span class="comment">//缩短大小，多出的部分会被删除</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>deque容器没有容量的概念</strong></p>
<h3 id="deque的插入和删除"><a href="#deque的插入和删除" class="headerlink" title="deque的插入和删除"></a><strong>deque的插入和删除</strong></h3><img src="/2022/08/08/C/deque3.png" class title="deque3">

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    deque &lt;<span class="type">int</span> &gt;d1;</span><br><span class="line">    d1.<span class="built_in">push_back</span>(<span class="number">10</span>); </span><br><span class="line">    d1.<span class="built_in">push_back</span>(<span class="number">20</span>); <span class="comment">//尾插法</span></span><br><span class="line">    d1.<span class="built_in">push_front</span>(<span class="number">20</span>);</span><br><span class="line">    d1.<span class="built_in">push_front</span>(<span class="number">10</span>); <span class="comment">//头插法  10,20,10,20</span></span><br><span class="line">    </span><br><span class="line">    d1.<span class="built_in">pop_back</span>(); <span class="comment">//尾删法 10 20 10</span></span><br><span class="line">    d1.<span class="built_in">pop_front</span>(); <span class="comment">//头删法 20 10</span></span><br><span class="line">    </span><br><span class="line">    d1.<span class="built_in">insert</span>(d1.<span class="built_in">begin</span>(),<span class="number">100</span>); <span class="comment">//在第一个位置插入一个100</span></span><br><span class="line">    d1.<span class="built_in">insert</span>(d1.<span class="built_in">begin</span>(),<span class="number">2</span>,<span class="number">1000</span>); <span class="comment">//在开始位置插入2个1000</span></span><br><span class="line">    </span><br><span class="line">    deque&lt;<span class="type">int</span>&gt; d2;</span><br><span class="line">    d2.<span class="built_in">insert</span>(d2.<span class="built_in">begin</span>(),d1.<span class="built_in">begin</span>(),d1.<span class="built_in">end</span>()); <span class="comment">//插入d1开始到结束的区间</span></span><br><span class="line">    </span><br><span class="line">    d1.<span class="built_in">clear</span>(); <span class="comment">//清空容器的所有数据</span></span><br><span class="line">    d2.<span class="built_in">erase</span>(d2.<span class="built_in">begin</span>(),de.<span class="built_in">end</span>()); <span class="comment">// 删除区间中的数据</span></span><br><span class="line">    </span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<p><strong>总结：插入和删除提供的位置是迭代器！</strong></p>
<h3 id="deque数据存取"><a href="#deque数据存取" class="headerlink" title="deque数据存取"></a>deque数据存取</h3><p>与vector容器相同</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    deque&lt;<span class="type">int</span> &gt;d1;</span><br><span class="line">    d1.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">    d1.<span class="built_in">push_front</span>(<span class="number">20</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//[]访问</span></span><br><span class="line">    cout &lt;&lt; d1[<span class="number">0</span>] &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; d1[<span class="number">1</span>] &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//at访问</span></span><br><span class="line">    cout &lt;&lt; d1.<span class="built_in">at</span>(<span class="number">0</span>) &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; d1.<span class="built_in">at</span>(<span class="number">1</span>) &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//获取头元素</span></span><br><span class="line">    cout &lt;&lt; d1.<span class="built_in">front</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//获取尾元素</span></span><br><span class="line">    cout &lt;&lt; d1.<span class="built_in">back</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>除了用迭代器获取deque容器中的元素，[ ] 和at也可以</p>
<h3 id="deque排序操作"><a href="#deque排序操作" class="headerlink" title="deque排序操作"></a>deque排序操作</h3><p>利用算法实现deque容器进行排序</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span> <span class="comment">//使用STL算法时，需要包含头文件</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    deque &lt;<span class="type">int</span> &gt;d1;</span><br><span class="line">    d1.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">    d1.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">    d1.<span class="built_in">push_front</span>(<span class="number">20</span>);</span><br><span class="line">    d1.<span class="built_in">push_front</span>(<span class="number">10</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//利用算法进行排序</span></span><br><span class="line">    <span class="built_in">sort</span>(d1.<span class="built_in">begin</span>(),d1.<span class="built_in">end</span>()); <span class="comment">// 默认排序 是从小到大 进行升序</span></span><br><span class="line">    <span class="comment">//对于支持随机访问的迭代器的容器，都可以使用sort算法对其进行直接排序</span></span><br><span class="line">    <span class="comment">//vector容器也是支持随机访问的容器， 也可以利用sort算法进行排序</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>使用STL中的算法需要包含algorithm头文件</strong></p>
<h2 id="STL案例-评委打分"><a href="#STL案例-评委打分" class="headerlink" title="STL案例:评委打分"></a>STL案例:评委打分</h2><img src="/2022/08/08/C/STLanli.png" class title="STLanli">

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="comment">//省去Person类的定义,写核心步骤</span></span><br><span class="line"><span class="comment">//1、用vector容器存放五名选手</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">createPerson</span><span class="params">(vector&lt;Person&gt; &amp;v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string setname = <span class="string">&quot;ABCDE&quot;</span>;</span><br><span class="line">    <span class="comment">//用for循环来对每个Person对象进行初始化</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span> ; i ++) <span class="comment">//需要注意这里循环条件不要用 容器的大小，因为容器中还没有对象  &#123;</span></span><br><span class="line">        string name = <span class="string">&quot;选手&quot;</span> ;</span><br><span class="line">       name += setname[i]; </span><br><span class="line">      <span class="type">int</span> score = <span class="number">0</span>;</span><br><span class="line">    <span class="function">Person <span class="title">p</span> <span class="params">(name, score)</span></span>; <span class="comment">//创建一个Person对象进行赋值，</span></span><br><span class="line">    v.<span class="built_in">push_back</span>(p) ; <span class="comment">//尾插法向vector容器中插入对象       </span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//用deque容器来进行十个评分打分，求得平均分 将平均分赋值给五名选手</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setscore</span><span class="params">(vector&lt;Person&gt; &amp;v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(vector&lt;Person&gt; :: iterator v1 = v.<span class="built_in">begin</span>(); v1 != v.<span class="built_in">end</span>(); v1++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//从vector容器第一个元素开始赋值</span></span><br><span class="line">        <span class="comment">//用deque容器进行存放评分</span></span><br><span class="line">        deque&lt;<span class="type">int</span>&gt; d;</span><br><span class="line">        <span class="type">int</span> score = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt; <span class="number">10</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//十名评委打分传入deque容器</span></span><br><span class="line">            score = <span class="built_in">rand</span>() % <span class="number">41</span> + <span class="number">60</span> ;<span class="comment">//产生随机数0-100</span></span><br><span class="line">            d.<span class="built_in">push_back</span>(score); <span class="comment">//将此随机数尾插法插入d容器中 </span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//sort算法进行排序</span></span><br><span class="line">        <span class="built_in">sort</span>(d.<span class="built_in">begin</span>(),d.<span class="built_in">end</span>()); <span class="comment">//升序排序</span></span><br><span class="line">        <span class="comment">//去掉最高分和最低分， 用尾删和头删法</span></span><br><span class="line">        d.<span class="built_in">pop_back</span>();</span><br><span class="line">        d.<span class="built_in">pop_front</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>; <span class="comment">//求和在求平均值</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; d.<span class="built_in">size</span>(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            sum += d[i]; <span class="comment">//用下标访问deque容器中的元素,也可以用迭代器</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> avg = sum / d.<span class="built_in">size</span>() ;</span><br><span class="line">        <span class="comment">//将平均值赋值给每个对象</span></span><br><span class="line">        v1-&gt;m_score = avg;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//打印分数</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printfscore</span><span class="params">(vector &lt;Person&gt; &amp;v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(vector&lt;Person&gt; :: iterator v1 = v.<span class="built_in">begin</span>(); v1!=v.<span class="built_in">end</span>(); v1++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;姓名为： &quot;</span> &lt;&lt; v1-&gt;m_Name &lt;&lt; <span class="string">&quot; 分数为： &quot;</span> &lt;&lt;v1-&gt;score &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>总结：理清楚每一个步骤需要做什么， 注意每一个细节，有一个清晰的思路。</p>
<h2 id="stack容器"><a href="#stack容器" class="headerlink" title="stack容器"></a>stack容器</h2><img src="/2022/08/08/C/stack0.png" class title="stack0">

<p><strong>栈的常用接口：</strong></p>
<img src="/2022/08/08/C/stack1.png" class title="stack1">

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="comment">//栈的特点先进后出</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    stack&lt;<span class="type">int</span>&gt;s; <span class="comment">//默认构造函数</span></span><br><span class="line">    s.<span class="built_in">push</span>(<span class="number">10</span>); <span class="comment">//入栈</span></span><br><span class="line">    s.<span class="built_in">push</span>(<span class="number">20</span>);</span><br><span class="line">    s.<span class="built_in">push</span>(<span class="number">30</span>); </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!s.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;栈不为空，栈的大小为 ： &quot;</span> &lt;&lt; s.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;查看栈顶元素：  &quot;</span>  &lt;&lt; s.<span class="built_in">top</span>() &lt;&lt; endl;</span><br><span class="line">    s.<span class="built_in">pop</span>(); <span class="comment">//出栈</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="queue容器"><a href="#queue容器" class="headerlink" title="queue容器"></a>queue容器</h2><img src="/2022/08/08/C/queue0.png" class title="queue0">

<p><strong>queue容器的常用接口:</strong></p>
<img src="/2022/08/08/C/queue1.png" class title="queue1">

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    queue&lt;Person&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(p1);</span><br><span class="line">    q.<span class="built_in">push</span>(p2);</span><br><span class="line">    q.<span class="built_in">push</span>(p3);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;q的大小 &quot;</span> &lt;&lt; q.<span class="built_in">size</span>() &lt;&lt;&lt; endl; <span class="comment">// 3</span></span><br><span class="line">    <span class="keyword">if</span>(!q.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;q不为空 ,返回对头元素： &quot;</span>  &lt;&lt; q.<span class="built_in">front</span>().m_Name &lt;&lt; endl; <span class="comment">// p1</span></span><br><span class="line">        cout &lt;&lt; q.<span class="built_in">back</span>() &lt;&lt; endl;</span><br><span class="line">        q.<span class="built_in">pop</span>(); <span class="comment">//从队头删除一个元素</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="list容器"><a href="#list容器" class="headerlink" title="list容器"></a>list容器</h2><img src="/2022/08/08/C/list0.png" class title="list0">

<img src="/2022/08/08/C/list1.png" class title="list1">

<img src="/2022/08/08/C/list2.png" class title="list2">

<p><strong>构造函数</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    list&lt;<span class="type">int</span>&gt;l;  <span class="comment">// 默认构造函数（无参构造）</span></span><br><span class="line">    l.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">    l.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">    l.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">    </span><br><span class="line">    list&lt;<span class="type">int</span>&gt;<span class="built_in">l2</span>(l);  <span class="comment">// 构造函数</span></span><br><span class="line">    </span><br><span class="line">    list&lt;<span class="type">int</span>&gt;<span class="built_in">l3</span>(l.<span class="built_in">begin</span>(),l.<span class="built_in">end</span>()); <span class="comment">// 区间构造</span></span><br><span class="line">    </span><br><span class="line">    list&lt;<span class="type">int</span>&gt;<span class="built_in">l4</span>(<span class="number">10</span>,<span class="number">100</span>); <span class="comment">//n个元素构造。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="list赋值和交换"><a href="#list赋值和交换" class="headerlink" title="list赋值和交换"></a>list赋值和交换</h3><p>给list容器进行赋值，以及交换list容器</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    list&lt;<span class="type">int</span>&gt;L1;</span><br><span class="line">    L1.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">    L1.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">    L1.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">    </span><br><span class="line">    list&lt;<span class="type">int</span>&gt;L2;</span><br><span class="line">    L2 = L1 ; <span class="comment">// 赋值拷贝</span></span><br><span class="line">    </span><br><span class="line">    list&lt;<span class="type">int</span>&gt;L3;</span><br><span class="line">    L3.<span class="built_in">assign</span>(L1.<span class="built_in">begin</span>(),L1.<span class="built_in">end</span>()); <span class="comment">//区间赋值</span></span><br><span class="line">    </span><br><span class="line">    list&lt;<span class="type">int</span>&gt;L4;</span><br><span class="line">    L4.<span class="built_in">assign</span>(<span class="number">10</span>,<span class="number">100</span>); <span class="comment">// n个元素赋值</span></span><br><span class="line">    </span><br><span class="line">    L1.<span class="built_in">swap</span>(L2); <span class="comment">//两个容器互换</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>list赋值和交换操作能够灵活运用即可</p>
<h3 id="list大小操作"><a href="#list大小操作" class="headerlink" title="list大小操作"></a>list大小操作</h3><p>对list容器的大小进行操作</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    list&lt;<span class="type">int</span>&gt; L1;</span><br><span class="line">    L1.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">    L1.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">    L1.<span class="built_in">push_back</span>(<span class="number">330</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(L1.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;L1为空&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;L1不为空，L1的大小为： &quot;</span> &lt;&lt; L1.<span class="built_in">size</span>()&lt;&lt; endl;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//重新指定大小</span></span><br><span class="line">    L1.<span class="built_in">resize</span>(<span class="number">10</span>); <span class="comment">//多出的部分默认填充0，有指定值填充指定值</span></span><br><span class="line">    </span><br><span class="line">    L1.<span class="built_in">resize</span>(<span class="number">2</span>); <span class="comment">//超出的部分会被删除</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>empty( ), size( ) , resize( )</p>
<h3 id="list插入和删除"><a href="#list插入和删除" class="headerlink" title="list插入和删除"></a>list插入和删除</h3><img src="/2022/08/08/C/list3.png" class title="list3">

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    list&lt;<span class="type">int</span>&gt;L1;</span><br><span class="line">    L1.<span class="built_in">push_back</span>(<span class="number">100</span>);</span><br><span class="line">    L1.<span class="built_in">push_back</span>(<span class="number">200</span>); <span class="comment">// 尾插</span></span><br><span class="line">    <span class="comment">//头插</span></span><br><span class="line">    L1.<span class="built_in">push_front</span>(<span class="number">300</span>);</span><br><span class="line">    L1.<span class="built_in">push_front</span>(<span class="number">500</span>);  <span class="comment">// 500 300 100 200</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//头删和尾删</span></span><br><span class="line">    L1.<span class="built_in">pop_front</span>(); <span class="comment">// 300 100 200</span></span><br><span class="line">    L1.<span class="built_in">POP_back</span>(); <span class="comment">// 300 100</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//插入</span></span><br><span class="line">    list&lt;<span class="type">int</span>&gt; ::  iterator V = L1.<span class="built_in">begin</span>();</span><br><span class="line">    V++;</span><br><span class="line">    L1.<span class="built_in">insert</span>(V,<span class="number">200</span>); <span class="comment">// 300 200 100</span></span><br><span class="line">    </span><br><span class="line">    L1.<span class="built_in">insert</span>(L1.<span class="built_in">begin</span>(),<span class="number">2</span>,<span class="number">1000</span>); <span class="comment">// 1000 1000 300 200 100</span></span><br><span class="line">    L1.<span class="built_in">insert</span>(L1.<span class="built_in">begin</span>(),L1.<span class="built_in">begin</span>(),L1.<span class="built_in">end</span>()); <span class="comment">// 在头部插入一个L1的开始到结束区间</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//删除</span></span><br><span class="line">    L1.<span class="built_in">erase</span>(L1.<span class="built_in">begin</span>()); <span class="comment">//删除容器第一个元素</span></span><br><span class="line">    L1.<span class="built_in">erase</span>(L1.<span class="built_in">begin</span>(),L1,<span class="built_in">end</span>()) ; <span class="comment">//删除区间所有元素</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//移除所有元素</span></span><br><span class="line">    L1.<span class="built_in">remove</span>(<span class="number">1000</span>); <span class="comment">//移除容器中所有 值为1000 的元素，</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//清除容器</span></span><br><span class="line">    L1.<span class="built_in">clear</span>();</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>remove不需要用到容器，直接指定需要移除的值。</p>
<h3 id="list数据存取"><a href="#list数据存取" class="headerlink" title="list数据存取"></a>list数据存取</h3><p>front( ) ; back( )  ;  <strong>不能用[ ] 和at访问list容器中的元素，原因是list本质是链表，不是用连续线性空间存储数据，list迭代器也不支持随机访问。</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    list&lt;<span class="type">int</span>&gt; L1;</span><br><span class="line">    L1.<span class="built_in">push_back</span>(<span class="number">100</span>);</span><br><span class="line">    L1.<span class="built_in">push_front</span>(<span class="number">200</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//不能用 [] 和 at 访问list容器中的数据，因为list本质上是一个链表，不是采用连续的</span></span><br><span class="line">    <span class="comment">//存储空间来存储数据元素，迭代器不支持随机访问</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//验证迭代器是不是支持随机访问</span></span><br><span class="line">    list&lt;<span class="type">int</span>&gt; :: iterator v = v.<span class="built_in">begin</span>();</span><br><span class="line">    v+=<span class="number">1</span>； <span class="comment">//v = v +1 如果不报错就说明迭代器支持随机访问， 因为 v 可以 等于 v = v +3</span></span><br><span class="line">        <span class="comment">//本质上也是跳着加， 但链表是不能够连续访问的因为每个元素的地址不连续</span></span><br><span class="line">        </span><br><span class="line">     cout &lt;&lt; <span class="string">&quot;list中的第一个数据： &quot;</span> &lt;&lt; L1.<span class="built_in">front</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;list中的最后一个数据： &quot;</span> &lt;&lt; L1.<span class="built_in">back</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="list反转和排序"><a href="#list反转和排序" class="headerlink" title="list反转和排序"></a>list反转和排序</h3><p>功能描述：将容器中的元素反转，以及将容器中的数据进行排序</p>
<p><strong>reverse（）； 反转链表 。  sort（）；链表排序</strong></p>
<p>sort可以作为成员函数来使用，全局函数sort不支持不能随机访问的迭代器进行使用，但是迭代器内部会提供一些相应的功能</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">compare</span><span class="params">(<span class="type">int</span> val1, <span class="type">int</span> val2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> val1 &gt; val2; <span class="comment">// 降序排列</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    list&lt;<span class="type">int</span>&gt; L;</span><br><span class="line">    list&lt;<span class="type">int</span>&gt;L2;</span><br><span class="line">    L.<span class="built_in">reverse</span>(L2); <span class="comment">//将两个链表进行内容进行反转</span></span><br><span class="line">    </span><br><span class="line">    L.<span class="built_in">sort</span>(); <span class="comment">//将链表排序，默认升序</span></span><br><span class="line">    L.<span class="built_in">sort</span>(compare) <span class="comment">//通过一个函数来进行降序排列</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="list排序案例"><a href="#list排序案例" class="headerlink" title="list排序案例"></a>list排序案例</h3><p>对自定义数据类型进行排序，按照年龄进行升序，如果年龄相同按身高进行排序</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">compare</span><span class="params">(Person &amp;p1, Person &amp;p2)</span> <span class="comment">//返回类型是bool类型</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(p1.age ==p2.age )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> p1.height &gt; p2.height ; <span class="comment">//降序排列</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p1.age &lt; p2.age; <span class="comment">//升序排列</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    list&lt;Person&gt; L;</span><br><span class="line">    L.<span class="built_in">push_back</span>(p1);</span><br><span class="line">    L.<span class="built_in">push_back</span>(p2);</span><br><span class="line">    L.<span class="built_in">push_back</span>(p3);</span><br><span class="line">    <span class="keyword">for</span>(list&lt;Person&gt; :: iterator v = L.<span class="built_in">begin</span>(); v != L.<span class="built_in">end</span>(); v++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;姓名： &quot;</span> &lt;&lt; v-&gt;m_Name &lt;&lt; <span class="string">&quot; 年龄：  &quot;</span> &lt;&lt; v-&gt;age &lt;&lt; <span class="string">&quot; 体重： &quot;</span> </span><br><span class="line">            &lt;&lt; v-&gt;weight &lt;&lt; <span class="string">&quot; &quot;</span> ;</span><br><span class="line">           </span><br><span class="line">    &#125;</span><br><span class="line">    cout  &lt;&lt; <span class="string">&quot;-------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;排序后： &quot;</span> &lt;&lt; endl;</span><br><span class="line">    L.<span class="built_in">sort</span>(compare); <span class="comment">//对于自定义数据类型，需要指定排序属性</span></span><br><span class="line">    <span class="keyword">for</span>(list&lt;Person&gt; :: iterator v = L.<span class="built_in">begin</span>(); v != L.<span class="built_in">end</span>(); v++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;姓名： &quot;</span> &lt;&lt; v-&gt;m_Name &lt;&lt; <span class="string">&quot; 年龄：  &quot;</span> &lt;&lt; v-&gt;age &lt;&lt; <span class="string">&quot; 体重： &quot;</span> </span><br><span class="line">            &lt;&lt; v-&gt;weight &lt;&lt; <span class="string">&quot; &quot;</span> ;</span><br><span class="line">           </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>对于自定义数据类型，需要指定排序类型；高级排序只是在排序规则上再进行一次逻辑规则指定</strong></p>
<h2 id="set-x2F-multiset容器"><a href="#set-x2F-multiset容器" class="headerlink" title="set&#x2F;multiset容器"></a>set&#x2F;multiset容器</h2><p>所有元素都会在插入时自动被排序</p>
<p><strong>本质：set&#x2F;multiset属于关联式容器，底层结构是用二叉树实现</strong></p>
<p><strong>set和multiset的区别：</strong></p>
<p>set不允许容器中有重复的元素；multiset允许容器中有重复的元素</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    set&lt;<span class="type">int</span>&gt; s;</span><br><span class="line">    <span class="comment">//set只能用insert进行插入</span></span><br><span class="line">    set.<span class="built_in">insert</span>(<span class="number">10</span>);</span><br><span class="line">    set.<span class="built_in">insert</span>(<span class="number">5</span>);</span><br><span class="line">    set.<span class="built_in">insert</span>(<span class="number">12</span>);</span><br><span class="line">    <span class="comment">//set自动进行排序，在插入时会自动排序</span></span><br><span class="line">    <span class="comment">//set不允许有重复的元素， 会报错</span></span><br><span class="line">    </span><br><span class="line">    <span class="function">set&lt;<span class="type">int</span>&gt; <span class="title">s2</span><span class="params">(s)</span></span>;<span class="comment">//拷贝构造</span></span><br><span class="line">    </span><br><span class="line">    set&lt;<span class="type">int</span>&gt; s3;</span><br><span class="line">    s3 = s2; <span class="comment">//赋值</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>总结：set容器插入数据用 insert,插入数据会自动排序</strong></p>
<h3 id="set大小和交换"><a href="#set大小和交换" class="headerlink" title="set大小和交换"></a>set大小和交换</h3><p><strong>size( ) ;</strong> 返回容器中元素数目       <strong>empy( )</strong> ；判断容器中元素的数目     <strong>swap(st)</strong>; 交换两个集合容器</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    set &lt;<span class="type">int</span> &gt;s;</span><br><span class="line">    s.<span class="built_in">insert</span>(<span class="number">20</span>);</span><br><span class="line">    s.<span class="built_in">insert</span>(<span class="number">10</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(s.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;s为空&quot;</span> &lt;&lt; endl;    </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;s不为空&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;s的大小为： &quot;</span> &lt;&lt; s.<span class="built_in">size</span>(); &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//swap容器互换</span></span><br><span class="line">    set&lt;<span class="type">int</span>&gt;s1;</span><br><span class="line">    s1.<span class="built_in">insert</span>(<span class="number">2</span>);</span><br><span class="line">    s1.<span class="built_in">insert</span>(<span class="number">30</span>);</span><br><span class="line">    s1.<span class="built_in">swap</span>(s2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="set插入和删除"><a href="#set插入和删除" class="headerlink" title="set插入和删除"></a>set插入和删除</h3><img src="/2022/08/08/C/set.png" class title="set">

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    set&lt;<span class="type">int</span>&gt; s ;</span><br><span class="line">    s.<span class="built_in">insert</span>(<span class="number">20</span>);</span><br><span class="line">    s.<span class="built_in">insert</span>(<span class="number">10</span>);</span><br><span class="line">    s.<span class="built_in">insert</span>(<span class="number">30</span>);</span><br><span class="line">    </span><br><span class="line">    s.<span class="built_in">erase</span>(s.<span class="built_in">begin</span>()); <span class="comment">//删除第一个元素</span></span><br><span class="line">    s.<span class="built_in">erase</span>(<span class="number">30</span>); <span class="comment">// 删除指定元素</span></span><br><span class="line">    s.<span class="built_in">erase</span>(s.<span class="built_in">begin</span>(),s.<span class="built_in">end</span>()); <span class="comment">//删除区间</span></span><br><span class="line">    </span><br><span class="line">    s.<span class="built_in">clear</span>(); <span class="comment">//清除容器中的元素</span></span><br><span class="line">    </span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>

<h3 id="set查找和统计"><a href="#set查找和统计" class="headerlink" title="set查找和统计"></a>set查找和统计</h3><p><strong>find( key ) ; 查找key是否存在，若存在，返回该键的元素的迭代器；若不存在，返回set.end( ) ；</strong></p>
<p><strong>count（key）; 统计key的个数</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    set&lt;<span class="type">int</span>&gt; s;</span><br><span class="line">    s.<span class="built_in">insert</span>(<span class="number">20</span>);</span><br><span class="line">    s.<span class="built_in">insert</span>(<span class="number">30</span>);</span><br><span class="line">    s.<span class="built_in">insert</span>(<span class="number">10</span>);</span><br><span class="line">    </span><br><span class="line">    set&lt;<span class="type">int</span>&gt; :: iterator pos = s.<span class="built_in">find</span>(<span class="number">30</span>);<span class="comment">// find返回迭代器</span></span><br><span class="line">    <span class="keyword">if</span>(pos != s.<span class="built_in">end</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;找到元素，该元素为 &quot;</span> &lt;&lt; *pos  &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;不为空&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> num = s.<span class="built_in">count</span>(<span class="number">20</span>); <span class="comment">//统计元素个数存放到num中</span></span><br><span class="line">        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="set和multiset区别"><a href="#set和multiset区别" class="headerlink" title="set和multiset区别"></a><strong>set和multiset区别</strong></h3><img src="/2022/08/08/C/set1.png" class title="set1">

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    set&lt;<span class="type">int</span>&gt; s;</span><br><span class="line">    <span class="comment">//pair第一个结果返回的是迭代器，第二个结果是返回bool 判断是否插入成功</span></span><br><span class="line">    pair&lt;set&lt;<span class="type">int</span>&gt; :: iterator, <span class="type">bool</span>&gt; ret = s.<span class="built_in">insert</span>(<span class="number">10</span>); <span class="comment">//创建ret用来接收插入</span></span><br><span class="line">    <span class="keyword">if</span>(ret.second)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//第二个数是 bool类型 为真说明插入成功</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;插入成功&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;插入失败&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    multiset&lt;<span class="type">int</span>&gt; ms; </span><br><span class="line">    ms.<span class="built_in">insert</span>(<span class="number">10</span>);</span><br><span class="line">    ms.<span class="built_in">insert</span>(<span class="number">10</span>); <span class="comment">//ms可以插入重复的数据</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="pair对组创建"><a href="#pair对组创建" class="headerlink" title="pair对组创建"></a>pair对组创建</h3><p>成对出现的数据，利用对组可以返回两个数据</p>
<img src="/2022/08/08/C/pair.png" class title="pair">

<p> <strong>first 访问对组中的第一个数据， second 访问对组中的第二个数据</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">pair&lt;string,<span class="type">int</span>&gt; <span class="title">p</span> <span class="params">(<span class="string">&quot;tom&quot;</span>,<span class="number">20</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;xingm : &quot;</span> &lt;&lt; p.first &lt;&lt; <span class="string">&quot;年龄： &quot;</span> &lt;&lt; p.second &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    pair&lt;string,<span class="type">int</span>&gt; p = <span class="built_in">make_pair</span>(<span class="string">&quot;张三&quot;</span>,<span class="number">22</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="set内置类型指定排序"><a href="#set内置类型指定排序" class="headerlink" title="set内置类型指定排序"></a>set内置类型指定排序</h3><p>set容器默认排序规则从小到大，掌握如何改变排序规则</p>
<p><strong>利用仿函数，可以改变排序规则</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mycompare</span>  <span class="comment">//创建一个仿函数 来指定排序规则</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:  <span class="comment">//bool类型判断真假</span></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span> <span class="params">(<span class="type">int</span> v1,<span class="type">int</span> v2)</span><span class="type">const</span> <span class="comment">// 重载()运算符 ,类型 根据创建的set容器类型设置</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> v1 &gt; v2 ;<span class="comment">//降序排序</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    set&lt;<span class="type">int</span>,Mycompare&gt; s;  <span class="comment">//set容器 类型 为int且用仿函数指定排序序列</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="set自定义类型指定排序规则"><a href="#set自定义类型指定排序规则" class="headerlink" title="set自定义类型指定排序规则"></a>set自定义类型指定排序规则</h3><p><strong>自定义的数据类型都会指定排序规则</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">comparePerson</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">const</span> Person &amp;p1,<span class="type">const</span> Person &amp;p2)</span> <span class="type">const</span> <span class="comment">//自定义类型内外都要加const</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> p1.age &gt;  p2.age ; <span class="comment">//按年龄进行降序</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    set&lt;Person,ComparePerson&gt; s;</span><br><span class="line">    </span><br><span class="line">    s.<span class="built_in">insert</span>(p1);</span><br><span class="line">     s.<span class="built_in">insert</span>(p2);</span><br><span class="line">     s.<span class="built_in">insert</span>(p3);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>总结：对于自定义数据类型，set必须指定排序规则才可以插入数据</strong></p>
<h2 id="map-x2F-multimap容器"><a href="#map-x2F-multimap容器" class="headerlink" title="map&#x2F;multimap容器"></a>map&#x2F;multimap容器</h2><img src="/2022/08/08/C/map.png" class title="map">

<p><strong>map构造和赋值</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    map&lt;<span class="type">int</span>,<span class="type">int</span>&gt;m;  <span class="comment">//创建一个map对象</span></span><br><span class="line">    map.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>,<span class="type">int</span>&gt;(<span class="number">1</span>,<span class="number">20</span>)); <span class="comment">//map中的元素都是pair 对组</span></span><br><span class="line">    map.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>,<span class="type">int</span>&gt;(<span class="number">3</span>,<span class="number">22</span>));</span><br><span class="line">    map.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>,<span class="type">int</span>&gt;(<span class="number">2</span>,<span class="number">32</span>)); <span class="comment">//map中的元素会根据元素的键值自动排序</span></span><br><span class="line">    <span class="comment">//pair中第一个数是键值， 第二个数是实值</span></span><br><span class="line">    </span><br><span class="line">    map&lt;<span class="type">int</span>,<span class="type">int</span>&gt; m1;</span><br><span class="line">    m1 = m; <span class="comment">//赋值构造</span></span><br><span class="line">    </span><br><span class="line">    <span class="function">map&lt;<span class="type">int</span>,<span class="type">int</span>&gt; <span class="title">m2</span><span class="params">(m1)</span></span>; <span class="comment">//拷贝构造</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>map容器中所有的元素都是成对出现，插入数据时候要使用对组</strong></p>
<h3 id="map的大小和交换"><a href="#map的大小和交换" class="headerlink" title="map的大小和交换"></a>map的大小和交换</h3><p>size（）；返回容器中的元素数目    empty（）；判断容器是否为空   swap（st）；交换两个集合容器</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    map&lt;<span class="type">int</span>,<span class="type">int</span>&gt; m;</span><br><span class="line">    m.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>,<span class="type">int</span>&gt; (<span class="number">1</span>,<span class="number">20</span>));</span><br><span class="line">    m.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>,<span class="type">int</span>&gt;(<span class="number">3</span>,<span class="number">22</span>));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(m.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;m为空&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;m不为空，m的大小为： &quot;</span> &lt;&lt; m.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    map&lt;<span class="type">int</span>,<span class="type">int</span>&gt;m1;</span><br><span class="line">    m1.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>, <span class="type">int</span>&gt; (<span class="number">30</span>,<span class="number">2</span>));</span><br><span class="line">    m.<span class="built_in">swap</span>(m1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="map容器的插入和删除"><a href="#map容器的插入和删除" class="headerlink" title="map容器的插入和删除"></a>map容器的插入和删除</h3><img src="/2022/08/08/C/map1.png" class title="map1">

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    map&lt;<span class="type">int</span>,<span class="type">int</span>&gt; m;</span><br><span class="line">    <span class="comment">//第一种插入</span></span><br><span class="line">    m.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>,<span class="type">int</span>&gt; (<span class="number">1</span>,<span class="number">4</span>));</span><br><span class="line">    <span class="comment">//第二种插入</span></span><br><span class="line">    m.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(<span class="number">3</span>,<span class="number">33</span>));</span><br><span class="line">    <span class="comment">//第三种插入</span></span><br><span class="line">    m.<span class="built_in">insert</span>(map&lt;<span class="type">int</span>,<span class="type">int</span>&gt; :: <span class="built_in">value_type</span>(<span class="number">2</span>,<span class="number">66</span>)); <span class="comment">//map作用域下 value赋值</span></span><br><span class="line">    <span class="comment">//第四种： [ ] </span></span><br><span class="line">    m[<span class="number">4</span>] = <span class="number">40</span>; <span class="comment">//不建议使用 ，因为当没有这个数时 用 [] 输出会自动创建一个 键值为4，value为0</span></span><br><span class="line">    <span class="comment">//的对组出来，然后插入到map容器中</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//删除</span></span><br><span class="line">    m.<span class="built_in">erase</span>(m.<span class="built_in">begin</span>()); <span class="comment">//删除第一个数据</span></span><br><span class="line">    </span><br><span class="line">    m.<span class="built_in">erase</span>(<span class="number">3</span>); <span class="comment">// 删除键值为3的数据</span></span><br><span class="line">    </span><br><span class="line">    m.<span class="built_in">erase</span>(m.<span class="built_in">begin</span>(),m.<span class="built_in">end</span>()); <span class="comment">//删除区间的值</span></span><br><span class="line">    </span><br><span class="line">    m.<span class="built_in">clear</span>(); <span class="comment">//清空容器</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="map查找和统计"><a href="#map查找和统计" class="headerlink" title="map查找和统计"></a>map查找和统计</h3><p><strong>find（key）；</strong> 查找key是否存在，若存在，<strong>返回该值的元素迭代器</strong>，若不存在，返回set.end( );</p>
<p><strong>count（key）；</strong> 统计key的个数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    map&lt;<span class="type">int</span>,<span class="type">int</span>&gt; m;</span><br><span class="line">    m.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>,<span class="type">int</span>&gt; (<span class="number">1</span>,<span class="number">11</span>));</span><br><span class="line">    m.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>,<span class="type">int</span>&gt; (<span class="number">3.33</span>));</span><br><span class="line">    m.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>,<span class="type">int</span>&gt; (<span class="number">2</span>,<span class="number">22</span>));</span><br><span class="line">    </span><br><span class="line">    map&lt;<span class="type">int</span>,<span class="type">int</span>&gt; :: iterator pos = m.<span class="built_in">find</span>(<span class="number">3</span>); <span class="comment">//查找键值为3的元素 返回一个迭代器</span></span><br><span class="line">    <span class="keyword">if</span>(pos!= m.<span class="built_in">end</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;查找成功 该元素值为： &quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; pos-&gt;first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; pos-&gt;second &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;查找失败&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> num = m.<span class="built_in">count</span>(<span class="number">3</span>); <span class="comment">//统计键值为3的数 ，对于map容器不允许插入重复的键值，</span></span><br><span class="line">    <span class="comment">//所以map的count返回值要么是0 要么是1. 而 multimap可以插入重复键值</span></span><br><span class="line">    cout &lt;&lt; num &lt;&lt; endl;</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="map排序"><a href="#map排序" class="headerlink" title="map排序"></a>map排序</h3><p>利用仿函数改变排序规则</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mtcompare</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">   <span class="function"><span class="type">bool</span> <span class="title">operator</span> <span class="params">()</span><span class="params">(<span class="type">int</span> v1,<span class="type">int</span> v2)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> v1 &gt; v2; <span class="comment">//降序排列</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    map&lt;<span class="type">int</span>,<span class="type">int</span>, Mtcompare&gt; m;</span><br><span class="line">    m.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(<span class="number">1</span>,<span class="number">3</span>));</span><br><span class="line">    m.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(<span class="number">3</span>,<span class="number">5</span>));</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> <strong>对于自定义数据类型，map必须要指定排序规则，同set容器</strong></p>
<h2 id="函数对象"><a href="#函数对象" class="headerlink" title="函数对象"></a>函数对象</h2><p>概念：重载函数调用操作符的类，其对象常称为<strong>函数对象</strong>；函数对象使用重载的（）时，行为类似函数调用，也叫<strong>仿函数</strong> </p>
<p><strong>本质：函数对象（仿函数）是一个类，不是一个函数</strong></p>
<p><strong>函数对象的特点：</strong></p>
<p>1、函数对象在使用时，可以像普通函数那样调用，可以有参数，可以有返回值</p>
<p>2、函数对象超出普通函数的概念，函数对象可以有自己的状态</p>
<p>3、函数对象可以作为参数传递</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myadd</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">myadd</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;count  = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> v1, <span class="type">int</span> v2)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;count ++;</span><br><span class="line">        <span class="keyword">return</span> v1 + v2; <span class="comment">//定义了一个仿函数（本质上是一个类）</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> count ;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myprintf</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">operator</span> <span class="params">()</span><span class="params">(string test)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; test &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    myadd ma; <span class="comment">//创建了一个函数对象ma</span></span><br><span class="line">    <span class="built_in">ma</span>(<span class="number">10</span>,<span class="number">10</span>)；<span class="comment">// 函数对象可以像普通函数那样调用，可以有参数有返回值</span></span><br><span class="line">        </span><br><span class="line">    cout &lt;&lt; ma.count&lt;&lt; endl ; <span class="comment">// 函数对象不同于普通函数 可以有自己的状态</span></span><br><span class="line">    myprintf a;</span><br><span class="line">    <span class="built_in">printf</span>(a,<span class="string">&quot;hello c++&quot;</span>);  <span class="comment">// 函数对象可以作为参数传递</span></span><br><span class="line">   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>仿函数写法非常灵活，可以作为参数进行传递</strong></p>
<h2 id="谓词"><a href="#谓词" class="headerlink" title="谓词"></a>谓词</h2><p><strong>概念：返回bool类型的仿函数称为谓词</strong></p>
<p>如果operator（）接收一个参数，那么叫做一元谓词；如果接收两个参数，那么叫二元谓词。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myhanshu</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span>  <span class="comment">//仿函数的返回类型为bool称为谓词，一个参数一元谓词</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> val &gt; <span class="number">5</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        v.<span class="built_in">push_back</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//查找容器 中大于5的数， 利用find_if算法： 迭代器1，迭代器2， 函数对象</span></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; :: iterator it = <span class="built_in">find_if</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),<span class="built_in">myhanshu</span>()); <span class="comment">//mahanshu（）是一个匿名对象</span></span><br><span class="line">    <span class="comment">//用迭代器接收find_if的结果：返回一个迭代器</span></span><br><span class="line">    <span class="keyword">if</span>(it != v.<span class="built_in">end</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout  &lt;&lt; <span class="string">&quot;找到了：&quot;</span> &lt;&lt; *it &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">         cout &lt;&lt; <span class="string">&quot;未找到&quot;</span>  &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>二元谓词：</strong> operator（）接收两个参数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">weici</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span> <span class="params">()</span><span class="params">(<span class="type">int</span> val,<span class="type">int</span> val2)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> val &gt; val2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="内建函数对象"><a href="#内建函数对象" class="headerlink" title="内建函数对象"></a>内建函数对象</h2><img src="/2022/08/08/C/hanshuduixiang.png" class title="hanshuduixiang">

<p><strong>使用内建函数对象需要包含头文件： functional</strong></p>
<h3 id="算术仿函数"><a href="#算术仿函数" class="headerlink" title="算术仿函数"></a>算术仿函数</h3><img src="/2022/08/08/C/hanshuduixiang1.png" class title="hanshuduixiang1">

<p><strong>negate 一元仿函数 – 取反</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    negate&lt;<span class="type">int</span>&gt; n ; <span class="comment">// STL提供的内建函数对象 取反仿函数</span></span><br><span class="line">    cout &lt;&lt; <span class="built_in">n</span>(<span class="number">10</span>) &lt;&lt; endl; <span class="comment">// 输出结果是 -10 取反</span></span><br><span class="line">    </span><br><span class="line">    plus&lt;<span class="type">int</span>&gt; p;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">p</span>(<span class="number">10</span>,<span class="number">20</span>) &lt;&lt; endl; <span class="comment">//输出30 plus 加法仿函数</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="关系仿函数"><a href="#关系仿函数" class="headerlink" title="关系仿函数"></a>关系仿函数</h3><img src="/2022/08/08/C/hanshuduixiang2.png" class title="hanshuduixiang2">

<p><strong>常用： greater 大于</strong> （指定排序规则）</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">23</span>);</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">43</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">sort</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>()); <span class="comment">// 默认升序</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">sort</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),<span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;()); <span class="comment">// greater大于仿函数 进行降序排序列</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="逻辑仿函数"><a href="#逻辑仿函数" class="headerlink" title="逻辑仿函数"></a>逻辑仿函数</h3><img src="/2022/08/08/C/hanshuduixiang3.png" class title="hanshuduixiang3">

<p>实际开发中用的比较少</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">bool</span>&gt;v;</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="literal">true</span>);</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="literal">false</span>);</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="literal">true</span>);</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="literal">true</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(vector&lt;<span class="type">int</span>&gt; :: iterator v1 = v.<span class="built_in">begin</span>(); v1 != v.<span class="built_in">end</span>(); v1++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; *v1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//利用逻辑非仿函数 进行取反操作</span></span><br><span class="line">    <span class="comment">//transform（迭代器区间，容器开头，logical_not&lt;bool&gt;()）</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v2</span><span class="params">(v)</span></span>;</span><br><span class="line">    v2.<span class="built_in">resize</span>(v.<span class="built_in">size</span>()); <span class="comment">//开辟空间 否则无法进行转移</span></span><br><span class="line">    <span class="built_in">transform</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),v2.<span class="built_in">begin</span>(),<span class="built_in">logical_not</span>&lt;<span class="type">bool</span>&gt;());</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="常用算法"><a href="#常用算法" class="headerlink" title="常用算法"></a>常用算法</h2><img src="/2022/08/08/C/algorithmpng.png" class title="algorithmpng">

<h3 id="常用遍历算法"><a href="#常用遍历算法" class="headerlink" title="常用遍历算法"></a>常用遍历算法</h3><img src="/2022/08/08/C/algorithmpng1.png" class title="algorithmpng1">

<h4 id="for-each"><a href="#for-each" class="headerlink" title="for_each"></a>for_each</h4><img src="/2022/08/08/C/algorithmpng2.png" class title="algorithmpng2">

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printf01</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        v.<span class="built_in">push_back</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//遍历算法</span></span><br><span class="line">    for_each(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),printf01); <span class="comment">// 普通函数指定排序 需要加上函数名</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//仿函数遍历：加上仿函数对象</span></span><br><span class="line">    for_each(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),<span class="built_in">printf02</span>());<span class="comment">// 这里的printf02（） 是一个匿名对象</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>总结：for_each在实际开发中最常用，需要熟练掌握</strong></p>
<h4 id="transform"><a href="#transform" class="headerlink" title="transform"></a>transform</h4><img src="/2022/08/08/C/algorithmpng3.png" class title="algorithmpng3">

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">printf</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> val;</span><br><span class="line">  &#125;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt; <span class="number">10</span> ; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        v,<span class="built_in">push_back</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;v1;</span><br><span class="line">    v1.<span class="built_in">resize</span>(v.<span class="built_in">size</span>()); <span class="comment">// 必须给目标容器v1开辟空间，无空间无法搬运</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">transform</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),v1.<span class="built_in">begin</span>(),<span class="built_in">printf</span>());<span class="comment">//第四个为仿函数对象</span></span><br><span class="line">    <span class="comment">//用仿函数来指定规则</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="常用查找算法"><a href="#常用查找算法" class="headerlink" title="常用查找算法"></a>常用查找算法</h3><img src="/2022/08/08/C/find1.png" class title="find1">

<h4 id="find"><a href="#find" class="headerlink" title="find"></a>find</h4><p><strong>查找指定元素，找到返回指定元素的迭代器，找不到返回结束迭代器end( )</strong></p>
<p><strong>语法: find (iterator begin() , iterator end() ,value);</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    v.<span class="built_in">push_back</span>(i);</span><br><span class="line">&#125;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; :: iterator it = <span class="built_in">find</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),<span class="number">5</span>); <span class="comment">//查找成功返回迭代器，失败返回</span></span><br><span class="line"><span class="comment">//end迭代器</span></span><br><span class="line"><span class="keyword">if</span>(it == v.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;未找到！&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;zhaodaole&quot;</span> &lt;&lt; *it &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Person</span>(string n , <span class="type">int</span> a)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;m_Name = n;</span><br><span class="line">        <span class="keyword">this</span>-&gt;m_Age  =a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>== (<span class="type">const</span> Person &amp;p)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;m_Name == m_Name &amp;&amp; <span class="keyword">this</span>-&gt;m_Age == p.m_Age )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    string m_Name;</span><br><span class="line">    <span class="type">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">&quot;zhangsan&quot;</span>,<span class="number">20</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">&quot;wuwu&quot;</span>,<span class="number">29</span>)</span></span>;</span><br><span class="line">vector&lt;Person&gt; p;</span><br><span class="line">p.<span class="built_in">push_back</span>(p1);</span><br><span class="line">p.<span class="built_in">push_back</span>(p2);</span><br><span class="line"></span><br><span class="line">vector&lt;Person&gt;:: iterator it = <span class="built_in">find</span>(p.<span class="built_in">begin</span>(),p.<span class="built_in">end</span>(),p2); </span><br><span class="line"><span class="comment">//查找自定义数据类型， 需要重载== 号， 让底层find知道怎么对比自定义数据类型</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>总结：find查找自定义数据类型，需要重载operator &#x3D;&#x3D; 号， 让底层find知道如何进行对比</strong></p>
<h4 id="find-if"><a href="#find-if" class="headerlink" title="find_if"></a>find_if</h4><p>按条件查找元素; 和find一样查找成功返回该元素的迭代器，失败返回end（）迭代器</p>
<p><strong>语法:find_if( iterator begin（），iterator end（），_Pred);</strong> </p>
<p>_Pred 函数或谓词 （返回bool类型的仿函数）</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PP</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">const</span> Person &amp;p)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> p.age &gt; <span class="number">30</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">vector&lt;Person&gt; v;</span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">&quot;zhangsan&quot;</span>,<span class="number">20</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">&quot;lisi&quot;</span>,<span class="number">30</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">&quot;wangwu&quot;</span><span class="number">35</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">v.<span class="built_in">push_back</span>(p1);</span><br><span class="line">v.<span class="built_in">push_back</span>(p2);</span><br><span class="line">v.<span class="built_in">push_back</span>(p3);</span><br><span class="line"></span><br><span class="line">vector&lt;Person&gt; :: iterator it = <span class="built_in">find_if</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),<span class="built_in">Person</span>()); <span class="comment">//创一个仿函数</span></span><br><span class="line"><span class="keyword">if</span>(it == v.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;chazhaoshibai&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;查找成功，姓名为： &quot;</span>&lt;&lt;it-&gt;m_Name &lt;&lt; <span class="string">&quot;nianlingwei : &quot;</span> &lt;&lt; it-&gt;m_Age &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>总结： find_if 查找要用仿函数或谓词指定查找条件</strong></p>
<h4 id="adjacent-find"><a href="#adjacent-find" class="headerlink" title="adjacent_find"></a>adjacent_find</h4><p>查找相邻重复元素；<strong>返回相邻元素的第一个位置的迭代器</strong>,<strong>未找到返回end( ) 迭代器</strong></p>
<p><strong>函数原型：</strong> <strong>adjacent_find(iterator begin（），iterator end（）)；</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">0</span>);</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; :: iterator it = <span class="built_in">adjacent_find</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>());</span><br><span class="line"><span class="keyword">if</span>(it == v.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;weichazhaohcengg&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;查找成功&quot;</span> &lt;&lt; *it &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>面试题中如果出现查找相邻重复元素，用STL中的adjacent_find（）算法</p>
<h4 id="binary-search"><a href="#binary-search" class="headerlink" title="binary_search"></a>binary_search</h4><p>二分查找（折半查找）； 查找指定元素是否存在</p>
<p><strong>函数原型：bool binary_search(iterator begin(), iterator end( ), value)</strong></p>
<p><strong>注意：在无序序列中不可用</strong>	</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i =<span class="number">0</span> i &lt; <span class="number">10</span>; i ++)</span><br><span class="line">&#123;</span><br><span class="line">    v.<span class="built_in">push_back</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//查找的容器必须是有序序列</span></span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> ret = <span class="built_in">binary_search</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(), <span class="number">9</span>);</span><br><span class="line"><span class="keyword">if</span>(ret)</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;查找成功&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;chazhaoshibai&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>总结：二分查找效率很高，值得注意的是查找的容器中元素必须是有序序列</strong></p>
<h4 id="count"><a href="#count" class="headerlink" title="count"></a>count</h4><p>统计元素个数 ；<strong>count(interator begin( ),iterator end( ),value);</strong> </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> num = <span class="built_in">count</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),<span class="number">1</span>); <span class="comment">// 计数1的元素</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;1的个数： &quot;</span> &lt;&lt; num &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">//自定义数据类型</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Person</span>(string n ,<span class="type">int</span> a)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;m_Name = n;</span><br><span class="line">        <span class="keyword">this</span>-&gt;m_Age = a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//重载==号</span></span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span> == (<span class="type">const</span> Person &amp;p) <span class="comment">//必须加const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;m_Age == p.m_Age)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    string m_Name;</span><br><span class="line">    <span class="type">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> num = <span class="built_in">count</span>(p.<span class="built_in">begin</span>(),p.<span class="built_in">end</span>(),p3); <span class="comment">//统计与p3年龄相同的人的个数</span></span><br><span class="line"><span class="comment">//必须重载==号，底层才知道如何比较自定义数据类型</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>总结：统计自定义数据类型时，需要配合重载 operator &#x3D;&#x3D;</strong> </p>
<h4 id="count-if"><a href="#count-if" class="headerlink" title="count_if"></a>count_if</h4><p>按条件统计元素个数; <strong>count_if（iterator begin（），iterator end（），_Pred）;</strong></p>
<p>-Pred谓词</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="comment">//内置数据类型</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">v,<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">compare</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> val &gt; <span class="number">20</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> num = <span class="built_in">count_if</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),<span class="built_in">compare</span>()); </span><br><span class="line"></span><br><span class="line"><span class="comment">//自定义数据类型</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Person</span> (string name, <span class="type">int</span> age)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;m_Nmae = name;</span><br><span class="line">        <span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    string m_Name;</span><br><span class="line">    <span class="type">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">mycompare</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">const</span> Person &amp;p)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> p.m_Age &gt; <span class="number">20</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">&quot;zhangsan&quot;</span>,<span class="number">22</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">&quot;wuwu&quot;</span>,<span class="number">29</span>)</span></span>;</span><br><span class="line"><span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">&quot;liuliu&quot;</span>,<span class="number">18</span>)</span></span>;</span><br><span class="line">vector&lt;Person&gt; p;</span><br><span class="line">p.<span class="built_in">push_back</span>(p1);</span><br><span class="line">p.<span class="built_in">push_back</span>(p2);</span><br><span class="line">p.<span class="built_in">push_back</span>(p3);</span><br><span class="line"><span class="type">int</span> num = <span class="built_in">count_if</span>(p.<span class="built_in">begin</span>(),p.<span class="built_in">end</span>(),<span class="built_in">mycompare</span>()); <span class="comment">//利用谓词 函数对象来指定条件</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="常用排序算法"><a href="#常用排序算法" class="headerlink" title="常用排序算法"></a>常用排序算法</h3><img src="/2022/08/08/C/sort.png" class title="sort">

<h4 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h4><p>对容器内元素进行排序； <strong>函数原型：sort(iterator begin( ), iterator end( ), _Pred)</strong></p>
<p><strong>利用仿函数改变排序规则，默认排序为升序</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">myprintf</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; val &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">20</span>)；</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">22</span>);</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">23</span>);</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">11</span>);</span><br><span class="line"><span class="built_in">sort</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>()); <span class="comment">//默认排序规则为升序排列</span></span><br><span class="line">for_each(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),myprintt);</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"><span class="comment">//利用仿函数改变排序规则</span></span><br><span class="line"><span class="built_in">sort</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),<span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;());</span><br><span class="line">for_each(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),myprintf);</span><br><span class="line">cout &lt;&lt; endl; </span><br></pre></td></tr></table></figure>

<h4 id="random-shuffle"><a href="#random-shuffle" class="headerlink" title="random_shuffle"></a>random_shuffle</h4><p>又名称: 洗牌算法</p>
<p><strong>指定范围内的元素随机调整次序.</strong> <strong>函数原型：random_shuffle( iterator begin( ), iterator end( ))</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">myprintf</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">srand</span>((<span class="type">unsigned</span> <span class="type">int</span>)<span class="built_in">time</span>(<span class="literal">NULL</span>));  <span class="comment">//添加随机数种子,使打乱顺序更真实</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    v.<span class="built_in">push_back</span>(i);</span><br><span class="line">&#125;</span><br><span class="line">for_each(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),myprintf);</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">//打乱顺序</span></span><br><span class="line"><span class="built_in">random_shuffle</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>());</span><br><span class="line">for_each(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),myprintf);</span><br><span class="line">cout &lt;&lt; endl;</span><br></pre></td></tr></table></figure>

<p><strong>总结：random_shuffle洗牌算法比较实用，使用时记得加随机数种子</strong></p>
<h4 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h4><p>两个容器元素合并，并存储到另一容器中</p>
<p><strong>函数原型：merge(iterator begin1(), iterator end1(), iterator begin2(), iterator end2( ), iterator dest);</strong></p>
<p><strong>注意：两个容器必须是有序的</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myprintf</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">operator</span> <span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v2;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">10</span> ; i++)</span><br><span class="line">&#123;</span><br><span class="line">    v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">    v2.<span class="built_in">push_back</span>(i+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v3; <span class="comment">// 需要给目标容器开辟空间，不然无法合并到目标容器中</span></span><br><span class="line"><span class="built_in">merge</span>(v1.<span class="built_in">begin</span>(),v1.<span class="built_in">end</span>(),v2.<span class="built_in">begin</span>(),v2.<span class="built_in">end</span>(),v3.<span class="built_in">begin</span>());</span><br><span class="line">for_each(v3.<span class="built_in">begin</span>(),v3.<span class="built_in">end</span>(),<span class="built_in">myprintf</span>());</span><br><span class="line">cout &lt;&lt; endl; </span><br></pre></td></tr></table></figure>

<p><strong>总结：merge合并的两个容器必须是有序序列，目标容器需要要有空间，没有则开辟</strong></p>
<h4 id="reverse"><a href="#reverse" class="headerlink" title="reverse"></a>reverse</h4><p>将容器内元素进行反转 ; <strong>函数原型：reverse(iterator begin( ), iterator end ( ));</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">myprintf</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">33</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//反转</span></span><br><span class="line"><span class="built_in">reverse</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>()); </span><br><span class="line">for_each(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),myprintf);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>总结：面试题可能涉及到</p>
<h3 id="常用拷贝和替换算法"><a href="#常用拷贝和替换算法" class="headerlink" title="常用拷贝和替换算法"></a>常用拷贝和替换算法</h3><img src="/2022/08/08/C/copy-replace.png" class title="copy-replace">

<h4 id="copy"><a href="#copy" class="headerlink" title="copy"></a>copy</h4><p>容器内指定范围的元素拷贝到另一容器中</p>
<p><strong>函数原型：copy（iterator begin(),iterator end( )，iterator dese）</strong> 找到返回指定位置迭代器，找不到返回结束迭代器位置</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;v1;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;v2;</span><br><span class="line">    v2.<span class="built_in">resize</span>(v1.<span class="built_in">size</span>());</span><br><span class="line">    <span class="built_in">copy</span>(v1.<span class="built_in">begn</span>(),v1.<span class="built_in">end</span>(),v2.<span class="built_in">begin</span>()); <span class="comment">// 将v1容器拷贝到v2中</span></span><br><span class="line">    for_each(v2.<span class="built_in">begin</span>(),v2.<span class="built_in">end</span>().myprintf);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>利用copy算法在拷贝时，<strong>目标容器记得提前开辟空间</strong></p>
<h4 id="replace"><a href="#replace" class="headerlink" title="replace"></a>replace</h4><p>将容器内指定范围的旧元素修改为新元素</p>
<p><strong>函数原型：replace(iterator begin(), replace end() ,oldvalue, newvalue);</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">20</span>)；</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">    <span class="built_in">replace</span> (v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>()<span class="number">.20</span>,<span class="number">2000</span>);<span class="comment">//将容器内所有20的元素替换为2000</span></span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>replace 会替换区间内满足条件的元素</strong></p>
<h4 id="replace-if"><a href="#replace-if" class="headerlink" title="replace_if"></a>replace_if</h4><p>将区间内满足条件的元素，替换成指定元素</p>
<p><strong>函数原型:replace_if (iterator begin(), iterator end(), _Pred, newvalue);</strong> Pred谓词</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">greater10</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span> <span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> val &gt; <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">replace_if</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),<span class="built_in">greater10</span>(),<span class="number">1000</span>);<span class="comment">//将大于10 的元素替换成1000</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>replace_if按条件查找，可以利用仿函数灵活筛选满足的条件</strong></p>
<h4 id="swap"><a href="#swap" class="headerlink" title="swap"></a>swap</h4><p>互换两个容器的元素</p>
<p><strong>函数原型：swap（container c1，container c2）；</strong> </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line">vector v1;</span><br><span class="line">vector v2;</span><br><span class="line"><span class="built_in">swap</span>(v1,v2);</span><br></pre></td></tr></table></figure>

<p><strong>swap交换容器时，注意交换的容器要同种类型</strong></p>
<h3 id="常用算术生成算法"><a href="#常用算术生成算法" class="headerlink" title="常用算术生成算法"></a>常用算术生成算法</h3><p>算术生成算法属于小型算法，<strong>使用时包含头文件#include&lt; numeric&gt;</strong>,</p>
<p><strong>accmulate :计算容器元素积累总和        fill： 像容器中添加元素</strong></p>
<h4 id="accumulate"><a href="#accumulate" class="headerlink" title="accumulate"></a>accumulate</h4><p>计算容器中所有元素之和，包含头文件**#include&lt; numeric&gt;**</p>
<p><strong>语法：accumulate(v.begin(), v.end() , 0); 参数3起始累加值</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector &lt;<span class="type">int</span>&gt; v;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span> ; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        v.<span class="built_in">push_back</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> tal = <span class="built_in">accumulate</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),<span class="number">0</span>); <span class="comment">// 起始累加值为0</span></span><br><span class="line">    <span class="comment">//将v容器中所有元素加起来</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="fill"><a href="#fill" class="headerlink" title="fill"></a>fill</h4><p><strong>向容器中填充指定元素；语法：fill(iterator begin(), iterator end() ,value);</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">    v.<span class="built_in">resize</span>(<span class="number">10</span>);</span><br><span class="line">    <span class="built_in">fill</span>(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),<span class="number">10</span>); <span class="comment">//向容器v中填充指定元素</span></span><br><span class="line">    </span><br><span class="line">    for_each(v.<span class="built_in">begin</span>(),v.<span class="built_in">end</span>(),<span class="built_in">printf</span>()); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>利用fill向容器区间内填充指定元素。</p>
<h3 id="常用的集合算法"><a href="#常用的集合算法" class="headerlink" title="常用的集合算法"></a>常用的集合算法</h3><p><strong>set_intersection : 求两个容器的交集</strong></p>
<p><strong>set_union: 求两个容器的并集</strong></p>
<p><strong>set_difference : 求两个容器的差集</strong></p>
<h4 id="set-intersection"><a href="#set-intersection" class="headerlink" title="set_intersection"></a>set_intersection</h4><p>求两个容器的交集； <strong>两个集合必须是有序序列</strong>， 返回的是最后一个相交的元素的迭代器</p>
<p><strong>语法：set_intersection(iterator begin1(), iterator end1(),interator begin2().interator end2()</strong></p>
<p><strong>iterator dest());</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v2;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i =<span class="number">0</span>; i &lt; <span class="number">10</span>; i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">        v2.<span class="built_in">push_back</span>(i+<span class="number">5</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;target;</span><br><span class="line">    target.<span class="built_in">resize</span>(<span class="built_in">min</span>(v1.<span class="built_in">size</span>(),v2.<span class="built_in">size</span>())); <span class="comment">// 开辟空间，取两个容器中最小值的空间</span></span><br><span class="line">    </span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; :: iterator itEnd = <span class="built_in">set_intersection</span>  (v1.<span class="built_in">begin</span>(),v1.<span class="built_in">end</span>(),</span><br><span class="line">         v2.<span class="built_in">begin</span>(),v2.<span class="built_in">end</span>(),target.<span class="built_in">begin</span>());</span><br><span class="line">    for_each(target.<span class="built_in">begin</span>(),itEnd,myptintf); <span class="comment">// 注意这里是用返回的迭代器作为遍历结束</span></span><br><span class="line">    <span class="comment">//条件</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="/2022/08/08/C/setintersection.png" class title="setintersection">

<h4 id="set-union"><a href="#set-union" class="headerlink" title="set_union"></a>set_union</h4><p>求两个集合的并集；<strong>两个集合必须是有序序列</strong></p>
<p><strong>语法：set_union(iterator begin1(), iterator end1(),iterator begin2(),iterator end2(),iterator dest())</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vetor&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v2;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">10</span>; i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">        v2.<span class="built_in">push_back</span>(i+<span class="number">5</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; vget;</span><br><span class="line">    vget.<span class="built_in">resize</span>(v1.<span class="built_in">size</span>()+v2.<span class="built_in">size</span>());</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; :: iterator id = </span><br><span class="line">    <span class="built_in">set_union</span>(v1.<span class="built_in">begin</span>(),v1.<span class="built_in">end</span>(),v2.<span class="built_in">begin</span>(),v2.<span class="built_in">end</span>(),vget.<span class="built_in">begin</span>());</span><br><span class="line">    for_each(vget.<span class="built_in">begin</span>(),id,myprintf);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="/2022/08/08/C/set_union.png" class title="set_union">

<h4 id="set-difference"><a href="#set-difference" class="headerlink" title="set_difference"></a>set_difference</h4><p>求两个集合的差集，<strong>两个集合必须是有序序列</strong></p>
<p><strong>语法： set_difference (iterator begin1(), iterator end1(), iterator begin2(), iterator end2(), iterator dest)</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v2;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">        v2.<span class="built_in">push_back</span>(i+<span class="number">5</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v3;</span><br><span class="line">    v3.<span class="built_in">resize</span>(<span class="built_in">max</span>(v1.<span class="built_in">size</span>(),v2.<span class="built_in">size</span>()));</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;v1 和 v2的差集&quot;</span> &lt;&lt; endl;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; :: iterator itend = <span class="built_in">set_difference</span>(v1.<span class="built_in">begin</span>(),v1.<span class="built_in">end</span>(),v2.<span class="built_in">begin</span></span><br><span class="line">    (),v2.<span class="built_in">end</span>(). v3.<span class="built_in">begin</span>()); </span><br><span class="line">    for_each(v3.<span class="built_in">begin</span>(),itend,<span class="built_in">myprintf</span>());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="/2022/08/08/C/set_diffenrence.png" class title="set_diffenrence">

    </div>

    
    
    
        <div class="reward-container">
  <div></div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.png" alt="John Chen 微信支付">
        <p>微信支付</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.png" alt="John Chen 支付宝">
        <p>支付宝</p>
      </div>

  </div>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E8%AF%AD%E8%A8%80/" rel="tag"># 语言</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/07/31/hello-%E5%B0%8F%E6%9C%8B%E5%8F%8B%E5%98%89%E5%98%89/" rel="prev" title="Hello 小朋友嘉嘉">
      <i class="fa fa-chevron-left"></i> Hello 小朋友嘉嘉
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/08/08/%E8%8B%B1%E8%AF%AD%E8%AF%8D%E6%B1%87/" rel="next" title="English-word">
      English-word <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#C-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">1.</span> <span class="nav-text">C++基本概念</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E5%8F%8A%E5%B8%B8%E9%87%8F"><span class="nav-number">1.1.</span> <span class="nav-text">变量及常量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%87%E8%AF%86%E7%AC%A6"><span class="nav-number">1.2.</span> <span class="nav-text">标识符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.3.</span> <span class="nav-text">数据类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.4.</span> <span class="nav-text">运算符</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%A8%8B%E5%BA%8F%E6%B5%81%E7%A8%8B%E7%BB%93%E6%9E%84"><span class="nav-number">2.</span> <span class="nav-text">程序流程结构</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%89%E6%8B%A9%E7%BB%93%E6%9E%84"><span class="nav-number">2.1.</span> <span class="nav-text">选择结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">2.2.</span> <span class="nav-text">三目运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84"><span class="nav-number">2.3.</span> <span class="nav-text">循环结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B7%B3%E8%BD%AC%E8%AF%AD%E5%8F%A5"><span class="nav-number">2.4.</span> <span class="nav-text">跳转语句</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E7%BB%84"><span class="nav-number">3.</span> <span class="nav-text">数组</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%87%BD%E6%95%B0"><span class="nav-number">4.</span> <span class="nav-text">函数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%8C%87%E9%92%88"><span class="nav-number">5.</span> <span class="nav-text">指针</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93"><span class="nav-number">6.</span> <span class="nav-text">结构体</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%B0%8F%E9%A1%B9%E7%9B%AE-%E9%80%9A%E8%AE%AF%E5%BD%95%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="nav-number">7.</span> <span class="nav-text">小项目 - 通讯录的实现</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#C-%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B"><span class="nav-number">8.</span> <span class="nav-text">C++核心编程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%EF%BC%9A"><span class="nav-number">8.1.</span> <span class="nav-text">程序的内存模型：</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#new%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">8.1.1.</span> <span class="nav-text">new运算符</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#C-%E4%B8%AD%E7%9A%84%E5%BC%95%E7%94%A8"><span class="nav-number">8.2.</span> <span class="nav-text">C++中的引用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E9%AB%98%E7%BA%A7"><span class="nav-number">8.3.</span> <span class="nav-text">函数高级</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0"><span class="nav-number">8.3.1.</span> <span class="nav-text">函数的默认参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD"><span class="nav-number">8.3.2.</span> <span class="nav-text">函数重载</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1"><span class="nav-number">8.4.</span> <span class="nav-text">类和对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%81%E8%A3%85"><span class="nav-number">8.4.1.</span> <span class="nav-text">封装</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%81%E8%A3%85%E7%9A%84%E6%84%8F%E4%B9%89"><span class="nav-number">8.4.1.1.</span> <span class="nav-text">封装的意义</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B0%81%E8%A3%85%E7%9A%84%E6%84%8F%E4%B9%89%E4%B8%80"><span class="nav-number">8.4.1.1.1.</span> <span class="nav-text">封装的意义一</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B0%81%E8%A3%85%E7%9A%84%E6%84%8F%E4%B9%89%E4%BA%8C"><span class="nav-number">8.4.1.1.2.</span> <span class="nav-text">封装的意义二</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%88%90%E5%91%98%E5%B1%9E%E6%80%A7%E7%A7%81%E6%9C%89%E5%8C%96"><span class="nav-number">8.4.1.2.</span> <span class="nav-text">成员属性私有化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%83%E4%B9%A0%E6%A1%88%E4%BE%8B"><span class="nav-number">8.4.1.3.</span> <span class="nav-text">练习案例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E7%89%B9%E6%80%A7"><span class="nav-number">8.4.2.</span> <span class="nav-text">对象特性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%92%8C%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0"><span class="nav-number">8.4.2.1.</span> <span class="nav-text">构造函数和析构函数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E5%88%86%E7%B1%BB%E4%BB%A5%E5%8F%8A%E8%B0%83%E7%94%A8"><span class="nav-number">8.4.2.1.1.</span> <span class="nav-text">构造函数的分类以及调用</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E8%B0%83%E7%94%A8%E6%97%B6%E6%9C%BA"><span class="nav-number">8.4.2.1.2.</span> <span class="nav-text">拷贝构造函数的调用时机</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E8%A7%84%E5%88%99"><span class="nav-number">8.4.2.1.3.</span> <span class="nav-text">构造函数调用规则</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D%E4%B8%8E%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="nav-number">8.4.2.1.4.</span> <span class="nav-text">深拷贝与浅拷贝</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A8"><span class="nav-number">8.4.2.2.</span> <span class="nav-text">初始化列表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E6%88%90%E5%91%98"><span class="nav-number">8.4.2.3.</span> <span class="nav-text">静态成员</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#C-%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B%E5%92%8Cthis%E6%8C%87%E9%92%88"><span class="nav-number">8.4.2.4.</span> <span class="nav-text">C++对象模型和this指针</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E5%92%8C%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E5%88%86%E5%BC%80%E5%AD%98%E5%82%A8"><span class="nav-number">8.4.2.4.1.</span> <span class="nav-text">成员变量和成员函数分开存储</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#this%E6%8C%87%E9%92%88"><span class="nav-number">8.4.2.4.2.</span> <span class="nav-text">this指针</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%A9%BA%E6%8C%87%E9%92%88%E8%AE%BF%E9%97%AE%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0"><span class="nav-number">8.4.2.4.3.</span> <span class="nav-text">空指针访问成员函数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#const%E4%BF%AE%E9%A5%B0%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0"><span class="nav-number">8.4.2.4.4.</span> <span class="nav-text">const修饰成员函数</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%8B%E5%85%83"><span class="nav-number">8.4.2.5.</span> <span class="nav-text">友元</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#C-%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD"><span class="nav-number">8.4.2.6.</span> <span class="nav-text">C++运算符重载</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%A7%E6%89%BF"><span class="nav-number">8.4.3.</span> <span class="nav-text">继承</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%A7%E6%89%BF%E6%96%B9%E5%BC%8F"><span class="nav-number">8.4.3.1.</span> <span class="nav-text">继承方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%A7%E6%89%BF%E4%B8%AD%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B"><span class="nav-number">8.4.3.2.</span> <span class="nav-text">继承中的对象模型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%8C%E5%90%8D%E6%88%90%E5%91%98%E5%A4%84%E7%90%86"><span class="nav-number">8.4.3.3.</span> <span class="nav-text">同名成员处理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%8C%E5%90%8D%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E5%A4%84%E7%90%86"><span class="nav-number">8.4.3.4.</span> <span class="nav-text">同名静态成员处理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A%E7%BB%A7%E6%89%BF%E8%AF%AD%E6%B3%95"><span class="nav-number">8.4.3.5.</span> <span class="nav-text">多继承语法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E6%80%81"><span class="nav-number">8.4.4.</span> <span class="nav-text">多态</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BA%AF%E8%99%9A%E5%87%BD%E6%95%B0%E5%92%8C%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="nav-number">8.4.4.1.</span> <span class="nav-text">纯虚函数和抽象类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%99%9A%E6%9E%90%E6%9E%84%E5%92%8C%E7%BA%AF%E8%99%9A%E6%9E%90%E6%9E%84"><span class="nav-number">8.4.4.2.</span> <span class="nav-text">虚析构和纯虚析构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A%E6%80%81%E7%BB%83%E4%B9%A0%E6%A1%88%E4%BE%8B"><span class="nav-number">8.4.4.3.</span> <span class="nav-text">多态练习案例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="nav-number">8.4.5.</span> <span class="nav-text">文件操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6"><span class="nav-number">8.4.5.1.</span> <span class="nav-text">文本文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6"><span class="nav-number">8.4.5.2.</span> <span class="nav-text">二进制文件</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%81%8C%E5%B7%A5%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="nav-number">9.</span> <span class="nav-text">职工管理系统</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E7%AE%A1%E7%90%86%E7%B1%BB"><span class="nav-number">9.1.</span> <span class="nav-text">创建管理类</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#C-%E6%8F%90%E9%AB%98"><span class="nav-number">10.</span> <span class="nav-text">C++提高</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E6%9D%BF"><span class="nav-number">10.1.</span> <span class="nav-text">模板</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF"><span class="nav-number">10.1.1.</span> <span class="nav-text">函数模板</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-number">10.1.1.1.</span> <span class="nav-text">函数模板的注意事项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A"><span class="nav-number">10.1.1.2.</span> <span class="nav-text">案例：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%99%AE%E9%80%9A%E5%87%BD%E6%95%B0%E5%92%8C%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF"><span class="nav-number">10.1.1.3.</span> <span class="nav-text">普通函数和函数模板</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%B0%83%E7%94%A8%E8%A7%84%E5%88%99"><span class="nav-number">10.1.1.3.1.</span> <span class="nav-text">调用规则</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A8%A1%E6%9D%BF%E7%9A%84%E5%B1%80%E9%99%90%E6%80%A7"><span class="nav-number">10.1.1.4.</span> <span class="nav-text">模板的局限性</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E6%A8%A1%E6%9D%BF"><span class="nav-number">10.1.2.</span> <span class="nav-text">类模板</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB%E6%A8%A1%E6%9D%BF%E5%92%8C%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">10.1.2.1.</span> <span class="nav-text">类模板和函数模板的区别</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E5%88%9B%E5%BB%BA%E6%97%B6%E6%9C%BA"><span class="nav-number">10.1.2.2.</span> <span class="nav-text">成员函数创建时机</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E5%81%9A%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="nav-number">10.1.2.3.</span> <span class="nav-text">对象做函数参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB%E6%A8%A1%E6%9D%BF%E4%B8%8E%E7%BB%A7%E6%89%BF"><span class="nav-number">10.1.2.4.</span> <span class="nav-text">类模板与继承</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E7%B1%BB%E5%A4%96%E5%AE%9E%E7%8E%B0"><span class="nav-number">10.1.2.5.</span> <span class="nav-text">成员函数类外实现</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E6%96%87%E4%BB%B6%E7%BC%96%E5%86%99"><span class="nav-number">10.1.2.6.</span> <span class="nav-text">分文件编写</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB%E6%A8%A1%E6%9D%BF%E4%B8%8E%E5%8F%8B%E5%85%83"><span class="nav-number">10.1.2.7.</span> <span class="nav-text">类模板与友元</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B"><span class="nav-number">10.1.2.8.</span> <span class="nav-text">案例:</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#STL"><span class="nav-number">11.</span> <span class="nav-text">STL</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9D%E8%AF%86-vector"><span class="nav-number">11.1.</span> <span class="nav-text">初识-vector</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#string%E5%AE%B9%E5%99%A8"><span class="nav-number">11.2.</span> <span class="nav-text">string容器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#string-%E8%B5%8B%E5%80%BC%E6%93%8D%E4%BD%9C"><span class="nav-number">11.2.1.</span> <span class="nav-text">string 赋值操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%8B%BC%E6%8E%A5"><span class="nav-number">11.2.2.</span> <span class="nav-text">字符串的拼接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9F%A5%E6%89%BE%E5%92%8C%E6%9B%BF%E6%8D%A2"><span class="nav-number">11.2.3.</span> <span class="nav-text">字符串查找和替换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%AF%94%E8%BE%83%E5%92%8C%E5%AD%98%E5%8F%96"><span class="nav-number">11.2.4.</span> <span class="nav-text">字符串比较和存取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8F%92%E5%85%A5%E5%92%8C%E5%88%A0%E9%99%A4"><span class="nav-number">11.2.5.</span> <span class="nav-text">字符串插入和删除</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#string%E5%AD%90%E4%B8%B2%E7%9A%84%E8%8E%B7%E5%8F%96"><span class="nav-number">11.2.6.</span> <span class="nav-text">string子串的获取</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vector%E5%AE%B9%E5%99%A8"><span class="nav-number">11.3.</span> <span class="nav-text">vector容器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#vector%E8%B5%8B%E5%80%BC%E6%93%8D%E4%BD%9C"><span class="nav-number">11.3.1.</span> <span class="nav-text">vector赋值操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vector%E5%AE%B9%E5%99%A8-%E5%AE%B9%E9%87%8F%E5%92%8C%E5%A4%A7%E5%B0%8F"><span class="nav-number">11.3.2.</span> <span class="nav-text">vector容器-容量和大小</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Vector%E5%AE%B9%E5%99%A8%E7%9A%84%E6%8F%92%E5%85%A5%E5%92%8C%E5%88%A0%E9%99%A4"><span class="nav-number">11.3.3.</span> <span class="nav-text">Vector容器的插入和删除</span></a></li><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-number">11.3.4.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vector%E6%95%B0%E6%8D%AE%E5%AD%98%E5%8F%96"><span class="nav-number">11.3.5.</span> <span class="nav-text">vector数据存取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vector%E4%BA%92%E6%8D%A2%E5%AE%B9%E5%99%A8"><span class="nav-number">11.3.6.</span> <span class="nav-text">vector互换容器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vector%E9%A2%84%E7%95%99%E7%A9%BA%E9%97%B4"><span class="nav-number">11.3.7.</span> <span class="nav-text">vector预留空间</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#deque%E5%AE%B9%E5%99%A8"><span class="nav-number">11.4.</span> <span class="nav-text">deque容器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#deque%E8%B5%8B%E5%80%BC%E6%93%8D%E4%BD%9C"><span class="nav-number">11.4.1.</span> <span class="nav-text">deque赋值操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#deque%E5%A4%A7%E5%B0%8F%E6%93%8D%E4%BD%9C"><span class="nav-number">11.4.2.</span> <span class="nav-text">deque大小操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#deque%E7%9A%84%E6%8F%92%E5%85%A5%E5%92%8C%E5%88%A0%E9%99%A4"><span class="nav-number">11.4.3.</span> <span class="nav-text">deque的插入和删除</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#deque%E6%95%B0%E6%8D%AE%E5%AD%98%E5%8F%96"><span class="nav-number">11.4.4.</span> <span class="nav-text">deque数据存取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#deque%E6%8E%92%E5%BA%8F%E6%93%8D%E4%BD%9C"><span class="nav-number">11.4.5.</span> <span class="nav-text">deque排序操作</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#STL%E6%A1%88%E4%BE%8B-%E8%AF%84%E5%A7%94%E6%89%93%E5%88%86"><span class="nav-number">11.5.</span> <span class="nav-text">STL案例:评委打分</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#stack%E5%AE%B9%E5%99%A8"><span class="nav-number">11.6.</span> <span class="nav-text">stack容器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#queue%E5%AE%B9%E5%99%A8"><span class="nav-number">11.7.</span> <span class="nav-text">queue容器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#list%E5%AE%B9%E5%99%A8"><span class="nav-number">11.8.</span> <span class="nav-text">list容器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#list%E8%B5%8B%E5%80%BC%E5%92%8C%E4%BA%A4%E6%8D%A2"><span class="nav-number">11.8.1.</span> <span class="nav-text">list赋值和交换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#list%E5%A4%A7%E5%B0%8F%E6%93%8D%E4%BD%9C"><span class="nav-number">11.8.2.</span> <span class="nav-text">list大小操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#list%E6%8F%92%E5%85%A5%E5%92%8C%E5%88%A0%E9%99%A4"><span class="nav-number">11.8.3.</span> <span class="nav-text">list插入和删除</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#list%E6%95%B0%E6%8D%AE%E5%AD%98%E5%8F%96"><span class="nav-number">11.8.4.</span> <span class="nav-text">list数据存取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#list%E5%8F%8D%E8%BD%AC%E5%92%8C%E6%8E%92%E5%BA%8F"><span class="nav-number">11.8.5.</span> <span class="nav-text">list反转和排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#list%E6%8E%92%E5%BA%8F%E6%A1%88%E4%BE%8B"><span class="nav-number">11.8.6.</span> <span class="nav-text">list排序案例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#set-x2F-multiset%E5%AE%B9%E5%99%A8"><span class="nav-number">11.9.</span> <span class="nav-text">set&#x2F;multiset容器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#set%E5%A4%A7%E5%B0%8F%E5%92%8C%E4%BA%A4%E6%8D%A2"><span class="nav-number">11.9.1.</span> <span class="nav-text">set大小和交换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#set%E6%8F%92%E5%85%A5%E5%92%8C%E5%88%A0%E9%99%A4"><span class="nav-number">11.9.2.</span> <span class="nav-text">set插入和删除</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#set%E6%9F%A5%E6%89%BE%E5%92%8C%E7%BB%9F%E8%AE%A1"><span class="nav-number">11.9.3.</span> <span class="nav-text">set查找和统计</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#set%E5%92%8Cmultiset%E5%8C%BA%E5%88%AB"><span class="nav-number">11.9.4.</span> <span class="nav-text">set和multiset区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pair%E5%AF%B9%E7%BB%84%E5%88%9B%E5%BB%BA"><span class="nav-number">11.9.5.</span> <span class="nav-text">pair对组创建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#set%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B%E6%8C%87%E5%AE%9A%E6%8E%92%E5%BA%8F"><span class="nav-number">11.9.6.</span> <span class="nav-text">set内置类型指定排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#set%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B%E6%8C%87%E5%AE%9A%E6%8E%92%E5%BA%8F%E8%A7%84%E5%88%99"><span class="nav-number">11.9.7.</span> <span class="nav-text">set自定义类型指定排序规则</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#map-x2F-multimap%E5%AE%B9%E5%99%A8"><span class="nav-number">11.10.</span> <span class="nav-text">map&#x2F;multimap容器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#map%E7%9A%84%E5%A4%A7%E5%B0%8F%E5%92%8C%E4%BA%A4%E6%8D%A2"><span class="nav-number">11.10.1.</span> <span class="nav-text">map的大小和交换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#map%E5%AE%B9%E5%99%A8%E7%9A%84%E6%8F%92%E5%85%A5%E5%92%8C%E5%88%A0%E9%99%A4"><span class="nav-number">11.10.2.</span> <span class="nav-text">map容器的插入和删除</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#map%E6%9F%A5%E6%89%BE%E5%92%8C%E7%BB%9F%E8%AE%A1"><span class="nav-number">11.10.3.</span> <span class="nav-text">map查找和统计</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#map%E6%8E%92%E5%BA%8F"><span class="nav-number">11.10.4.</span> <span class="nav-text">map排序</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1"><span class="nav-number">11.11.</span> <span class="nav-text">函数对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B0%93%E8%AF%8D"><span class="nav-number">11.12.</span> <span class="nav-text">谓词</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1"><span class="nav-number">11.13.</span> <span class="nav-text">内建函数对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%97%E6%9C%AF%E4%BB%BF%E5%87%BD%E6%95%B0"><span class="nav-number">11.13.1.</span> <span class="nav-text">算术仿函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B3%E7%B3%BB%E4%BB%BF%E5%87%BD%E6%95%B0"><span class="nav-number">11.13.2.</span> <span class="nav-text">关系仿函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E4%BB%BF%E5%87%BD%E6%95%B0"><span class="nav-number">11.13.3.</span> <span class="nav-text">逻辑仿函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%AE%97%E6%B3%95"><span class="nav-number">11.14.</span> <span class="nav-text">常用算法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E9%81%8D%E5%8E%86%E7%AE%97%E6%B3%95"><span class="nav-number">11.14.1.</span> <span class="nav-text">常用遍历算法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#for-each"><span class="nav-number">11.14.1.1.</span> <span class="nav-text">for_each</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#transform"><span class="nav-number">11.14.1.2.</span> <span class="nav-text">transform</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%9F%A5%E6%89%BE%E7%AE%97%E6%B3%95"><span class="nav-number">11.14.2.</span> <span class="nav-text">常用查找算法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#find"><span class="nav-number">11.14.2.1.</span> <span class="nav-text">find</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#find-if"><span class="nav-number">11.14.2.2.</span> <span class="nav-text">find_if</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#adjacent-find"><span class="nav-number">11.14.2.3.</span> <span class="nav-text">adjacent_find</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#binary-search"><span class="nav-number">11.14.2.4.</span> <span class="nav-text">binary_search</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#count"><span class="nav-number">11.14.2.5.</span> <span class="nav-text">count</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#count-if"><span class="nav-number">11.14.2.6.</span> <span class="nav-text">count_if</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95"><span class="nav-number">11.14.3.</span> <span class="nav-text">常用排序算法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#sort"><span class="nav-number">11.14.3.1.</span> <span class="nav-text">sort</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#random-shuffle"><span class="nav-number">11.14.3.2.</span> <span class="nav-text">random_shuffle</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#merge"><span class="nav-number">11.14.3.3.</span> <span class="nav-text">merge</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#reverse"><span class="nav-number">11.14.3.4.</span> <span class="nav-text">reverse</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%9B%BF%E6%8D%A2%E7%AE%97%E6%B3%95"><span class="nav-number">11.14.4.</span> <span class="nav-text">常用拷贝和替换算法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#copy"><span class="nav-number">11.14.4.1.</span> <span class="nav-text">copy</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#replace"><span class="nav-number">11.14.4.2.</span> <span class="nav-text">replace</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#replace-if"><span class="nav-number">11.14.4.3.</span> <span class="nav-text">replace_if</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#swap"><span class="nav-number">11.14.4.4.</span> <span class="nav-text">swap</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%AE%97%E6%9C%AF%E7%94%9F%E6%88%90%E7%AE%97%E6%B3%95"><span class="nav-number">11.14.5.</span> <span class="nav-text">常用算术生成算法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#accumulate"><span class="nav-number">11.14.5.1.</span> <span class="nav-text">accumulate</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#fill"><span class="nav-number">11.14.5.2.</span> <span class="nav-text">fill</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E9%9B%86%E5%90%88%E7%AE%97%E6%B3%95"><span class="nav-number">11.14.6.</span> <span class="nav-text">常用的集合算法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#set-intersection"><span class="nav-number">11.14.6.1.</span> <span class="nav-text">set_intersection</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#set-union"><span class="nav-number">11.14.6.2.</span> <span class="nav-text">set_union</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#set-difference"><span class="nav-number">11.14.6.3.</span> <span class="nav-text">set_difference</span></a></li></ol></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="John Chen"
      src="/images/awa.png">
  <p class="site-author-name" itemprop="name">John Chen</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">6</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/JOHNCHEN27" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;JOHNCHEN27" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Chen</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">138k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">2:06</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  


<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>

</body>
</html>
